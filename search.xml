<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>My First Post</title>
    <url>/2024/07/25/2024-07-25-the-First-One-2024/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Hey"><a href="#Hey" class="headerlink" title="Hey"></a>Hey</h2><blockquote>
<p>&#x8FD9;&#x662F;&#x6211;&#x7684;&#x7B2C;&#x4E00;&#x7BC7;&#x535A;&#x5BA2;&#x3002;</p>
</blockquote>
<h3 id="preface"><a href="#preface" class="headerlink" title="preface"></a>preface</h3><p>In the first blog I want to talk about methods of primitives.We know objects have methods and in javascript we have the power to treat them as they were objects.</p>
<span id="more"></span>

<h3 id="first-why-we-want-to-treat-primitives-like-objects"><a href="#first-why-we-want-to-treat-primitives-like-objects" class="headerlink" title="first why we want to treat primitives like objects"></a>first why we want to treat primitives like objects</h3><p>There are many things one would want to do with a primitive, like a string or a number. It would be great to access them using methods.</p>
<hr>

<p>We should know the respective specialities of primitive and object before we want to combine the speciality in object(have methods) into the mechanism of primitive</p>
<h3 id="the-distinctions-between-primitive-and-object"><a href="#the-distinctions-between-primitive-and-object" class="headerlink" title="the distinctions between primitive and object"></a>the distinctions between primitive and object</h3><h4 id="primitive"><a href="#primitive" class="headerlink" title="primitive"></a>primitive</h4><p>is a value of the basic type <code>string</code>, <code>number</code>, <code>bigint</code>, <code>boolean</code>, <code>symbol</code>, <code>null</code> and <code>undefined</code>.<br>So it&#x2019;s light-weight.</p>
<h4 id="object"><a href="#object" class="headerlink" title="object"></a>object</h4><p>object is capable to store mutiple values as their &#x201C;properties&#x201D;</p>
<p>there is a <strong>superiority</strong> of object that is : we can insert or store a function into a property</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> object = {</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;jack&quot;</span>,</span><br><span class="line">  <span class="attr">sayhi</span>: <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">  },</span><br><span class="line">};</span><br></pre></td></tr></table></figure>

<h4 id="So-Objects-are-&#x201C;heavier&#x201D;-than-primitives-They-require-additional-resources-to-support-the-internal-machinery"><a href="#So-Objects-are-&#x201C;heavier&#x201D;-than-primitives-They-require-additional-resources-to-support-the-internal-machinery" class="headerlink" title="So Objects are &#x201C;heavier&#x201D; than primitives. They require additional resources to support the internal machinery."></a>So Objects are &#x201C;heavier&#x201D; than primitives. They require additional resources to support the internal machinery.</h4><p>Then we manage to add the speciality into primitive which is being able to use &#x201C;.&#x201D; to invoke some methods.</p>
<h3 id="How-to-accomplish-that-treat-primitives-like-objects"><a href="#How-to-accomplish-that-treat-primitives-like-objects" class="headerlink" title="How to accomplish that : treat primitives like objects"></a>How to accomplish that : treat primitives like objects</h3><p>With the speciality added,</p>
<p>we also want to keep primitives lightweight In the meantime.</p>
<p>So here we think :Only When we want to operate primitives with methods they are objects And When we don&#x2019;t need that they change back to primitive (So that they can provide methods, but they still remain lightweight)<br>So flexible!</p>
<p>In order to do that :<strong>a special &#x201C;object wrapper&#x201D; that provides the extra functionality is created, and then is destroyed.</strong></p>
<h4 id="Dive-in"><a href="#Dive-in" class="headerlink" title="Dive in"></a>Dive in</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">let str = &quot;Hello&quot;;</span><br><span class="line"></span><br><span class="line">alert( str.toUpperCase() ); // HELLO</span><br></pre></td></tr></table></figure>

<ol>
<li>The string <code>str</code> is a primitive. So in the moment of accessing its property, a special object is created that <strong>knows the value of the string</strong>, and has useful methods, like <code>toUpperCase()</code>.</li>
<li>That method runs and returns a new string (shown by <code>alert</code>).</li>
<li>The special object is destroyed, leaving the primitive <code>str</code> alone.</li>
</ol>
<p>Which means something besides the simple and standalone value is actually created!</p>
<h4 id="Some-details-to-supplementary"><a href="#Some-details-to-supplementary" class="headerlink" title="Some details to supplementary"></a>Some details to supplementary</h4><ol>
<li><p><strong>null/undefined have no methods</strong><br>In a sense, they are &#x201C;the most primitive&#x201D;.</p>
</li>
<li><p>using the same functions <code>String/Number/Boolean</code> without <code>new</code> is totally fine and useful thing. They convert a value to the corresponding type: to a string, a number, or a boolean (primitive).</p>
<p>For example, this is entirely valid:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="title class_">Number</span>(<span class="string">&quot;123&quot;</span>); <span class="comment">// convert a string to number</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Still !! <strong>primitives are not objects.</strong> which means they can&#x2019;t store additional data</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">let str = &quot;Hello&quot;;</span><br><span class="line"></span><br><span class="line">str.test = 5;</span><br><span class="line"></span><br><span class="line">alert(str.test);</span><br></pre></td></tr></table></figure>

<p>the result will be</p>
<ol>
<li><code>undefined</code> (no strict mode)</li>
<li>An error (strict mode).</li>
</ol>
<p>The reason is that &#x201C;wrapper object&#x201D; :<br>when you use &#x201C;.&#x201D; after &#x201C;str&#x201D; (in other words when you wanna access the &#x201C;str&#x201D;) the &#x201C;wrapper object&#x201D; is created.</p>
<ol>
<li>in &#x201C;no strict mode&#x201D; it carries the &#x201C;test&#x201D; property but remember it will disappear When you see the &#x201C;;&#x201D; after&#x201D;5;&#x201D; it disappears. So you won&#x2019;t have the trace of the &#x201C;wrapper object&#x201D; .It vanishes with no trace. So you could only get &#x201C;undefined&#x201D;</li>
<li>in &#x201C;strict mode&#x201D; : there is a red flag or a Rule that cannot be crossed : you can&#x2019;t write into &#x201C;wrapper object&#x201D; So An error</li>
</ol>
]]></content>
      <categories>
        <category>Front-end</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
        <tag>data types</tag>
        <tag>数据类型</tag>
      </tags>
  </entry>
  <entry>
    <title>Promise</title>
    <url>/2024/07/27/2024-07-27-Promise-2024/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h1><h2 id="Preface-Scene-Imagination-lead-to-Promise"><a href="#Preface-Scene-Imagination-lead-to-Promise" class="headerlink" title="Preface:Scene Imagination lead to Promise"></a>Preface:Scene Imagination lead to Promise</h2><blockquote>
<p>Imagine that you&#x2019;re a top singer, and fans ask day and night for your upcoming song.</p>
</blockquote>
<span id="more"></span>

<blockquote>
<p>To get some relief, you promise to send it to them when it&#x2019;s published. You give your fans a list. They can fill in their email addresses, so that when the song becomes available, all subscribed parties instantly receive it. And even if something goes very wrong, say, a fire in the studio, so that you can&#x2019;t publish the song, they will still be notified.</p>
</blockquote>
<p>For the first sight:1.What?Promise is made by the singer and<br>2.Why?it&#x2019;s produced because the result can&#x2019;t be immediate.<br>3.Efficacy?And promise connects singer and prospective subcribers. and makes it possible for the existence of delay.So it&#x2019;s actually for dealing tasks that requires <strong>time</strong>.</p>
<p>And To map to concepts about Promise :</p>
<ol>
<li>&#x201C;A producing code&#x201D; is the singer. It can&#x2019;t immediately give program-flow or another-code a result so that program-flow can proceed So it make a <em>promise</em> .<br>What may be the &#x201C;producing code&#x201D; :For instance, some code that loads the data over a network and that takes <strong>time</strong></li>
<li>A &#x201C;consuming code&#x201D;(another-code that mentioned above) that wants the result of the &#x201C;producing code&#x201D; once it&#x2019;s ready(for inputing paramters or something else) .These are the &#x201C;fans&#x201D;.</li>
<li><strong>A <em>promise</em> is a special JavaScript</strong> object that links the &#x201C;producing code&#x201D; and the &#x201C;consuming code&#x201D; together. In terms of our analogy: this is the &#x201C;subscription list&#x201D;. The &#x201C;producing code&#x201D; takes whatever time it needs to produce the promised result, and the &#x201C;promise&#x201D; makes that result available to all of the subscribed code when it&#x2019;s ready.</li>
</ol>
<h2 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h2><p>The constructor syntax for a promise object is:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) {</span><br><span class="line">  <span class="comment">// executor (the producing code, &quot;singer&quot;)</span></span><br><span class="line">});</span><br></pre></td></tr></table></figure>

<p>To explain:</p>
<ol>
<li><p>The function passed to <code>new Promise</code> is called the <em>executor</em>.</p>
<p>When <code>new Promise</code> is created, the executor runs <strong>automatically</strong>(this is a func don&#x2019;t need to be called by&#x201D;()&#x201D;). It contains the producing code which should eventually produce the result. In terms of the analogy above: the executor is the &#x201C;singer&#x201D;.</p>
</li>
<li><p>Its arguments <code>resolve</code> and <code>reject</code> are callbacks provided by JavaScript itself.</p>
</li>
<li><p>When the executor obtains the result, be it soon or late, doesn&#x2019;t matter,it should call one of these callbacks:</p>
<ul>
<li><p><code>resolve(value)</code> &#x2014; if the job is finished successfully, with result <code>value</code>.</p>
</li>
<li><p><code>reject(error)</code> &#x2014; if an error has occurred, <code>error</code> is a Error object.<br>To supplementay:</p>
<blockquote>
<p>[!CAUTION]</p>
<p>The executor receives two arguments: <code>resolve</code> and <code>reject</code>. These functions are pre-defined by the JavaScript engine, so we don&#x2019;t need to create them. We should only call one of them when ready.<br>the executor may calls <code>resolve(&quot;done&quot;)</code> to produce the <strong>result</strong>(remember above we said the executor should eventually produce the result? Yeah it can be done by calling resolve)</p>
</blockquote>
</li>
</ul>
</li>
<li><p>So to summarize: the executor runs automatically and attempts to perform a job. When it is finished with the attempt, it calls <code>resolve</code> if it was successful or <code>reject</code> if there was an error.</p>
<blockquote>
<p>[!Important]</p>
<p>1.So Promise constructor requires a function that contains two built-in callbacks as paramter And the function is <em>the</em> executor<br>2.executor carries two callback that is ready to be called and then produces the <strong>result</strong><br>3.result exists relating to two possible state<br>4.what is eventually returned by this syntax constructor is actually a object which is the Promise. And result is just been carried with.</p>
</blockquote>
</li>
</ol>
<hr>

<p>To proceed:</p>
<p><strong>The <code>promise</code> object returned</strong> by the <code>new Promise</code> constructor has these internal properties:</p>
<ul>
<li><code>state</code> &#x2014; initially <code>&quot;pending&quot;</code>, then changes to either <code>&quot;fulfilled&quot;</code> when <code>resolve</code> is called or <code>&quot;rejected&quot;</code> when <code>reject</code> is called.</li>
<li><code>result</code> &#x2014; initially <code>undefined</code>, then changes to <code>value</code> when <code>resolve(value)</code> is called or <code>error</code> when <code>reject(error)</code> is called.</li>
</ul>
<p>So the executor eventually moves <code>promise</code> to one of these states:<img src="/2024/07/27/2024-07-27-Promise-2024/07/27/2024-07-27-Promise-2024/GitHub%20download/typora/%E6%96%87%E4%BB%B6%E9%9B%86%E5%90%88/Blogs/Promise/Promise.assets/image-20240727013201754.png" alt="image-20240727013201754"></p>
<p>and if we successfully produce the result which the consuming codes are craving for. It turned like this:<img src="/2024/07/27/2024-07-27-Promise-2024/07/27/2024-07-27-Promise-2024/GitHub%20download/typora/%E6%96%87%E4%BB%B6%E9%9B%86%E5%90%88/Blogs/Promise/Promise.assets/image-20240727014147939.png" alt="image-20240727014147939"></p>
<p>A promise that is either fulfilled or rejected is called &#x201C;settled&#x201D;, as opposed to an initially &#x201C;pending&#x201D; promise.</p>
<h2 id="To-be-noted-fundamental"><a href="#To-be-noted-fundamental" class="headerlink" title="To be noted (fundamental)"></a>To be noted (fundamental)</h2><ol>
<li><strong>There can be only a single result or an error</strong></li>
</ol>
<p>The executor should call only one <code>resolve</code> or one <code>reject</code>. <strong>Any state change is final.</strong></p>
<p>All further calls of <code>resolve</code> and <code>reject</code> are ignored:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) {</span><br><span class="line">  <span class="title function_">resolve</span>(<span class="string">&quot;done&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;&#x2026;&quot;</span>)); <span class="comment">// ignored</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(<span class="string">&quot;&#x2026;&quot;</span>)); <span class="comment">// ignored</span></span><br><span class="line">});</span><br></pre></td></tr></table></figure>

<p>Also, <code>resolve</code>/<code>reject</code> expect only one argument <strong>(or none)</strong> and will ignore additional arguments.</p>
<ol start="2">
<li><p><strong>A good habit:Reject with</strong> <code>Error</code> <strong>objects</strong></p>
<p>In case something goes wrong, the executor should call <code>reject</code>. That can be done with any type of argument (just like <code>resolve</code>). But it is recommended to use <code>Error</code> objects (or objects that inherit from <code>Error</code>)<br>To explain: <code>reject(new Errror(&apos;wrong&apos;))</code> is better than <code>reject(&apos;wrong&apos;)</code></p>
</li>
<li><blockquote>
<p>[!NOTE]</p>
<p><strong>The</strong> <code>state</code> <strong>and</strong> <code>result</code> <strong>are internal</strong></p>
</blockquote>
<p>Which means :<code>state</code> and <code>result</code> of the Promise object can&#x2019;t be directly accessed.Accessing has to be done bymethods <code>.then</code>/<code>.catch</code>/<code>.finally</code> &#xFF08;They are described below.&#xFF09;</p>
</li>
</ol>
<h2 id="Consumers-then-catch"><a href="#Consumers-then-catch" class="headerlink" title="Consumers:then catch"></a>Consumers:then catch</h2><p>As you might have comprehensed by now: A Promise object <strong>serves as a link</strong> between the executor (the &#x201C;producing code&#x201D; or &#x201C;singer&#x201D;) and the consuming functions (the &#x201C;fans&#x201D;) which will receive the result or error.It actually bond these two togther <strong>by something.</strong></p>
<p>Something(mentioned above) is methods <code>.then</code> and <code>.catch</code>.</p>
<h3 id="then"><a href="#then" class="headerlink" title="then"></a>then</h3><p>The syntax is:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">promise.<span class="title function_">then</span>(</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">result</span>) {</span><br><span class="line">    <span class="comment">/* handle a successful result */</span></span><br><span class="line">  },</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">error</span>) {</span><br><span class="line">    <span class="comment">/* handle an error */</span></span><br><span class="line">  }</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>See? The promise comes from a producing code (executor)<br>(In case you forget):</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) {</span><br><span class="line">  <span class="comment">// executor (the producing code, &quot;singer&quot;)</span></span><br><span class="line">});</span><br></pre></td></tr></table></figure>

<p>And it serves as a link And it uses then/catch methods to connect with the consuming functions (that desperate to receive a result or a error)<br>You can see the consuming functions as the one above</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span>(<span class="params">result</span>) { <span class="comment">/* handle a successful result */</span> },</span><br><span class="line"><span class="keyword">function</span>(<span class="params">error</span>) { <span class="comment">/* handle an error */</span> }</span><br></pre></td></tr></table></figure>

<blockquote>
<p>[!NOTE]</p>
<p>the then methods <strong>could</strong> specify two functions:1.one for the success result 2. one for the rejected error</p>
</blockquote>
<blockquote>
<p>[!TIP]</p>
<p>If we&#x2019;re interested to see successful completions(what&#x2019;s in resolve)<br>we can provide only one function argument to <code>.then</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> {</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(<span class="string">&quot;done!&quot;</span>), <span class="number">1000</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">then</span>(alert); <span class="comment">// shows &quot;done!&quot; after 1 second</span></span><br></pre></td></tr></table></figure>

<p>because in then handler <strong>promise.result</strong> is passed as paramter</p>
</blockquote>
<h3 id="catch"><a href="#catch" class="headerlink" title="catch"></a>catch</h3><p>catch only for error</p>
<p>If we&#x2019;re interested only in errors, then we can use <code>null</code> as the first argument: <code>.then(null, errorHandlingFunction)</code>. Or we can use <code>.catch(errorHandlingFunction)</code>, which is exactly the same:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Whoops!&quot;</span>)), <span class="number">1000</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">// .catch(f) is the same as promise.then(null, f)</span></span><br><span class="line">promise.<span class="title function_">catch</span>(alert); <span class="comment">// shows &quot;Error: Whoops!&quot; after 1 second</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>[!CAUTION]</p>
<p>The call <code>.catch(f)</code> is a complete analog of <code>.then(null, f)</code>, it&#x2019;s just a shorthand.</p>
</blockquote>
<h2 id="finally"><a href="#finally" class="headerlink" title="finally"></a>finally</h2><p>The call <code>.finally(f)</code> is similar to <code>.then(f, f)</code> in the sense that <code>f</code> runs always, when the promise is settled: be it resolve or reject.</p>
<h3 id="Why-need-finally"><a href="#Why-need-finally" class="headerlink" title="Why need finally"></a>Why need finally</h3><p>The idea of <code>finally</code> is to set up a handler for performing cleanup/finalizing after the previous operations are complete.<br><code>finally</code> &#x7684;&#x60F3;&#x6CD5;&#x662F;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x524D;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x540E;&#x6267;&#x884C;&#x6E05;&#x7406;/&#x7EC8;&#x7ED3;&#x3002;<br>Because in real-life code after promise is produced,something should be close or clean up.</p>
<blockquote>
<p>[!NOTE]</p>
<p>a handler is function in promise-chain but a object in Proxy(,handler) Its translation in Chinese is &#x201C;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x201D;</p>
</blockquote>
<p>E.g. stopping loading indicators, closing no longer needed connections, etc.</p>
<p>Think of it as a party finisher. No matter was a party good or bad, how many friends were in it, we still need (or at least should) do a cleanup after it.</p>
<h3 id="syntax"><a href="#syntax" class="headerlink" title="syntax"></a>syntax</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">  <span class="comment">/* do something that takes time, and then call resolve or maybe reject */</span></span><br><span class="line">})</span><br><span class="line">  <span class="comment">// runs when the promise is settled, doesn&apos;t matter successfully or not</span></span><br><span class="line">  .<span class="title function_">finally</span>(<span class="function">() =&gt;</span> stop loading indicator)</span><br><span class="line">  <span class="comment">// so the loading indicator is always stopped before we go on</span></span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> show result, <span class="function"><span class="params">err</span> =&gt;</span> show error)</span><br></pre></td></tr></table></figure>

<h3 id="Differences-between-finally-f-and-then-f-f"><a href="#Differences-between-finally-f-and-then-f-f" class="headerlink" title="Differences between finally(f) and then(f,f)"></a>Differences between finally(f) and then(f,f)</h3><ol>
<li><p>A <code>finally</code> handler has no arguments.</p>
<blockquote>
<p>[!NOTE]</p>
<p>In <code>finally</code> we don&#x2019;t know and we shouldn&#x2019;t know whether the promise is successful or not.</p>
</blockquote>
<p>That&#x2019;s all right, as our task is usually to perform &#x201C;general&#x201D; <strong>finalizing</strong> procedures.(=producing promise procedure cause when you created the state-change is <strong>final</strong>)</p>
<p>take a look at the example above: as you can see, the <code>finally</code> handler has no arguments, and the promise outcome is handled by the next handler.</p>
</li>
<li><p>A <code>finally</code> handler <strong>&#x201C;passes through&#x201D;</strong> the result or error to the next suitable handler.</p>
<p>For instance, here the result is passed through <code>finally</code> to <code>then</code>:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(<span class="string">&quot;value&quot;</span>), <span class="number">2000</span>);</span><br><span class="line">})</span><br><span class="line">  .<span class="title function_">finally</span>(<span class="function">() =&gt;</span> <span class="title function_">alert</span>(<span class="string">&quot;Promise ready&quot;</span>)) <span class="comment">// triggers first</span></span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="title function_">alert</span>(result)); <span class="comment">// &lt;-- .then shows &quot;value&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><blockquote>
<p>[!IMPORTANT]</p>
<p>That&#x2019;s very convenient, because <code>finally</code> is <strong>not meant to</strong> process a promise result (the treasure produced). As said, it&#x2019;s a place to do generic cleanup, no matter what the outcome was.</p>
</blockquote>
</li>
<li><p>A <code>finally</code> handler also shouldn&#x2019;t return anything. If it does, the returned value is silently ignored.</p>
<blockquote>
<p>[!WARNING]</p>
<p>The only exception to this rule is when a <code>finally</code> handler throws an error. Then this error goes to the next handler, instead of any previous outcome.</p>
</blockquote>
</li>
</ol>
<blockquote>
<p>[!IMPORTANT]</p>
<p>Sum up finally :<br>finally is <strong>just</strong> a dutiful cleaner lady.<br>Only pass promise.result and clean<br>don&#x2019;t receive (paramter) don&#x2019;t return don&#x2019;t know (what&#x2019;s going on about promise)<br>it runs regardlessly and ensures that a piece of code executes no matter what the outcome of the promise is.<br>But If cleaning-machine malfunctions throw a Error</p>
</blockquote>
<blockquote>
<p>[!TIP]</p>
<h2 id="handlers"><a href="#handlers" class="headerlink" title="handlers"></a>handlers</h2><p>To supplementary: finally and then-catch (which means all handlers)all operate on Promise object<br>And The premise that they run is Promise object which just produced,or you can say the state of Promise object is settled<br>In below&#x2019;s case they run immediately</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// the promise becomes resolved immediately upon creation</span></span><br><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="title function_">resolve</span>(<span class="string">&quot;done!&quot;</span>));</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">then</span>(alert); <span class="comment">// done! (shows up right now)</span></span><br></pre></td></tr></table></figure>

<p>Note that this makes promises more powerful than the real life &#x201C;subscription list&#x201D; scenario. If the singer has already released their song before a person signs up on the subscription list, they probably won&#x2019;t receive that song. Subscriptions in real life must be done prior to the event.<br>&#x8BA2;&#x9605;&#x53D1;&#x751F;&#x5728;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x4E4B;&#x524D;</p>
</blockquote>
<blockquote>
<p>[!IMPORTANT]</p>
<p>Sum up handler:<br>1.operate on Promise object<br>2.when &#x201C;.handler&#x201D; &#x2018;s front is a promise fully formed,handler runs immediately</p>
</blockquote>
<h2 id="eg1-loadScript"><a href="#eg1-loadScript" class="headerlink" title="eg1:loadScript"></a>eg1:loadScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">loadScript</span>(<span class="params">src, callback</span>) {</span><br><span class="line">  <span class="keyword">let</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">  script.<span class="property">src</span> = src;</span><br><span class="line"></span><br><span class="line">  script.<span class="property">onload</span> = <span class="function">() =&gt;</span> <span class="title function_">callback</span>(<span class="literal">null</span>, script); <span class="comment">//The moment when script loads successfully the callback runs</span></span><br><span class="line">  script.<span class="property">onerror</span> = <span class="function">() =&gt;</span> <span class="title function_">callback</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`Script load error for <span class="subst">${src}</span>`</span>)); <span class="comment">//The moment when script loads fail</span></span><br><span class="line"></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">head</span>.<span class="title function_">append</span>(script);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>[!NOTE]</p>
<ol>
<li>the onload and onerror methods of A script element (Actually HTML-Element is built-in object) implies what will happen when script loads successfully or fail</li>
<li>To put callback directly in this position(right after &#x201C;()=&gt;&#x201D;) doesn&#x2019;t invoke the callback immediately; it just assigns it as the handler for the event.So when the event occurs callback is invoked automatically</li>
</ol>
</blockquote>
<p>Let&#x2019;s rewrite it using Promises.</p>
<p>The new function <code>loadScript</code> will not require a callback. Instead, it will create and return a Promise object that resolves when the loading is complete. The outer code can add handlers (subscribing functions) to it using <code>.then</code>:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">loadScript</span>(<span class="params">src</span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) {</span><br><span class="line">    <span class="keyword">let</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">    script.<span class="property">src</span> = src;</span><br><span class="line"></span><br><span class="line">    script.<span class="property">onload</span> = <span class="function">() =&gt;</span> <span class="title function_">resolve</span>(script);</span><br><span class="line">    script.<span class="property">onerror</span> = <span class="function">() =&gt;</span> <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`Script load error for <span class="subst">${src}</span>`</span>));</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">head</span>.<span class="title function_">append</span>(script);</span><br><span class="line">  });</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> promise = <span class="title function_">loadScript</span>(</span><br><span class="line">  <span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.js&quot;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">then</span>(</span><br><span class="line">  <span class="function">(<span class="params">script</span>) =&gt;</span> <span class="title function_">alert</span>(<span class="string">`<span class="subst">${script.src}</span> is loaded!`</span>),</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> <span class="title function_">alert</span>(<span class="string">`Error: <span class="subst">${error.message}</span>`</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function">(<span class="params">script</span>) =&gt;</span> <span class="title function_">alert</span>(<span class="string">&quot;Another handler...&quot;</span>));</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">Promises</th>
<th align="left">Callbacks</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Promises allow us to do things in the natural order. First, we run <code>loadScript(script)</code>, and <code>.then</code> we write what to do with the result.</td>
<td align="left">We must have a <code>callback</code> function at our disposal when calling <code>loadScript(script, callback)</code>. In other words, we must know what to do with the result <em>before</em> <code>loadScript</code> is called.</td>
</tr>
<tr>
<td align="left">We can call <code>.then</code> on a Promise as many times as we want. Each time, we&#x2019;re adding a new &#x201C;fan&#x201D;, a new subscribing function, to the &#x201C;subscription list&#x201D;.</td>
<td align="left">There can be only one callback.</td>
</tr>
</tbody></table>
<h2 id="eg2-delay-using-promise"><a href="#eg2-delay-using-promise" class="headerlink" title="eg2:delay using promise"></a>eg2:delay using promise</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">delay</span>(<span class="params">ms</span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="built_in">setTimeout</span>(resolve, ms));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="title function_">delay</span>(<span class="number">3000</span>).<span class="title function_">then</span>(<span class="function">() =&gt;</span> <span class="title function_">alert</span>(<span class="string">&quot;runs after 3 seconds&quot;</span>));</span><br></pre></td></tr></table></figure>

<h1 id="To-supplementay"><a href="#To-supplementay" class="headerlink" title="To supplementay"></a>To supplementay</h1><p>For a Promise<br>the state change of a Promise is a one-time thing.<br>And there are only two results:alive or dead<br>fulfilled or rejected</p>
]]></content>
      <categories>
        <category>Front-end</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
        <tag>Promise</tag>
      </tags>
  </entry>
  <entry>
    <title>Promise chainning</title>
    <url>/2024/07/28/2024-07-28-Promise-chainning-2024/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Promise-chainning"><a href="#Promise-chainning" class="headerlink" title="Promise chainning"></a>Promise chainning</h1><h2 id="what-is-Promise-chainning"><a href="#what-is-Promise-chainning" class="headerlink" title="what is Promise chainning"></a>what is Promise chainning</h2><p>A Promise-chain starts with <code>new Promise</code> constructor and use<code>then/catch</code> as middle-party to pass the <code>promise.result</code></p>
<span id="more"></span>

<p>which is formed like this:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) {</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(<span class="number">1</span>), <span class="number">1000</span>); <span class="comment">// (*)</span></span><br><span class="line">})</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">result</span>) {</span><br><span class="line">    <span class="comment">// (**)</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">alert</span>(result); <span class="comment">// 1</span></span><br><span class="line">    <span class="keyword">return</span> result * <span class="number">2</span>;</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">result</span>) {</span><br><span class="line">    <span class="comment">// (***)</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">alert</span>(result); <span class="comment">// 2</span></span><br><span class="line">    <span class="keyword">return</span> result * <span class="number">2</span>;</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">result</span>) {</span><br><span class="line">    <span class="title function_">alert</span>(result); <span class="comment">// 4</span></span><br><span class="line">    <span class="keyword">return</span> result * <span class="number">2</span>;</span><br><span class="line">  });</span><br></pre></td></tr></table></figure>

<h2 id="why-it&#x2019;s-created"><a href="#why-it&#x2019;s-created" class="headerlink" title="why it&#x2019;s created"></a>why it&#x2019;s created</h2><p>We have a sequence of asynchronous tasks needed to be performed one after another In other words:When dealing with tasks that have sequencial order<br>for instance, loading scripts.<br>we can&#x2019;t hold all tasks in one &#x201C;then&#x201D; handler<br>It&#x2019;s known that When a handler returns a value, it becomes the result of that promise and in this chainning system<br>the promise holding a value peformed by the last handler become the input of next handler</p>
<p>analogy:<br>If you look at this in a broad way<br>you can see Promise keep a emerge-dive pattern like a joyful fish<br>The Promise-wrapper is the same just the inside-value(or result) changes each time emerge-dive</p>
<h2 id="returning-promise"><a href="#returning-promise" class="headerlink" title="returning promise"></a>returning promise</h2><p>A handler, used in <code>.then(handler)</code> may create and return a promise.<br>In that case further handlers <strong>wait</strong> until it settles, and then get its result.</p>
<p>For instance:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) {</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(<span class="number">1</span>), <span class="number">1000</span>);</span><br><span class="line">})</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">result</span>) {</span><br><span class="line">    <span class="title function_">alert</span>(result); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">      <span class="comment">// (*)</span></span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(result * <span class="number">2</span>), <span class="number">1000</span>);</span><br><span class="line">    });</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">result</span>) {</span><br><span class="line">    <span class="comment">// (**)</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">alert</span>(result); <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(result * <span class="number">2</span>), <span class="number">1000</span>);</span><br><span class="line">    });</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">result</span>) {</span><br><span class="line">    <span class="title function_">alert</span>(result); <span class="comment">// 4</span></span><br><span class="line">  });</span><br></pre></td></tr></table></figure>

<blockquote>
<p>[!NOTE]</p>
<p>In <code>then</code> handler if you return a value the value become a Promise for the next <code>then</code><br>But returning a Promise seems more reasonable</p>
</blockquote>
<p>So the output is the same as in the previous example: 1 &#x2192; 2 &#x2192; 4, but now with 1 second delay between <code>alert</code> calls.</p>
<h2 id="Here-we-go-Useful-example-loadscript"><a href="#Here-we-go-Useful-example-loadscript" class="headerlink" title="Here we go ! Useful example : loadscript"></a>Here we go ! Useful example : loadscript</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">loadScript</span>(<span class="string">&quot;/article/promise-chaining/one.js&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">script</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">loadScript</span>(<span class="string">&quot;/article/promise-chaining/two.js&quot;</span>);</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">script</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">loadScript</span>(<span class="string">&quot;/article/promise-chaining/three.js&quot;</span>);</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">script</span>) {</span><br><span class="line">    <span class="comment">// use functions declared in scripts</span></span><br><span class="line">    <span class="comment">// to show that they indeed loaded</span></span><br><span class="line">    <span class="title function_">one</span>();</span><br><span class="line">    <span class="title function_">two</span>();</span><br><span class="line">    <span class="title function_">three</span>();</span><br><span class="line">  });</span><br></pre></td></tr></table></figure>

<p>This code can be made bit shorter with arrow functions:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">loadScript</span>(<span class="string">&quot;/article/promise-chaining/one.js&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">script</span>) =&gt;</span> <span class="title function_">loadScript</span>(<span class="string">&quot;/article/promise-chaining/two.js&quot;</span>))</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">script</span>) =&gt;</span> <span class="title function_">loadScript</span>(<span class="string">&quot;/article/promise-chaining/three.js&quot;</span>))</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">script</span>) =&gt;</span> {</span><br><span class="line">    <span class="comment">// scripts are loaded, we can use functions declared there</span></span><br><span class="line">    <span class="title function_">one</span>();</span><br><span class="line">    <span class="title function_">two</span>();</span><br><span class="line">    <span class="title function_">three</span>();</span><br><span class="line">  });</span><br></pre></td></tr></table></figure>

<h2 id="A-special-feature"><a href="#A-special-feature" class="headerlink" title="A special feature"></a>A special feature</h2><p><strong>This feature will allow us to integrate custom objects with promise chains without having to inherit from Promise</strong><br>What does above mean ? To understand that there should be a clarification:<br><strong>Actually in the promise-chain It&#x2019;s not promise that continuely flow up and down (return and input)(that means what the handler returns is not Promise ) It&#x2019;s another special object called <em>&#x201C;thenable&#x201D; object</em></strong><br>All the things we said above still <strong>valid</strong> because this &#x201C;thenable&#x201D; object has <em>.then</em> method and can be treated like Promise.So actually it gives us flexibilty!Because we can build like an architect on a object that has already implemented with basic Promise-function</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Thenable</span> {</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">num</span>) {</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">num</span> = num;</span><br><span class="line">  }</span><br><span class="line">  <span class="title function_">then</span>(<span class="params">resolve, reject</span>) {</span><br><span class="line">    <span class="title function_">alert</span>(resolve); <span class="comment">// function() { native code }</span></span><br><span class="line">    <span class="comment">// resolve with this.num*2 after the 1 second</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(<span class="variable language_">this</span>.<span class="property">num</span> * <span class="number">2</span>), <span class="number">1000</span>); <span class="comment">// (**)</span></span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="title function_">resolve</span>(<span class="number">1</span>))</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Thenable</span>(result); <span class="comment">// (*)</span></span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">then</span>(alert); <span class="comment">// shows 2 after 1000ms</span></span><br></pre></td></tr></table></figure>

<p>JavaScript checks the object returned by the <code>.then</code> handler in line <code>(*)</code>: if it has a callable method named <code>then</code>, then it calls that method providing native functions <code>resolve</code>, <code>reject</code> as arguments (similar to an executor) and waits until one of them is called. In the example above <code>resolve(2)</code> is called after 1 second <code>(**)</code>. Then the result is passed further down the chain.</p>
<blockquote>
<p>[!TIP]</p>
<p>A Thenable class should still define the <code>then</code> method inside<br>And what is passed into the constructor is actually the <code>promise.result</code></p>
</blockquote>
<h2 id="example-associated-with-fetch"><a href="#example-associated-with-fetch" class="headerlink" title="example associated with fetch"></a>example associated with <em>fetch</em></h2><p>We&#x2019;ll use the <a href="https://javascript.info/fetch">fetch</a> method to load the information about the user from the remote server. It has a lot of optional parameters covered in <a href="https://javascript.info/fetch">separate chapters</a>, but the basic syntax is quite simple:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> promise = <span class="title function_">fetch</span>(url);</span><br></pre></td></tr></table></figure>

<p>fetch(url) is saying :make a network request to the <code>url</code> and returns a promise. The promise resolves with a <code>response</code> object when the remote server responds with headers, but <em>before the full response is downloaded</em>.</p>
<blockquote>
<p>[!NOTE]</p>
<p>You haven&#x2019;t got the infomation now</p>
</blockquote>
<p>To read the full response, we should call the method <code>response.text()</code>: it returns a promise that resolves when the full text is downloaded from the remote server, with that text(information we require) as a result.</p>
<blockquote>
<p>[!NOTE]</p>
<p>So response is a promise and response.text() is also a promise</p>
</blockquote>
<p>The code below makes a request to <code>user.json</code> and loads its text from the server:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;/article/promise-chaining/user.json&quot;</span>)</span><br><span class="line">  <span class="comment">// .then below runs when the remote server responds</span></span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) {</span><br><span class="line">    <span class="comment">// response.text() returns a new promise that resolves with the full response text</span></span><br><span class="line">    <span class="comment">// when it loads</span></span><br><span class="line">    <span class="keyword">return</span> response.<span class="title function_">text</span>();</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">text</span>) {</span><br><span class="line">    <span class="comment">// ...and here&apos;s the content of the remote file</span></span><br><span class="line">    <span class="title function_">alert</span>(text); <span class="comment">// {&quot;name&quot;: &quot;iliakan&quot;, &quot;isAdmin&quot;: true}</span></span><br><span class="line">  });</span><br></pre></td></tr></table></figure>

<p>The <code>response</code> object returned from <code>fetch</code> also includes the method <code>response.json()</code> that reads the remote data and parses it as JSON. In our case that&#x2019;s even more convenient</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// same as above, but response.json() parses the remote content as JSON</span></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;/article/promise-chaining/user.json&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> response.<span class="title function_">json</span>())</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">user</span>) =&gt;</span> <span class="title function_">alert</span>(user.<span class="property">name</span>)); <span class="comment">// iliakan, got user name</span></span><br></pre></td></tr></table></figure>

<p>let&#x2019;s see a more complex one :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Make a request for user.json</span></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;/article/promise-chaining/user.json&quot;</span>)</span><br><span class="line">  <span class="comment">// Load it as json</span></span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> response.<span class="title function_">json</span>())</span><br><span class="line">  <span class="comment">// Make a request to GitHub</span></span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">user</span>) =&gt;</span> <span class="title function_">fetch</span>(<span class="string">`https://api.github.com/users/<span class="subst">${user.name}</span>`</span>))</span><br><span class="line">  <span class="comment">// Load the response as json</span></span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> response.<span class="title function_">json</span>())</span><br><span class="line">  <span class="comment">// Show the avatar image (githubUser.avatar_url) for 3 seconds (maybe animate it)</span></span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">githubUser</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">let</span> img = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">    img.<span class="property">src</span> = githubUser.<span class="property">avatar_url</span>;</span><br><span class="line">    img.<span class="property">className</span> = <span class="string">&quot;promise-avatar-example&quot;</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">append</span>(img);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> img.<span class="title function_">remove</span>(), <span class="number">3000</span>); <span class="comment">// (*)</span></span><br><span class="line">  });</span><br></pre></td></tr></table></figure>

<p>this works but below is much better :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;/article/promise-chaining/user.json&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> response.<span class="title function_">json</span>())</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">user</span>) =&gt;</span> <span class="title function_">fetch</span>(<span class="string">`https://api.github.com/users/<span class="subst">${user.name}</span>`</span>))</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> response.<span class="title function_">json</span>())</span><br><span class="line">  .<span class="title function_">then</span>(</span><br><span class="line">    <span class="function">(<span class="params">githubUser</span>) =&gt;</span></span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) {</span><br><span class="line">        <span class="comment">// (*)</span></span><br><span class="line">        <span class="keyword">let</span> img = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">        img.<span class="property">src</span> = githubUser.<span class="property">avatar_url</span>;</span><br><span class="line">        img.<span class="property">className</span> = <span class="string">&quot;promise-avatar-example&quot;</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">append</span>(img);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">          img.<span class="title function_">remove</span>();</span><br><span class="line">          <span class="title function_">resolve</span>(githubUser); <span class="comment">// (**)</span></span><br><span class="line">        }, <span class="number">3000</span>);</span><br><span class="line">      })</span><br><span class="line">  )</span><br><span class="line">  <span class="comment">// triggers after 3 seconds</span></span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">githubUser</span>) =&gt;</span> <span class="title function_">alert</span>(<span class="string">`Finished showing <span class="subst">${githubUser.name}</span>`</span>));</span><br></pre></td></tr></table></figure>

<blockquote>
<p>[!CAUTION]</p>
<p>As a good practice, an asynchronous action should always return a promise.</p>
</blockquote>
<p>That makes it possible to plan actions after it; even if we don&#x2019;t plan to extend the chain now, we may need it later.</p>
<h2 id="When-should-you-consider-about-Promise"><a href="#When-should-you-consider-about-Promise" class="headerlink" title="When should you consider about Promise"></a>When should you consider about Promise</h2><p>In the last chapter <em>Promise</em> we bury a seed in the last.This is the position it should get settled<br>So promise is actually used in a situation : 1.the task is gonna need some time 2. there are two possible consequences of the task3.mostly have to do with networking connection<br>let us see some egs</p>
<ol>
<li><pre><code class="js">fetch(&quot;https://api.examplecom/data&quot;)
  .then((response) =&gt; response.json())
  .then((data) =&gt; console.log(data))
  .catch((error) =&gt; console.log(error));
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">   </span><br><span class="line">   fetch is a api that allows us to input a url as a door to get data and this api return a promise</span><br><span class="line">   (of course! 1.Getting is absolutely a task that requires some time2.two consequences : get it or miss it)</span><br><span class="line">   And during each level of the chain promise.result is passed as paramter for handler</span><br><span class="line"></span><br><span class="line">2. ```js</span><br><span class="line">   function LoadImage(url) {</span><br><span class="line">     return new Promise((resolve, reject) =&gt; {</span><br><span class="line">       const img = new Image(); //create a img</span><br><span class="line">       img.src = url;</span><br><span class="line">       img.onload = () =&gt; resolve(img);</span><br><span class="line">       img.onerror = () =&gt; reject(new Error(&quot;fail loading&quot;));</span><br><span class="line">     });</span><br><span class="line">   }</span><br><span class="line">   LoadImage(&quot;path/to/image.jpg&quot;)</span><br><span class="line">     .then((img) =&gt; document.body.appendChild(img))</span><br><span class="line">     .catch((error) =&gt; console.error(error));</span><br></pre></td></tr></table></figure>

Why do you need to bind functionc to events of img?
Cause two callback must be called .And when you wanna use then/catch handler to link the function(LoadImage).It should be a produced (fully formed)promise in front of these handlers
</code></pre>
</li>
<li><p>Custom Promise<br>Promise basically follow this pattern:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">if</span> (success) {</span><br><span class="line">      <span class="title function_">resolve</span>(result);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;error&quot;</span>));</span><br><span class="line">    }</span><br><span class="line">  });</span><br><span class="line">}</span><br><span class="line"><span class="title function_">doSomething</span>()</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result))</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(error));</span><br></pre></td></tr></table></figure>
</li>
<li><p>Ajax with XMLHttpRequest</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">url</span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">    xhr.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>, url);</span><br><span class="line">    xhr.<span class="property">onload</span> = <span class="function">() =&gt;</span> <span class="title function_">resolve</span>(xhr.<span class="property">responseText</span>);</span><br><span class="line">    xhr.<span class="property">onerror</span> = <span class="function">() =&gt;</span> <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;ajax failed&quot;</span>));</span><br><span class="line">    xhr.<span class="title function_">send</span>();</span><br><span class="line">  });</span><br><span class="line">}</span><br><span class="line"><span class="title function_">ajax</span>(<span class="string">&quot;https://&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(data))</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(error));</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>Front-end</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
        <tag>Promise</tag>
      </tags>
  </entry>
  <entry>
    <title>Proxy</title>
    <url>/2024/10/23/2024-08-19-Proxy-2024/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h1><h2 id="what&#x2019;s-a-proxy"><a href="#what&#x2019;s-a-proxy" class="headerlink" title="what&#x2019;s a proxy"></a>what&#x2019;s a proxy</h2><p>a proxy is a object with a superpower of wrapping another object Like a trash wrapper <br></p>
<span id="more"></span>

<p>Not only wrap it but also protect it . The protecting way is to intercept the operations that are about to operate on the object that been wrapped inside For example reading/writing properties <br><br><strong>optionally handling them on Proxy&#x2019;s own</strong></p>
<h2 id="Proxy-syntax"><a href="#Proxy-syntax" class="headerlink" title="Proxy syntax"></a>Proxy syntax</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">let` proxy `=` `new` `Proxy``(`target`,` handler`)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>target</code> &#x2013; is an object to wrap, can be anything, including functions.</li>
<li><code>handler</code> &#x2013; proxy configuration: an object with &#x201C;traps&#x201D;, methods that intercept operations. &#x2013; e.g. <code>get</code> trap for reading a property of <code>target</code>, <code>set</code> trap for writing a property into <code>target</code>, and so on.</li>
</ul>
<p>For operations on <code>proxy</code>, if there&#x2019;s a corresponding trap in <code>handler</code>, then it runs<br>otherwise the operation is performed <strong>directly</strong> on <code>target</code>.</p>
<h3 id="A-proxy-with-no-&#x201C;traps&#x201D;-can-be-seen-as-the-object-inside-itself-OR-without-any-traps-proxy-is-a-transparent-wrapper-around-target"><a href="#A-proxy-with-no-&#x201C;traps&#x201D;-can-be-seen-as-the-object-inside-itself-OR-without-any-traps-proxy-is-a-transparent-wrapper-around-target" class="headerlink" title="A proxy with no &#x201C;traps&#x201D; can be seen as the object(inside) itself OR without any traps, proxy is a transparent wrapper around target"></a>A proxy with no &#x201C;traps&#x201D; can be seen as the object(inside) itself OR without any traps, <code>proxy</code> is a transparent wrapper around <code>target</code></h3><p>Below is the demonstration</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">let target = {};</span><br><span class="line">let proxy = new Proxy(target, {});</span><br><span class="line">proxy.test = 5; //set to proxy also set to target</span><br><span class="line">console.log(&quot;target.test is &quot;, target.test);</span><br></pre></td></tr></table></figure>

<p>As there are no traps, all operations on <code>proxy</code> are forwarded to <code>target</code>.</p>
<h3 id="What-can-we-intercept"><a href="#What-can-we-intercept" class="headerlink" title="What can we intercept"></a>What can we intercept</h3><p>For a object there are some so-called &#x201C;internal method&#x201D;<br><code>[[Get]]</code>, the internal method to read a property,<br><code>[[Set]]</code>, the internal method to write a property,</p>
<p><strong>Proxy traps intercept invocations of these methods</strong></p>
<p>They are listed in the <a href="https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots">Proxy specification</a> and in the table below.</p>
<h2 id="Internal-Method-and-handler-methods-and-Trigger-point"><a href="#Internal-Method-and-handler-methods-and-Trigger-point" class="headerlink" title="Internal Method and handler methods and Trigger-point"></a>Internal Method and handler methods and Trigger-point</h2><p><strong>For every internal method, there&#x2019;s a trap in this table: the name of the method that we can add to the <code>handler</code> parameter of <code>new Proxy</code> to intercept the operation</strong></p>
<h4 id="To-note"><a href="#To-note" class="headerlink" title="To note"></a>To note</h4><p>handler is a paramter in Proxy&#x2019;s constructor.It&#x2019;s a set including all the methods(we can call them Handler Methods)<br>And what&#x2019;s actually intercepting the specific operation?THE corresponding handler method!<br>How?When you trigger the internal method in THE object.</p>
<table>
<thead>
<tr>
<th align="left">Internal Method In object &#x5185;&#x90E8;&#x65B9;&#x6CD5;</th>
<th align="left">Handler Method In proxy &#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x65B9;&#x6CD5;</th>
<th align="left">Triggers when&#x2026; &#x89E6;&#x53D1;&#x65F6;&#x2026;</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>[[Get]]</code></td>
<td align="left"><code>get</code></td>
<td align="left">reading a property &#x8BFB;&#x53D6;&#x5C5E;&#x6027; use [ ] or . on a object</td>
</tr>
<tr>
<td align="left"><code>[[Set]]</code></td>
<td align="left"><code>set</code></td>
<td align="left">writing to a property &#x5199;&#x5165;&#x5C5E;&#x6027; .newproperty = /.push(for array) /unshift</td>
</tr>
<tr>
<td align="left"><code>[[HasProperty]]</code></td>
<td align="left"><code>has</code></td>
<td align="left"><code>in</code> operator <code>in</code> &#x8FD0;&#x7B97;&#x7B26;</td>
</tr>
<tr>
<td align="left"><code>[[Delete]]</code></td>
<td align="left"><code>deleteProperty</code></td>
<td align="left"><code>delete</code> operator <code>delete</code> &#x8FD0;&#x7B97;&#x7B26;</td>
</tr>
<tr>
<td align="left"><code>[[Call]]</code></td>
<td align="left"><code>apply</code></td>
<td align="left">function call &#x51FD;&#x6570;&#x8C03;&#x7528;</td>
</tr>
<tr>
<td align="left"><code>[[Construct]]</code></td>
<td align="left"><code>construct</code></td>
<td align="left"><code>new</code> operator <code>new</code> &#x8FD0;&#x7B97;&#x7B26;</td>
</tr>
<tr>
<td align="left"><code>[[GetPrototypeOf]]</code></td>
<td align="left"><code>getPrototypeOf</code></td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf">Object.getPrototypeOf &#x5BF9;&#x8C61;.getPrototypeOf</a></td>
</tr>
<tr>
<td align="left"><code>[[SetPrototypeOf]]</code></td>
<td align="left"><code>setPrototypeOf</code></td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf">Object.setPrototypeOf &#x5BF9;&#x8C61;.setPrototypeOf</a></td>
</tr>
<tr>
<td align="left"><code>[[IsExtensible]]</code></td>
<td align="left"><code>isExtensible</code></td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible">Object.isExtensible &#x5BF9;&#x8C61;&#x53EF;&#x6269;&#x5C55;</a></td>
</tr>
<tr>
<td align="left"><code>[[PreventExtensions]]</code></td>
<td align="left"><code>preventExtensions</code></td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions">Object.preventExtensions &#x5BF9;&#x8C61;.preventExtensions</a></td>
</tr>
<tr>
<td align="left"><code>[[DefineOwnProperty]]</code></td>
<td align="left"><code>defineProperty</code></td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">Object.defineProperty</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties">Object.defineProperties</a> &#x5BF9;&#x8C61;.defineProperty, &#x5BF9;&#x8C61;.defineProperties</td>
</tr>
<tr>
<td align="left"><code>[[GetOwnProperty]]</code></td>
<td align="left"><code>getOwnPropertyDescriptor</code></td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor">Object.getOwnPropertyDescriptor</a>, <code>for..in</code>, <code>Object.keys/values/entries</code> Object.getOwnPropertyDescriptor&#xFF0C; <code>for..in</code> &#xFF0C; <code>Object.keys/values/entries</code></td>
</tr>
<tr>
<td align="left"><code>[[OwnPropertyKeys]]</code></td>
<td align="left"><code>ownKeys</code></td>
<td align="left"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames">Object.getOwnPropertyNames</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols">Object.getOwnPropertySymbols</a>, <code>for..in</code>, <code>Object.keys/values/entries</code> Object.getOwnPropertyNames&#x3001;Object.getOwnPropertySymbols&#x3001; <code>for..in</code> &#x3001; <code>Object.keys/values/entries</code></td>
</tr>
</tbody></table>
<h4 id="Notification"><a href="#Notification" class="headerlink" title="Notification"></a>Notification</h4><ul>
<li><code>[[Set]]</code> must return <code>true</code> if the value was written successfully, otherwise <code>false</code>.</li>
<li><code>[[Delete]]</code> must return <code>true</code> if the value was deleted successfully, otherwise <code>false</code>.</li>
</ul>
<h3 id="How-to-set-the-handler"><a href="#How-to-set-the-handler" class="headerlink" title="How to set the handler"></a>How to set the handler</h3><p>To intercept reading, the <code>handler</code> should have the so-called handler-method <code>get(target, property, receiver)</code> As we mentioned: <strong>It triggers when a property is read</strong></p>
<ul>
<li><code>target</code> &#x2013; is the target object, the one passed as the first argument to <code>new Proxy</code>,</li>
<li><code>property</code> &#x2013; the object&#x2019;s property(the key in a key-value pair),</li>
<li><code>receiver</code> &#x2013; if the target property is a getter, then <code>receiver</code> is the object that&#x2019;s going to be used as <code>this</code> in its call. Usually that&#x2019;s the <code>proxy</code> object itself (or an object that inherits from it, if we inherit from proxy). Right now we don&#x2019;t need this argument, so it will be explained in more detail later.</li>
</ul>
<h4 id="eg1"><a href="#eg1" class="headerlink" title="eg1"></a>eg1</h4><p>Usually when one tries to get a non-existing array item, they get <code>undefined</code>, but we&#x2019;ll wrap a regular array into the proxy that traps reading and returns <code>0</code> if there&#x2019;s no such property:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(number, {</span><br><span class="line">  <span class="title function_">get</span>(<span class="params">target, prop</span>) {</span><br><span class="line">    <span class="keyword">if</span> (prop <span class="keyword">in</span> target) {</span><br><span class="line">      <span class="keyword">return</span> target[prop];</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">});</span><br></pre></td></tr></table></figure>

<p>there should be a supplement For array : if array is seen as a object {key&#xFF1A;value}The &#x6570;&#x7EC4;&#x7684;&#x7D22;&#x5F15; is the key The &#x5177;&#x4F53;&#x6570;&#x503C; &#x662F; value</p>
<h4 id="eg2"><a href="#eg2" class="headerlink" title="eg2"></a>eg2</h4><p>Let&#x2019;s say we want an array exclusively for numbers. If a value of another type is added, there should be an error.</p>
<p><strong>The <code>set</code> trap triggers when a property is written.</strong></p>
<p><code>set(target, property, value, receiver)</code>:</p>
<ul>
<li><code>target</code> &#x2013; is the target object, the one passed as the first argument to <code>new Proxy</code>,</li>
<li><code>property</code> &#x2013; property name,</li>
<li><code>value</code> &#x2013; property value,</li>
<li><code>receiver</code> &#x2013; similar to <code>get</code> trap, matters only for setter properties.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [];</span><br><span class="line"></span><br><span class="line">numbers = <span class="keyword">new</span> <span class="title class_">Proxy</span>(numbers, {</span><br><span class="line">  <span class="comment">// (*)</span></span><br><span class="line">  <span class="title function_">set</span>(<span class="params">target, prop, val</span>) {</span><br><span class="line">    <span class="comment">// to intercept property writing</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> val == <span class="string">&quot;number&quot;</span>) {</span><br><span class="line">      target[prop] = val;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">//For set, it must return true for a successful write.</span></span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">numbers.<span class="title function_">push</span>(<span class="number">1</span>); <span class="comment">// added successfully</span></span><br><span class="line">numbers.<span class="title function_">push</span>(<span class="number">2</span>); <span class="comment">// added successfully</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;Length is: &quot;</span> + numbers.<span class="property">length</span>); <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">numbers.<span class="title function_">push</span>(<span class="string">&quot;test&quot;</span>); <span class="comment">// TypeError (&apos;set&apos; on proxy returned false)</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;This line is never reached (error in the line above)&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>For <code>set</code>, it must return <code>true</code> for a successful write.</strong></p>
<h3 id="Note-Only-interact-with-the-proxy-object"><a href="#Note-Only-interact-with-the-proxy-object" class="headerlink" title="Note : Only interact with the proxy object"></a>Note : Only interact with the proxy object</h3><h4 id="You-should-follow-below"><a href="#You-should-follow-below" class="headerlink" title="You should follow below:"></a>You should follow below:</h4><p>When a proxy object is created <strong>As for</strong> when you have proxied an object<br>You shouldn&#x2019;t reference the origin(or target) object.(the object is past the moment you get the proxy version)<br>And below is a normal way we deal with it.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">dictionary = new Proxy(dictionary, ...);</span><br></pre></td></tr></table></figure>

<p>can overwrite the &#x201C;dictionary&#x201D; variable .</p>
<h4 id="Why"><a href="#Why" class="headerlink" title="Why"></a>Why</h4><p>Usually When you created a proxy You got to devise some traps . And so it&#x2019;s important for you to make sure the defined behaviors and traps are constantly applied to ensure all operation go through the proxy and its traps</p>
<h2 id="iteration"><a href="#iteration" class="headerlink" title="iteration"></a>iteration</h2><h3 id="OwnPropertyKeys-internal-method"><a href="#OwnPropertyKeys-internal-method" class="headerlink" title="[[OwnPropertyKeys]] internal method"></a><code>[[OwnPropertyKeys]]</code> internal method</h3><p><code>Object.keys</code>, <code>for..in</code> loop and most other methods that iterate over object properties (use <code>[[OwnPropertyKeys]]</code> internal method) (intercepted by <code>ownKeys</code> trap) to** get a list of properties**</p>
<h4 id="Such-methods-differ-in-details"><a href="#Such-methods-differ-in-details" class="headerlink" title="Such methods differ in details:"></a>Such methods differ in details:</h4><ul>
<li><code>Object.getOwnPropertyNames(obj)</code> returns non-symbol keys.</li>
<li><code>Object.getOwnPropertySymbols(obj)</code> returns symbol keys.</li>
<li><code>Object.keys/values()</code> returns non-symbol keys/values with <code>enumerable</code> flag (property flags were explained in the article <a href="https://javascript.info/property-descriptors">Property flags and descriptors</a>).</li>
<li><code>for..in</code> loops over non-symbol keys with <code>enumerable</code> flag, and also prototype keys.</li>
</ul>
<h4 id="to-supplement"><a href="#to-supplement" class="headerlink" title="to supplement:"></a>to supplement:</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">keys</span>()&#xFF1A;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x8BE5;&#x6570;&#x7EC4;&#x5305;&#x542B;&#x5BF9;&#x8C61;&#x81EA;&#x8EAB;&#xFF08;&#x4E0D;&#x5305;&#x62EC;&#x539F;&#x578B;&#x94FE;&#xFF09;&#x7684;&#x6240;&#x6709;&#x53EF;&#x679A;&#x4E3E;&#x5C5E;&#x6027;&#x7684;&#x540D;&#x79F0;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</span><br><span class="line"><span class="keyword">const</span> obj = { <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span> };</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(obj)); <span class="comment">// &#x8F93;&#x51FA;&#xFF1A;[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span></span><br><span class="line"><span class="keyword">for</span>...<span class="keyword">in</span> &#x5FAA;&#x73AF;&#xFF1A;&#x8FD9;&#x4E2A;&#x5FAA;&#x73AF;&#x904D;&#x5386;&#x5BF9;&#x8C61;&#x81EA;&#x8EAB;&#x7684;&#x548C;&#x7EE7;&#x627F;&#x7684;&#x6240;&#x6709;&#x53EF;&#x679A;&#x4E3E;&#x5C5E;&#x6027;&#xFF08;&#x5305;&#x62EC;&#x539F;&#x578B;&#x94FE;&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</span><br><span class="line"><span class="keyword">const</span> obj = { <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span> };</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) {</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key); <span class="comment">// &#x8F93;&#x51FA;&#xFF1A;&quot;a&quot;&#xFF0C;&quot;b&quot;&#xFF0C;&quot;c&quot;</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="eg3"><a href="#eg3" class="headerlink" title="eg3"></a>eg3</h3><p>In the example below we use <code>ownKeys</code> trap to make <code>for..in</code> loop over <code>user</code>, and also <code>Object.keys</code> and <code>Object.values</code>, to skip properties starting with an underscore `_</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> user = {</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">  <span class="attr">_password</span>: <span class="string">&quot;***&quot;</span>,</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">user = <span class="keyword">new</span> <span class="title class_">Proxy</span>(user, {</span><br><span class="line">  <span class="title function_">ownKeys</span>(<span class="params">target</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(target).<span class="title function_">filter</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> !key.<span class="title function_">startsWith</span>(<span class="string">&quot;_&quot;</span>));</span><br><span class="line">  },</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;ownKeys&quot; filters out _password</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> user) <span class="title function_">alert</span>(key); <span class="comment">// name, then: age</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// same effect on these methods:</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(user)); <span class="comment">// name,age</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="title class_">Object</span>.<span class="title function_">values</span>(user)); <span class="comment">// John,30</span></span><br></pre></td></tr></table></figure>

<p><strong>To articulate</strong></p>
<p>No matter &#x201C;for in&#x201D; &#x201C;Object.keys&#x201D; or &#x201C;Object.values&#x201D;<br>Deep inside They still use the same list offered by [[OwnPropertyKeys]]<br>Different methods <strong>just filter the list with different ways.</strong> And &#x201C;ownKeys&#x201D; trap does something to the list (above:Object.keys(target).filter(key =&gt; !key.startsWith(&#x2018;_&#x2018;));)<br> <strong>before</strong> the &#x201C;for in&#x201D; &#x201C;Object.keys&#x201D; or &#x201C;Object.values&#x201D; can access the list.</p>
<h4 id="To-note-1"><a href="#To-note-1" class="headerlink" title="To note"></a>To note</h4><p>if we return a key that doesn&#x2019;t exist in the object, <code>Object.keys</code> won&#x2019;t list it:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> user = {};</span><br><span class="line"></span><br><span class="line">user = <span class="keyword">new</span> <span class="title class_">Proxy</span>(user, {</span><br><span class="line">  <span class="title function_">ownKeys</span>(<span class="params">target</span>) {</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>];</span><br><span class="line">  },</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(user)); <span class="comment">// &lt;empty&gt;</span></span><br></pre></td></tr></table></figure>

<p>the trap return a list full of keys But none of these keys exist in the &#x201C;user &#x201C;object<br><strong>Why?</strong> The reason is simple: <code>Object.keys</code> returns only properties <strong>with the <code>enumerable</code> flag.</strong></p>
<p>the properties of [&#x2018;a&#x2019;, &#x2018;b&#x2019;, &#x2018;c&#x2019;] don&#x2019;t have the flag But how does Object.keys find out?<br>Object.keys check for it by calling the internal method <code>[[GetOwnProperty]]</code> of &#x201C;user&#x201D; for every property to get its <strong>descriptor</strong><br>And here, as there&#x2019;s no property in user, its descriptor is empty, no <code>enumerable</code> flag, so the listing-properties procedure is skipped.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> user = {};</span><br><span class="line"></span><br><span class="line">user = <span class="keyword">new</span> <span class="title class_">Proxy</span>(user, {</span><br><span class="line">  <span class="title function_">ownKeys</span>(<span class="params">target</span>) {</span><br><span class="line">    <span class="comment">// called once to get a list of properties</span></span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>];</span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getOwnPropertyDescriptor</span>(<span class="params">target, prop</span>) {</span><br><span class="line">    <span class="comment">// called for every property</span></span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">      <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">/* ...other flags, probable &quot;value:...&quot; */</span></span><br><span class="line">    };</span><br><span class="line">  },</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(user)); <span class="comment">// a, b, c</span></span><br></pre></td></tr></table></figure>

<p>when Object.keys is checking by calling the internal method <code>[[GetOwnProperty]]</code>of &#x201C;user&#x201D;<br>the calling will be intercepted and Object.keys will receive the informing-letter(haha) which is written &#x201C;it&#x2019;s enumable&#x201D;</p>
<h2 id="Convention"><a href="#Convention" class="headerlink" title="Convention"></a>Convention</h2><ol>
<li>There&#x2019;s a widespread convention that properties and methods prefixed by an underscore <code>_</code> are internal. They shouldn&#x2019;t be accessed from outside the object.</li>
<li>(prop can be seen as a key in the wrapped object&#x2019;s key-value pair)</li>
<li>target in &#x201C;get(target,prop)&#x201D; is the original object</li>
</ol>
<h2 id="deleteProperty"><a href="#deleteProperty" class="headerlink" title="deleteProperty"></a>deleteProperty</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> user = {</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">_password</span>: <span class="string">&quot;secret&quot;</span>,</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(user.<span class="property">_password</span>); <span class="comment">// secret</span></span><br></pre></td></tr></table></figure>

<h3 id="eg4"><a href="#eg4" class="headerlink" title="eg4"></a>eg4</h3><p>Let&#x2019;s use proxies to prevent any access to properties starting with <code>_</code>.</p>
<p>We&#x2019;ll need these traps to accomplish an internal property:</p>
<ul>
<li><code>get</code> to throw an error when reading such property,</li>
<li><code>set</code> to throw an error when writing,</li>
<li><code>deleteProperty</code> to throw an error when deleting,</li>
<li><code>ownKeys</code> to exclude properties starting with <code>_</code> from <code>for..in</code> and methods like <code>Object.keys</code>.</li>
</ul>
<p>here is how we approach that:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> user = {</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">_password</span>: <span class="string">&quot;***&quot;</span>,</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">user = <span class="keyword">new</span> <span class="title class_">Proxy</span>(user, {</span><br><span class="line">  <span class="title function_">get</span>(<span class="params">target, prop</span>) {</span><br><span class="line">    <span class="keyword">if</span> (prop.<span class="title function_">startsWith</span>(<span class="string">&quot;_&quot;</span>)) {</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Access denied&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">let</span> value = target[prop];</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> value === <span class="string">&quot;function&quot;</span> ? value.<span class="title function_">bind</span>(target) : value; <span class="comment">// (*)</span></span><br><span class="line">  },</span><br><span class="line">  <span class="title function_">set</span>(<span class="params">target, prop, val</span>) {</span><br><span class="line">    <span class="comment">// to intercept property writing</span></span><br><span class="line">    <span class="keyword">if</span> (prop.<span class="title function_">startsWith</span>(<span class="string">&quot;_&quot;</span>)) {</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Access denied&quot;</span>);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      target[prop] = val;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  <span class="title function_">deleteProperty</span>(<span class="params">target, prop</span>) {</span><br><span class="line">    <span class="comment">// to intercept property deletion</span></span><br><span class="line">    <span class="keyword">if</span> (prop.<span class="title function_">startsWith</span>(<span class="string">&quot;_&quot;</span>)) {</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Access denied&quot;</span>);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      <span class="keyword">delete</span> target[prop];</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  <span class="title function_">ownKeys</span>(<span class="params">target</span>) {</span><br><span class="line">    <span class="comment">// to intercept property list</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(target).<span class="title function_">filter</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> !key.<span class="title function_">startsWith</span>(<span class="string">&quot;_&quot;</span>));</span><br><span class="line">  },</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;get&quot; doesn&apos;t allow to read _password</span></span><br><span class="line"><span class="keyword">try</span> {</span><br><span class="line">  <span class="title function_">alert</span>(user.<span class="property">_password</span>); <span class="comment">// Error: Access denied</span></span><br><span class="line">} <span class="keyword">catch</span> (e) {</span><br><span class="line">  <span class="title function_">alert</span>(e.<span class="property">message</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;set&quot; doesn&apos;t allow to write _password</span></span><br><span class="line"><span class="keyword">try</span> {</span><br><span class="line">  user.<span class="property">_password</span> = <span class="string">&quot;test&quot;</span>; <span class="comment">// Error: Access denied</span></span><br><span class="line">} <span class="keyword">catch</span> (e) {</span><br><span class="line">  <span class="title function_">alert</span>(e.<span class="property">message</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;deleteProperty&quot; doesn&apos;t allow to delete _password</span></span><br><span class="line"><span class="keyword">try</span> {</span><br><span class="line">  <span class="keyword">delete</span> user.<span class="property">_password</span>; <span class="comment">// Error: Access denied</span></span><br><span class="line">} <span class="keyword">catch</span> (e) {</span><br><span class="line">  <span class="title function_">alert</span>(e.<span class="property">message</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;ownKeys&quot; filters out _password</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> user) <span class="title function_">alert</span>(key); <span class="comment">// name</span></span><br></pre></td></tr></table></figure>

<p>To explain:</p>
<ol>
<li><p>get: the throwing-error part is obvious But why do we need to return a function binded to the object &#x201C;target&#x201D;when what we try to use[[Get]] to get is a function<br>Because:<br>In real-life code there will absolutely be a method in the <em>original object</em> that can access the internal value(_ prefixed)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">user = {</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="title function_">checkPassword</span>(<span class="params">value</span>) {</span><br><span class="line">    <span class="comment">// object method must be able to read _password</span></span><br><span class="line">    <span class="keyword">return</span> value === <span class="variable language_">this</span>.<span class="property">_password</span>;</span><br><span class="line">  },</span><br><span class="line">};</span><br></pre></td></tr></table></figure>

<p>for example <em>above</em> should be working properly! But with the trap &#x201C;get&#x201D; is set already when you write user.checkPassword &#x201C;this._password&#x201D; will activate the trap which will deny your access So the checkPassword won&#x2019;t be working.<br>After you set &#x201C;value.bind(target)&#x201D; actually you are bonding the context of the method(signing &#x201C;this&#x201D; to the) to target (we know it&#x2019;s the original object) And in the target(the original object) there are no traps at all.<br><strong>To be more clear : You need to ensure when &#x201C;checkPassword&#x201D; is working its(&#x201C;checkPassword&#x201D;) &#x201C;this&#x201D; should point to the &#x201C;obedient&#x201D;(no traps)object to ensure it (&#x201C;checkPassword&#x201D;) functions!(&#x8D77;&#x4F5C;&#x7528;)</strong></p>
</li>
</ol>
<p>That solution usually works, but isn&#x2019;t ideal</p>
<ol start="2">
<li>the rest is simple</li>
</ol>
<h2 id="In-to-has-trap"><a href="#In-to-has-trap" class="headerlink" title="In to has trap"></a>In to has trap</h2><p>As you can see above(in the internal method and handler method). The has trap intercept the &#x201C;in&#x201D; operator(which operate on the proxy object)because the in operator will invoke the <code>[[HasProperty]]</code></p>
<h3 id="eg5"><a href="#eg5" class="headerlink" title="eg5"></a>eg5</h3><p>We&#x2019;d like to use the <code>in</code> operator to check that a number is in <code>range</code>.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> range = {</span><br><span class="line">  <span class="attr">start</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">end</span>: <span class="number">10</span>,</span><br><span class="line">};</span><br><span class="line">proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(range, {</span><br><span class="line">  <span class="title function_">has</span>(<span class="params">target, prop</span>) {</span><br><span class="line">    <span class="keyword">return</span> prop &gt;= target.<span class="property">start</span> &amp;&amp; prop &lt;= target.<span class="property">end</span>;</span><br><span class="line">  },</span><br><span class="line">});</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span> <span class="keyword">in</span> proxy); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h2 id="Wrapping-functions-&#x201D;apply&#x201D;"><a href="#Wrapping-functions-&#x201D;apply&#x201D;" class="headerlink" title="Wrapping functions:&#x201D;apply&#x201D;"></a>Wrapping functions:&#x201D;apply&#x201D;</h2><p>You should see the article Decortor and forwarding,call/apply first to understand this section</p>
]]></content>
      <categories>
        <category>Front-end</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
        <tag>Proxy</tag>
      </tags>
  </entry>
  <entry>
    <title>What happens when you type a URL into your browser?</title>
    <url>/2024/08/25/2024-08-25-How-browser-retrieve-your-website-2024/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>In the modern age of the internet, where accessing information is just a click away, the journey of a URL from the moment it&#x2019;s typed into the browser to the display of the desired webpage is <strong>an intricate process</strong> involving various components of the web stack.</p>
<h1 id="DNS-Look-up"><a href="#DNS-Look-up" class="headerlink" title="DNS Look up"></a>DNS Look up</h1><p>Your browser first channels the Domain Name System (DNS) to translate the human-readable URL (like <a href="http://www.example.com/">www.example.com</a>) into an IP address (e.g., 123.456.78.90), which identifies the server where the website is hosted.<br><br>To make this lookup process fast, the DNS information is <strong>heavily cached.</strong><br>1.First the browser itself <strong>caches</strong> it for a short period of time. And if it is not in the browser&#x2019;s cache .The browser asks the operating system for it.<br>2.Also,The operating system itself has a <strong>cache</strong> for it&#x2026; which also keeps the answer for a short period of time.</p>
<p>if the operating operating system doesn&#x2019;t have it, it makes a query out to the internet <strong>to a DNS resolver.</strong> This sets off a <strong>chain</strong> of requests (Recursive lookup to the DNS Server ) until the IP address is <strong>resolved.</strong></p>
<h1 id="Using-IP-to-establish-TCP-connection"><a href="#Using-IP-to-establish-TCP-connection" class="headerlink" title="Using IP to establish TCP connection"></a>Using IP to establish TCP connection</h1><p>there&#x2019;s a <strong>handshake-process</strong> involved in establishing <strong>a TCP connection</strong>. It takes several network-round-trips for this to complete. To keep the loading process fast, modern browsers use something called a keep-alive connection to try to reuse an established TCP connection to the server as much as possible.</p>
<p>This handshake is expensive and the browsers use tricks like SSL session resumption to try to lower the cost. Finally, the browser sends an HTTP request to the server over the established TCP connection.</p>
<h1 id="HTTP-Request"><a href="#HTTP-Request" class="headerlink" title="HTTP Request"></a>HTTP Request</h1><p><strong>HTTP Request</strong>: After getting the IP address, the browser sends an HTTP request to the server asking for the website&#x2019;s content, like &#x201C;Hey, give me the page at this URL.&#x201D;</p>
<h1 id="Server-Response"><a href="#Server-Response" class="headerlink" title="Server Response"></a><strong>Server Response</strong></h1><p><strong>Server Response</strong>: The server processes the request and sends back a response, which usually includes the HTML, CSS, JavaScript, and sometimes images or videos that make up the website.</p>
<p>The browser receives the response and renders html content. Oftentimes there are additional resources to load, like javascript bundles and images.</p>
<h1 id="resource-fetching"><a href="#resource-fetching" class="headerlink" title="resource fetching."></a><strong>resource fetching.</strong></h1><p>The browser repeats the process above that we mentioned to finish fetching all the other resources.</p>
<p>When a browser receives the <strong>initial HTML content</strong>, it often contains <strong>links to</strong> other resources like JavaScript, CSS, and images. The browser then <strong>repeats</strong> the process of making <strong>additional HTTP requests</strong> to fetch each of those resources.</p>
<p>This entire flow of making multiple requests and processing them to fully load a website is called the <strong>&#x201C;resource loading process&#x201D;</strong> or <strong>&#x201C;resource fetching.&#x201D;</strong></p>
<p>To optimize this, browsers handle many of these requests <strong>in parallel</strong>, fetching multiple resources simultaneously to speed things up. So, even though many requests are made, they aren&#x2019;t strictly sequential; they happen concurrently, making the site load faster.</p>
<h1 id="Rendering"><a href="#Rendering" class="headerlink" title="Rendering"></a><strong>Rendering</strong></h1><p><strong>Rendering</strong>: Your browser then takes this response and renders it, displaying the website visually for you to interact with.</p>
<hr>

<p>So basically, the browser is like a translator and a middleman between you and the server.</p>
]]></content>
      <categories>
        <category>Internet</category>
      </categories>
      <tags>
        <tag>Server</tag>
        <tag>http</tag>
        <tag>https</tag>
        <tag>domain</tag>
        <tag>Browser</tag>
        <tag>URL</tag>
      </tags>
  </entry>
  <entry>
    <title>Server</title>
    <url>/2024/09/02/2024-09-02-Server-2024/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Server"><a href="#Server" class="headerlink" title="Server"></a>Server</h1><p>Browser is the middleman between you and Server.</p>
<p>A server is a provider that offers services . It can be visualize as a computer being open all the time 24/7.</p>
<span id="more"></span>

<p>the websites you visit and the webpages you view doesn&#x2019;t belong to the browser <br> It originally comes from server.</p>
<h1 id="IP-Port"><a href="#IP-Port" class="headerlink" title="IP Port"></a>IP Port</h1><p>Every server has a unique ip address to be differentiated But it&#x2019;s digits composed which makes it not readable <br> So domain shows up .<strong>Domain is example.com</strong></p>
<h1 id="Domain"><a href="#Domain" class="headerlink" title="Domain"></a>Domain</h1><p>&#x57DF;&#x540D;&#x662F;&#x6709;&#x5C42;&#x6B21;&#x7684;&#xFF0C;&#x5206;&#x4E3A;&#x9876;&#x7EA7;&#x57DF;&#x540D;&#xFF08;TLD&#xFF09;&#x3001;&#x4E8C;&#x7EA7;&#x57DF;&#x540D;&#xFF08;SLD&#xFF09;&#x548C;&#x4E09;&#x7EA7;&#x57DF;&#x540D;<br>&#x9876;&#x7EA7;&#x57DF;&#x540D;&#xFF08;TLD&#xFF09;&#xFF1A;&#x57DF;&#x540D;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6700;&#x9AD8;&#x7EA7;&#x522B;&#xFF0C;&#x4F4D;&#x4E8E;&#x57DF;&#x540D;&#x7684;&#x6700;&#x53F3;&#x4FA7;&#xFF0C;&#x901A;&#x5E38;&#x7531;&#x51E0;&#x4E2A;&#x5B57;&#x6BCD;&#x7EC4;&#x6210;&#x3002; TLD &#x5206;&#x4E3A;&#x901A;&#x7528; TLD &#x548C;&#x56FD;&#x5BB6;&#x4EE3;&#x7801; TLD&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x901A;&#x7528;&#x901A;&#x7528; TLD &#x5305;&#x62EC;&#x4EE3;&#x8868;&#x5546;&#x4E1A;&#x4F01;&#x4E1A;&#x7684;.com&#x3001;&#x4EE3;&#x8868;&#x7F51;&#x7EDC;&#x63D0;&#x4F9B;&#x5546;&#x7684;.net&#x3001;&#x4EE3;&#x8868;&#x975E;&#x8425;&#x5229;&#x7EC4;&#x7EC7;&#x7684;.org&#xFF0C;&#x800C;&#x56FD;&#x5BB6;&#x4EE3;&#x7801; TLD &#x5219;&#x4EE3;&#x8868;&#x7279;&#x5B9A;&#x7684;&#x56FD;&#x5BB6;&#x6216;&#x5730;&#x533A;&#xFF0C;&#x4F8B;&#x5982;.cn &#x4EE3;&#x8868;&#x4E2D;&#x56FD;&#xFF0C;.uk &#x4EE3;&#x8868;&#x82F1;&#x56FD;&#x3002;<br>&#x4E8C;&#x7EA7;&#x57DF;&#x540D; (SLD)&#xFF1A;&#x4F4E;&#x4E8E; TLD &#x7684;&#x7EA7;&#x522B;&#xFF0C;&#x7531;&#x6CE8;&#x518C;&#x4EBA;&#x9009;&#x62E9;&#x548C;&#x6CE8;&#x518C;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x4E2A;&#x6027;&#x5316;&#x4E14;&#x6613;&#x4E8E;&#x8BB0;&#x5FC6;&#x7684;&#x540D;&#x79F0;&#x3002;&#x4F8B;&#x5982;&#xFF0C;juejin.cn &#x662F;&#x4E8C;&#x7EA7;&#x57DF;&#x540D;&#xFF0C;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7533;&#x8BF7;<br>&#x4E09;&#x7EA7;&#x57DF;&#xFF08;3LD&#xFF09;&#xFF1A;&#x5728;&#x4E8C;&#x7EA7;&#x57DF;&#x4E4B;&#x4E0B;&#xFF0C;&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x6307;&#x5411;&#x7279;&#x5B9A;&#x7684;&#x670D;&#x52A1;&#x5668;&#x6216;&#x5B50;&#x7F51;&#x3002;&#x5728; blog.example.com &#x4E2D;&#xFF0C;&#x201C;blog&#x201D;&#x662F;&#x4E00;&#x4E2A;&#x4E09;&#x7EA7;&#x57DF;&#x540D;&#x3002; &#x201C;www&#x201D;&#x662F;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x4E09;&#x7EA7;&#x57DF;&#x540D;&#xFF0C;&#x4EE3;&#x8868;&#x7F51;&#x7AD9;&#x7684;&#x4E3B;&#x9875;&#x6216;&#x4E3B;&#x7AD9;&#x70B9;&#xFF0C;&#x4F46;&#x8FD9;&#x53EA;&#x662F;&#x4E00;&#x79CD;&#x7EA6;&#x5B9A;&#xFF0C;&#x73B0;&#x5728;&#x8BB8;&#x591A;&#x7F51;&#x7AD9;&#x5EFA;&#x8BAE;&#x901A;&#x8FC7;&#x4E8C;&#x7EA7;&#x57DF;&#x540D;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x3002;</p>
<p><strong>So</strong> when you put a URL including domain onto the browser&#x2019;s search bar The browser parses it into IP address (using DNS) in order to get you accessed to the right server</p>
<p>The protocols are well known as <strong>http and https</strong> <br>These are specifically created for <strong>webpage-transmit</strong> These two specify the <strong>rules</strong> that should be followed by both server and browser (client) during the transmission.</p>
<p>BUT website is just one of the many services that a server can provide and <strong>output by the specific port</strong> &#xFF08;80 443&#xFF09;</p>
<p>The Internet request when you are expecting a webpage is sent to the server by the browser<br>And To be concrete to port 80 /443 <strong>of</strong> the server(Biu!!!)</p>
<hr>

<p>I want to clarify that Multiple network applications might be deployed on a Server. Which one should receive the request?<br>a server can host many services, not just websites, and each service typically runs on different port of the server.</p>
]]></content>
      <tags>
        <tag>Server</tag>
        <tag>http</tag>
        <tag>https</tag>
        <tag>domain</tag>
      </tags>
  </entry>
  <entry>
    <title>What’s the Difference Between localhost and 127.0.0.1</title>
    <url>/2024/09/22/2024-09-22-What%E2%80%99s%20the%20Difference%20Between%20localhost%20and%20127.0.0.1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="What&#x2019;s-the-Difference-Between-localhost-and-127-0-0-1"><a href="#What&#x2019;s-the-Difference-Between-localhost-and-127-0-0-1" class="headerlink" title="What&#x2019;s the Difference Between localhost and 127.0.0.1?"></a>What&#x2019;s the Difference Between localhost and 127.0.0.1?</h1><p>When front-end developers debug locally, they often interact with localhost, simply running <code>npm run</code> to open their webpage in a browser, with the address bar displaying something like <code>http://localhost:xxx/index.html</code>.</p>
<h2 id="What-is-localhost"><a href="#What-is-localhost" class="headerlink" title="What is localhost?"></a>What is localhost?</h2><p>localhost is a domain name, fundamentally no different from the domain names used for internet access, except for its ease of remembrance.</p>
<p>The scope of localhost is limited to the local machine</p>
<p>Both John Smith and Jane Doe can use localhost on their respective machines without interfering with each other, accessing their individual page content.</p>
<h2 id="From-Domain-Name-to-Program"><a href="#From-Domain-Name-to-Program" class="headerlink" title="From Domain Name to Program"></a>From Domain Name to Program</h2><p>To truly understand localhost, we need to discuss how users access programs via domain names,</p>
<p><strong><a href="https://tju-tomorrow.github.io/2024/10/07/2024-10-07-Server-2024/">this article</a></strong></p>
<p>localhost is a domain name</p>
<p>127.0.0.1? It&#x2019;s an IP address, the local IP address of the current machine, which can only be used on the machine itself. our computer can use this IP address without being connected to the internet</p>
<p>How does localhost get resolved to 127.0.0.1 then? Does it go through DNS? No. Every computer can use localhost and 127.0.0.1 without DNS resolution.</p>
<p>This resolution is handled by each computer individually. There&#x2019;s a hosts file on every computer with some hardcoded DNS resolution rules, including the rule for resolving localhost to 127.0.0.1, which is a convention.</p>
]]></content>
      <tags>
        <tag>Server</tag>
        <tag>http</tag>
      </tags>
  </entry>
  <entry>
    <title>Ref and Reactive in Vue</title>
    <url>/2024/09/23/2024-09-23-Ref%E5%92%8CReactive/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- more -->

<h1 id="ref"><a href="#ref" class="headerlink" title="ref()"></a>ref()</h1><p>ref() is in composition API.</p>
<h2 id="What-does-it-do"><a href="#What-does-it-do" class="headerlink" title="What does it do?"></a>What does it do?</h2><p>Takes an value as its inner value and returns a <strong>reactive and mutable ref object</strong>, which has a <strong>single</strong> property <code>.value</code> that points to the inner value.</p>
<h2 id="explain"><a href="#explain" class="headerlink" title="explain"></a>explain</h2><p>1.The ref object is mutable you can assign new values to <code>.value</code>.</p>
<p>2.It is also reactive any read operations to <code>.value</code> are <strong>tracked</strong>, and write operations will <strong>trigger associated effects.</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Ref Example&lt;/h2&gt;</span><br><span class="line">    &lt;p&gt;Count: {{ count.value }}&lt;/p&gt;</span><br><span class="line">    &lt;button @click=&quot;increment&quot;&gt;Increment&lt;/button&gt;</span><br><span class="line">    &lt;p&gt;Message: {{ message }}&lt;/p&gt;</span><br><span class="line">    &lt;button @click=&quot;changeMessage&quot;&gt;Change Message&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import { ref, watch } from &quot;vue&quot;;</span><br><span class="line"></span><br><span class="line">// 1. Create a mutable ref object</span><br><span class="line">const count = ref(0);</span><br><span class="line"></span><br><span class="line">// 2. Watch for changes (reactive)</span><br><span class="line">watch(count, (newVal) =&gt; {</span><br><span class="line">  console.log(`Count changed to: ${newVal}`);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">// Function to increment the count</span><br><span class="line">const increment = () =&gt; {</span><br><span class="line">  count.value++; // Mutating the value</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">// Message to demonstrate tracking</span><br><span class="line">let message = &quot;Initial Message&quot;;</span><br><span class="line"></span><br><span class="line">// Function to change the message</span><br><span class="line">const changeMessage = () =&gt; {</span><br><span class="line">  message = &quot;Message Changed!&quot;; // Change message, not tracked by ref</span><br><span class="line">  console.log(`Message changed to: ${message}`);</span><br><span class="line">};</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">button {</span><br><span class="line">  margin-right: 10px;</span><br><span class="line">}</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h1><p>1.The <code>count</code> is created as a <code>ref</code>, and you can modify its value using <code>count.value++</code>. This shows that <code>.value</code> is mutable.</p>
<p>2.Changing <code>message</code> directly doesn&#x2019;t trigger reactivity because it isn&#x2019;t a <code>ref</code>. This highlights that only <code>ref</code> objects are tracked reactively.</p>
<h2 id="what-can-you-pass-into-ref"><a href="#what-can-you-pass-into-ref" class="headerlink" title="what can you pass into ref()"></a>what can you pass into ref()</h2><h2 id="primitive"><a href="#primitive" class="headerlink" title="primitive"></a>primitive</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import { ref } from &quot;vue&quot;;</span><br><span class="line"></span><br><span class="line">const count = ref(0);</span><br><span class="line">const handleCountIncrement = () =&gt; {</span><br><span class="line">  count.value++;</span><br><span class="line">};</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;main&quot;&gt;</span><br><span class="line">    &lt;p&gt;count: {{ count }}&lt;/p&gt;</span><br><span class="line">    &lt;button @click=&quot;handleCountIncrement&quot;&gt;count++&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import { ref } from &quot;vue&quot;;</span><br><span class="line">const product = ref({ price: 0 });</span><br><span class="line"></span><br><span class="line">const changeProductPrice = () =&gt; {</span><br><span class="line">  product.value.price += 10;</span><br><span class="line">};</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;main&quot;&gt;</span><br><span class="line">    &lt;p&gt;price: {{ product.price }}&lt;/p&gt;</span><br><span class="line">    &lt;button @click=&quot;changeProductPrice&quot;&gt;&#x4FEE;&#x6539;&#x4EA7;&#x54C1;&#x4EF7;&#x683C;&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202410231346487.png"></p>
<p>Regardless of whether the value of the primitive data type or the value of the reference data type is passed to the ref function, the returned object is constructed by the <strong>RefImpl</strong> class, but the difference is the <strong>value in the object:</strong></p>
<p>&#x5982;&#x679C; ref &#x51FD;&#x6570;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7684;&#x662F;&#x539F;&#x59CB;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x503C;&#xFF0C;&#x90A3;&#x4E48; value &#x662F;&#x4E00;&#x4E2A;&#x539F;&#x59CB;&#x503C;<br>&#x5982;&#x679C; ref &#x51FD;&#x6570;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7684;&#x662F;&#x5F15;&#x7528;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x503C;&#xFF0C;&#x90A3;&#x4E48; value &#x662F;&#x4E00;&#x4E2A; Proxy &#x5BF9;&#x8C61;</p>
]]></content>
      <categories>
        <category>Front-end</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Virtual Memory</title>
    <url>/2024/10/20/2024-10-20-Virtual%20Memory/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>You open a web browser, a text editor, and a game concurrently. Together, these applications consume <strong>10 GB of RAM</strong>.</p>
<span id="more"></span>

<p>Since you only have 8 GB of physical RAM, the system cannot keep all the data in RAM <strong>at once</strong>.<br>So OS uses a technique to do that:<br>Use the disk to temporarily store <strong>less-used</strong> data and free up RAM for <strong>more important</strong> data. Like 2GB of data is stored in the disk and 8GB of data is stored in the RAM.<br>When an application needs more RAM to process or generate more data, add new features, or respond to user actions, it can request additional RAM from the operating system. If the physical RAM is insufficient, the OS manages memory by swapping less-used data to disk to free up RAM for the application.</p>
<h1 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h1><p><strong>Virtual memory</strong> is a memory management <strong>technique</strong> that allows an application to use <strong>more</strong> memory than what is physically available on the system. It does this by using disk space as an <strong>extension</strong> of RAM.</p>
<p>What to do when the CPU needs to access the <strong>less-used</strong> data that is not in the memory since you have removed it?<br>The OS load the corresponding data from disk to the memory<br><img src="https://imgur.com/7Uu9Dge.png"></p>
<h1 id="Why-this-called-Virtual-Memory"><a href="#Why-this-called-Virtual-Memory" class="headerlink" title="Why this called Virtual Memory?"></a>Why this called Virtual Memory?</h1><p>Virtual Memory is for the Program to say.<br>The memory space is numbered, that is, each small block of memory has its own address.<br>There are two types of addresses:Virtual Address and Physical Address<br>From this 10GB Program&#x2019;s perspective,it sees a table of numbers that is 10GB in size., And When it needs to access data, it uses virtual addresses within that 10GB space.</p>
<h1 id="Senario"><a href="#Senario" class="headerlink" title="Senario"></a>Senario</h1><p>So, when an instruction in your game says to go to address 1000 to get the health-value data of this user, will the CPU go to address 1000 to get it?What if it does go to address 1000,what will it get? No,it will not get the health-value data of this user, So, how does the CPU know where is the right place to get the data? This is where the MMU comes in.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MOV REG,1000  this instruction loads a value from the virtual address 1000 into a register</span><br></pre></td></tr></table></figure>

<p>this 1000 is virtual-address.The cpu will parse this instruction<br>After that the parsing-result will be sent to MMU</p>
<h2 id="MMU"><a href="#MMU" class="headerlink" title="MMU"></a>MMU</h2><p>MMU is an address translator<br>It converts virtual addresses into physical addresses</p>
<p>So after the MMU conversion, the CPU uses this physical address to go to the right place to access the memory (read memory&#x2018;s data or write data to the memory).</p>
<pre><code>      +---------------------+
      |         CPU         |
      |                     |
      |   MOV REG, 1000    |
      +----------+----------+
                 |
                 | (&#x865A;&#x62DF;&#x5730;&#x5740;: 1000)
                 v
      +---------------------+
      |         MMU         |
      |  (&#x5730;&#x5740;&#x8F6C;&#x6362;&#x5668;)       |
      +----------+----------+
                 |
                 | (&#x7269;&#x7406;&#x5730;&#x5740;&#x8F6C;&#x6362;)
                 v
      +---------------------+
      |     &#x7269;&#x7406;&#x5730;&#x5740;        |
      |                     |
      |   (&#x8BFB;/&#x5199;&#x6570;&#x636E;)      |
      +----------+----------+
</code></pre>
<h1 id="How-MMU-works"><a href="#How-MMU-works" class="headerlink" title="How MMU works"></a>How MMU works</h1><ol>
<li><p>The CPU sends the virtual address to the <strong>MMU</strong> for translation. &#x201C;hey give me the actual address of this virtual address&#x201D;</p>
<p>The virtual address is divided into <strong>page number</strong> and <strong>offset</strong>.</p>
</li>
<li><p>The MMU checks the <strong>page table</strong> to find the corresponding <strong>physical address</strong>. How? It looks up the page table to see if the virtual address is mapped to a physical address.</p>
<p>If the entry exists, the physical address is retrieved.</p>
</li>
<li><p>The MMU sends the physical address to the memory controller.The controller is a part of the CPU that manages memory access.</p>
<p>The controller accesses the <strong>physical memory (RAM)</strong> to read or write data.</p>
</li>
<li><p>Page Fault Handling (if needed)</p>
</li>
</ol>
<p>If the virtual address isn&#x2019;t mapped which means a page fault occurs, the OS handles it by performing the following steps:</p>
<ul>
<li>Check if there are any free frames in memory.</li>
<li>If there are free frames, allocate one for the page.</li>
<li>If there are no free frames, select a victim page to evict from memory.</li>
<li>The OS retrieves the required data from <strong>disk storage</strong>. Load the required page from disk into the selected frame.</li>
<li>Update the page table with the new mapping.</li>
<li>Resume the interrupted instruction that caused the page fault.Which is Returns to step 3 to complete the address translation.</li>
</ul>
<p><img src="https://imgur.com/zjbcuyG.png"></p>
<h1 id="page-table"><a href="#page-table" class="headerlink" title="page-table"></a>page-table</h1><p>A <strong>page table</strong> is a <strong>data structure</strong> used by the MMU to translate virtual addresses to physical addresses.</p>
<p>It contains a list of <strong>page table entries (PTEs)</strong> that map virtual pages to physical frames. Each PTE includes:</p>
<ul>
<li>&#x6709;&#x6548;/&#x65E0;&#x6548;&#x4F4D;&#xFF1A;whether the page is currently loaded in memory</li>
<li>&#x7269;&#x7406;&#x5730;&#x5740;&#xFF1A;&#x6307;&#x5411;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x7269;&#x7406;&#x9875;&#x6846;</li>
<li>&#x5176;&#x4ED6;&#x63A7;&#x5236;&#x4F4D;&#xFF1A;&#x4F8B;&#x5982;&#x8BFB;/&#x5199;&#x6743;&#x9650;&#x3001;&#x7528;&#x6237;/&#x5185;&#x6838;&#x6743;&#x9650;&#x7B49;<br>so on</li>
</ul>
<p><img src="https://imgur.com/wHlFmqj.png"></p>
<h1 id="Informative"><a href="#Informative" class="headerlink" title="Informative"></a>Informative</h1><ol>
<li>&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x90FD;&#x53EF;&#x4EE5;&#x770B;&#x5230;0x1000-&gt;&#x4F46;&#x662F;&#x4ED6;&#x4EEC;&#x7684;0x1000&#x7ECF;&#x8FC7;&#x4E0D;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x6620;&#x5C04;&#x5230;&#x5177;&#x4F53;&#x7684;&#x7269;&#x7406;&#x5185;&#x5B58;-&gt;&#x6620;&#x5C04;&#x7684;&#x65B9;&#x5F0F;&#x662F;MMU&#x4F7F;&#x7528;&#x9875;&#x8868;-&gt;&#x4E0D;&#x540C;&#x7684;&#x8FDB;&#x7A0B;&#x88AB;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EF4;&#x62A4;&#x4E0D;&#x540C;&#x7684;&#x9875;&#x8868;-&gt;&#x4E0D;&#x540C;&#x7684;&#x9875;&#x8868;&#x5BF9;0x1000&#x7684;&#x6620;&#x5C04;&#x89C4;&#x5219;&#x4E0D;&#x540C;</li>
<li>&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x90FD;&#x8BA4;&#x4E3A;&#x5B83;&#x4ECE;0x0000&#x5F00;&#x59CB;&#xFF0C;&#x5230;0x1000&#x3001;0x2000&#x7B49;&#x7B49;&#xFF0C;&#x4F9D;&#x6B21;&#x6392;&#x5217;&#x7740;&#x5B83;&#x7684;&#x4EE3;&#x7801;&#x3001;&#x6570;&#x636E;&#x3001;&#x5806;&#x6808;&#x7B49;&#x3002;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E0D;&#x9700;&#x8981;&#x5173;&#x5FC3;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x7684;&#x5185;&#x5B58;&#x5E03;&#x5C40;&#xFF0C;&#x5B83;&#x53EA;&#x4F1A;&#x5173;&#x6CE8;&#x81EA;&#x5DF1;&#x90A3;&#x4E00;&#x5757;&#x865A;&#x62DF;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#x3002;</li>
</ol>
]]></content>
      <tags>
        <tag>计算机组成原理</tag>
        <tag>cs app</tag>
      </tags>
  </entry>
  <entry>
    <title>Stacks And Queues in Data structure</title>
    <url>/2024/10/19/2024-10-19-StackAndQueue/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://imgur.com/cSzgXRO.png" alt="1"></p>
<h1 id="Basic"><a href="#Basic" class="headerlink" title="Basic"></a>Basic</h1><p>Stacks and queues are two <strong>special</strong> linear lists.<br>In terms of structure, both are linear lists, but in terms of operation, the basic operations they support are only a <strong>subset</strong> of linear list operations So they are linear lists with <strong>restricted</strong> operations.</p>
<h1 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h1><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition:"></a>Definition:</h2><p>It is a linear list that allows insertion or deletion <strong>only</strong> at the <strong>end</strong> of the list.<br>The end that <strong>allows</strong> insertion and deletion is called the <strong>top</strong> of the stack, and the other side is called the bottom of the stack.</p>
<h2 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h2><p>Above gives it a feature : <strong>Last In First Out</strong> (LIFO)<br>The latest node added to a stack is the node which is eligible to be removed first.</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASQAAACtCAMAAAAu7/J6AAAAxlBMVEX///9qtf8A18es7+gAAABfsf9ks/+n0f+t1P+68ezO9fHy/Pvr+/kA282e7OVO4dV65t3g+fbe7f/U9/LX6P/m8P/v9P+z8Oq0tLSBv/+Rxv9cr//G8+/B3v/O5P/5//zFxcX19fW3t7fAwMCpqans7Ozc3Ny42f/Ozs7t7e3Z2dkQEBCfn58eHh49PT32+v92dnaUlJSYyv8vLy+CgoJgYGCJiYlsbGxNTU1CQkIYGBgqKipWVlY2NjZkZGR1u/+P6+Nm5dvIVK28AAALcklEQVR4nO2dbXuayhaGl+mAtml2W6sWpBoGBiQgosa3aIxn//8/dQbS3S2vA2gFzpnnQ3vJ5QPDzcxi1mIiAFxcXFxcXFxcXFxcXFxcXFxcXFxcXBXKsqtuQQNkEc2oug21lyVJko6rbkWdZVi65IuYVbekrsKWRKSAkvZUdVtqKqwSycbBcOPdKEW/47VlVdyS2uqJdx+mbKJW3YTayyJ8AsmSSvjskSXOiC2LM2LK4JNrpjC52bSIEE21i/ZaiWi6VdwkUdP18k9du9quWDJNW9WIpBY6ZSMwkcImi5r0K40R49YBCZt68VJMYCp6xtigedZVMGnqNfZSTE8qKZ5A4zJlLmqSLu8EBqmkcIT1EpGQJuAlTNbluYR+8R5KypS04pfHkKRSpsvqPri6KRLWSPG20x5YosHqZZMcU7rEfaFKTfStMid8WWqqqheYL1ZJSiVM9iV9Sas2+VfL3DZKUiodV/AV7o8XSS8z3NUS0ZuiLXsbxyVi53UlqSVMml7CVDqzwNXMks5UKrvG5Uxlc9SqGfmPZkqY7DIX16y8R5RXqQt8u1F6ue7v2d/5/BjdEP5oJ3Slx8/RLZENSb2CaTKSIjDLlKg83/mtL1/Z33n4K/z5413kCwmJ+l8PkQ2f7iKXQ4rPXX5Ed/zt7lt4gxbvtD+jpvu777EvRfXtrgilq0Cy4rcdNqSE/seGZJKYKQHSJ4DJMF2TSiAlFCLYkBImL2xIEJ9RJvakoSKmS5CrgJQw3tiQEnKFHJDi4y0J0kBoZUnp3x4SBt0CHO5MTEjYzzojJiYkDJaOI6YkSH0lBEUUxNBnoXtzSJgEq6HCl5gJSfJdkWoaE9K7KTwPyAFpMh6dxGoh0RDsK7yNCckMTAV7kkHiJiYk0fO3ymK1kECTYgta2DHJX2gWiUrsmKRSUyQqsSCJIxgrIxhVDcmQpOhUmA3pSZKiMwc2JBzrsuyeJLdbSrt6SKDHbuc57m7xgl2Ou1u8rMmOSaLchX7FgRv8J0zRLTkg4VgilgMSxEw5ArfsgVd5TEpQDkhx5YEUExOSoIjKEroCh3SmaODugUwh9Tmkc0UhTcDrAbQrGG6DpZyuUZ0gtYQRDUmd80TlRpC8jPxRFJVOnSDRrKSlhPIS5TaQRtkZpFgxJC+7eYJ3E0iTcMYYzSCVK0IaDDP67NJLLpVMFCG9UkI7egWQRLkX3nBNSK0w/0iXlVMqk/1Ruro3KrqFmAhLCN1hrwnpc1dpZUkZ1Ld8ew6J3mMhNFe7KqReaMd0rIRHttAUSO3B8kaQxGHX6y7PKTWlJ9HLO7wNJHFIJ2gAw7ODNwaS3/ibQBJ60FZGoYNzSLHhdpIFCqndSEiCDN3QnPbPBW464MbnWxoD6dTr0hwyFCn+GCR57DUzJp0GVN5NIMmi0obzTY2B1FIEqhsMN3EAQxqTxg2BNM6cB4unPwSpE0wB5IYMN1gGvSdN3T803IR2tz+WQylRnSFBf5wu73pFt1haIjQnLWHqalUAL3tgtxqzPilB1yuVjEQlXa0ehxRUJr1+uqA5K90SlAxp0E0XpELKNiVDyjJ5tYY0EdLviUqrmzLcskxiynAbi1mmcX0hPfZZk6vrBe6skq//IOB7bSGNGYv0ckwB4uebOAXIvhy3eqTEFBuSQBOxyNMDNiRBlFvhDTkgxU1NgUSjCYRTwByQaDTJVSqJPMGlG3tVLwdMEguSOILuJFKJZeduE+hPvBxFt9BagDYMJgPoNGPpTQiSMB6clHG4EsuGNPJOkZV9OSBNvKHSCdVXmgKpRe/5Sh+WhSC1RGrqhTpFjuEmKiK9HNUvB4wrx91NoOOgYEyipiF47EdK0XXcMkBoJ42BJCzBOxWF5Ne45aKQfEbDJgbud0ZK0bsb7UeyUBBSwEhpIiRxSScAnYlcLHDTfjTqTNgPAkKBWw5MyybGpPetoZo+G1Kwtj+0OCMHpEGwddCQu1to5Vc7ULF5UmsZM7Fn3OK7qZE96deKqrMtAnvpTYIpR0yKmar4U64kJUHyxKzknEby4ou4hJRFXHKWSTzVt1RyD/1hRtPbqcsBM0xpywG9ZYZpOKgzJJautrCUaaozpFE7Xb00SAxTMqRxhmlca0hy1p8PK5NkSJl/c6y0kyG10xffiiKNfrWF9NjLrheKiZAYRUbRK/GHysKgvpCiK+QjN7t85duIKV/5NmpqyjyJNrzTDrU9XxUgasoDSWh3mglJPA0gPCryJLitPkBRSKJfKQ4vIGgIJHHoQWFIokxNXlFIJz95ayakCUyKQ2pTU1FI4hBGXjMh0ZFzKjHcTq3iPUk8iU2F5GdQhSH5psKQqBoLqUxP8k3/V5D8nlS0fOs/+/eUguVbenvzQGhi+bbV6tAY3JELQmr7pmLlWxruJwAhU2MgnYKtnWKVSTHYWuzhZEsIir6hJ6M1hhROSxIWf7N7UsyUa8FE7Eg1hsRIcFs8waWQYJhVwFBGiT2JYercpFTyhfmVxzgk9hG+xiH59bNOuroA/4mavt39pNEkw0Szsg9xSD8Aehmmcb5T+Fc/7j4wvvH4NbrD+4e/WaXYj3d/RTc9fGG16+dDrFs/PLDqt98f/o5u+sI0fXtg941zfb1j6mPU8+mB6Ym1nDaMaYq3/HMZ0z3b9JDjh1rP9f0DQwkd4P4Hw/Mp4UCPLNPPpOZ9ZJhiV7C0iYuLi4uLi4vrz8lYlXhbwNOqxA//41WVb0f6V8a28KsdbBT/4XX2cdCiuAmjVXHTZfr1C9cY/nnDh/8vcZ7eP2Wwwmf/Yx+SlOMVIf/8nvYvk4GmTBP+fSj8vgOMNvleRoLP/r3o9SWbPZqD6q6cV83dL2AxW6BnmxyeDxt3C3B8S7FNZxt0sOC4Bc3R8Rq5xHTWBzd7HEiHhePqMFuD5Uh4i/ZTg5r200yT6i7cPYHXFzCdKcyRs8HO69HZsE5s/bZFuyfQZ+ioATkGzS2pKVLpsS1nZR1ce4uMhbOwnl/g7aDiFTIspKb56PfcHT5QSEhdINsybWdr75zMg0nOyj4+w/EVLCQRZFkWhWSvncyXHan+fhHsKCQ01ZFuq+DsaFNZb9FZ7zXJ2Rhoa9LTIs7GPrwwHKnaPc/n7tZCGrzsgCBzgQx4c2B1wH6bNs9pvin93nZvPAeQCNqRYLitUObBJHpmG8eYBZB0NCPBcPN3lSGVXqgpMl8DSBY6TrE/3CQ2JJcOhFcJWfRghNBjzN2yb57aHVXLMtUzSKYPaU4hwevsmBqLA0juOyQdtLUzN2ngZkKyYfULEgF9u3/zIS3YkBa/IC3A2tL+SwM3KQ5pWxoSQVN7YZ1B2hPVXVPqEqbRwE2NdlOHWM4aZkd77ui2jmdveSA5U5uO5d2ztXEkU8O7XR5IdKS8uH4AWOynTxKsZ3khWfTk/OE294cbsdxXhiNdG4RmtkqHynHm9+rFYYZeDLD29JTxIf1WO3Vf0MwA3UErpBOEjqY/BZgzILk7+kV/5yuHaA462P4UgAVpv0OuBeYBrfYLanVVCCCx3v+3fj4ieuvRD8ilgfu9uVfSeYu1jKs1RSX6biSQ5Lspqyh0V8p9J/eH228Hyb4QBTWd/Xse63n690iZ66LNyryVc1bu1j3fnX2QXip+pyIXF1dBRQLibF9NM+otJ1yz2B0rakddpWoGTVMXNhha8FZy/7MPSVerbll99OrOkOo8H3Y22jtHjF/QARmvRzp9ruZNmHUURnP/fWs+ET/NUad08mbSvM0qUw/7n9UcOSvQafYGZD1ztW2QsL0+uy6ff53JXCFbpz1pg1TN0TaOSXvWbvbkZz5c78KzxdwxLLQjNPV/Q5LpvFBOu2fKjMekf4TJfEUz6umcGKuVPbXAXs01mC4Ab7LrqlxcXFxcXFxcXFxcXFxcXFxcXFxcXFy30n8BPEecs4GbF90AAAAASUVORK5CYII=" alt="Stack Data Structure and Implementation in Python, Java and C/C++"></p>
<h2 id="basic-OP-code"><a href="#basic-OP-code" class="headerlink" title="basic OP code"></a>basic OP code</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* &#x521D;&#x59CB;&#x5316;&#x6808; */</span></span><br><span class="line">stack&lt;<span class="type">int</span>&gt; stack;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &#x5143;&#x7D20;&#x5165;&#x6808; */</span></span><br><span class="line">stack.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* &#x8BBF;&#x95EE;&#x6808;&#x9876;&#x5143;&#x7D20; */</span></span><br><span class="line">    <span class="type">int</span> top = stack.<span class="built_in">top</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/* &#x5143;&#x7D20;&#x51FA;&#x6808; */</span></span><br><span class="line">    stack.<span class="built_in">pop</span>(); <span class="comment">// &#x65E0;&#x8FD4;&#x56DE;&#x503C;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* &#x83B7;&#x53D6;&#x6808;&#x7684;&#x957F;&#x5EA6; */</span></span><br><span class="line">    <span class="type">int</span> size = stack.<span class="built_in">size</span>();</span><br><span class="line"><span class="comment">/* &#x5224;&#x65AD;&#x662F;&#x5426;&#x4E3A;&#x7A7A; */</span></span><br><span class="line">    <span class="type">bool</span> empty = stack.<span class="built_in">empty</span>();</span><br></pre></td></tr></table></figure>

<h2 id="Stack-Realization-Based-on-LinkList"><a href="#Stack-Realization-Based-on-LinkList" class="headerlink" title="Stack Realization Based on LinkList"></a>Stack Realization Based on LinkList</h2><h3 id="stack-structure"><a href="#stack-structure" class="headerlink" title="stack structure"></a>stack structure</h3><p>every element in this stack is a <strong>listNode</strong> which has this structure</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">listNode</span>{</span><br><span class="line"><span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">MyStack</span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    listNode* next;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">listNode</span>();</span><br><span class="line">    <span class="built_in">listNode</span>(<span class="type">int</span> nodeData, listNode* succ = <span class="literal">NULL</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>The indispensable compositions of a stack are</p>
<ol>
<li>a top-pointer for keeping track of the <strong>most recently added item</strong>, the stack&#x2019;s top pointer allows you to quickly access and manipulate the top element.</li>
<li>stackSize</li>
</ol>
<p>So we have</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyStack</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    listNode* topNode;</span><br><span class="line">    <span class="type">int</span> stackSize;</span><br></pre></td></tr></table></figure>

<h1 id="Some-real-shit"><a href="#Some-real-shit" class="headerlink" title="Some real shit"></a>Some real shit</h1><p>&#x6D17;&#x5E72;&#x51C0;&#x7684;&#x76D8;&#x5B50;&#x603B;&#x662F;&#x9010;&#x4E2A;&#x5F80;&#x4E0A;&#x53E0;&#x653E;&#x5728;&#x5DF2;&#x7ECF;&#x6D17;&#x597D;&#x7684;&#x76D8;&#x5B50;&#x4E0A;&#x9762;&#xFF0C;&#x800C;&#x7528;&#x65F6;&#x4ECE;&#x4E0A;&#x5F80;&#x4E0B;&#x9010;&#x4E2A;&#x53D6;&#x7528; &#x3002;</p>
<p>So In programming, if you need to use data <strong>in the reverse order</strong> of how it was saved, you can use a stack to do it.</p>
<h2 id="&#x62EC;&#x53F7;&#x5339;&#x914D;&#x7684;&#x68C0;&#x9A8C;"><a href="#&#x62EC;&#x53F7;&#x5339;&#x914D;&#x7684;&#x68C0;&#x9A8C;" class="headerlink" title="&#x62EC;&#x53F7;&#x5339;&#x914D;&#x7684;&#x68C0;&#x9A8C;"></a>&#x62EC;&#x53F7;&#x5339;&#x914D;&#x7684;&#x68C0;&#x9A8C;</h2><p>&#x5047;&#x8BBE;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x5141;&#x8BB8;&#x5305;&#x542B;&#x4E24;&#x79CD;&#x62EC;&#x53F7;&#xFF1A;&#x5706;&#x62EC;&#x53F7;&#x548C;&#x65B9;&#x62EC;&#x53F7;&#xFF0C;&#x5176;&#x5D4C;&#x5957;&#x7684;&#x987A;&#x5E8F;&#x968F;&#x610F;&#xFF0C;&#x5373;([ ] (&#xFF09;)&#x6216;[ ([ ] [ &#xFF3D;&#xFF09;&#xFF3D;&#x7B49;&#x4E3A;&#x6B63;&#x786E;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#xFF3B;&#xFF08;&#xFF3D;&#x6216;&#xFF08;&#xFF3B;&#xFF08;&#xFF09;&#xFF09;&#x6216;&#xFF08;&#xFF08;&#xFF09;&#xFF3D;&#xFF09;&#x5747;&#x4E3A;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#x683C;&#x5F0F;&#x3002;&#x68C0;&#x9A8C;&#x62EC;&#x53F7;&#x662F;&#x5426;&#x5339;&#x914D;&#x7684;&#x65B9;&#x6CD5;&#x53EF;&#x7528;&#x201D;<strong>&#x671F;&#x5F85;&#x7684;&#x6025;&#x8FEB;&#x7A0B;&#x5EA6;</strong>&#x201D;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x6765;&#x63CF;&#x8FF0; &#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x8003;&#x8651;&#x4E0B;&#x5217;&#x62EC;&#x53F7;&#x5E8F;&#x5217;&#xFF1A;<br>[ ([ ] [ ]) ] &#x6309;&#x4ECE; 1-8 &#x7F16;&#x53F7;</p>
<p>&#x5F53;&#x8BA1;&#x7B97;&#x673A;&#x63A5;&#x53D7;&#x4E86;&#x7B2C;&#x4E00;&#x4E2A;&#x62EC;&#x53F7;&#x540E;,&#x5B83;&#x671F;&#x5F85;&#x7740;&#x4E0E;&#x5176;&#x5339;&#x914D;&#x7684;&#x7B2C;&#x516B;&#x4E2A;&#x62EC;&#x53F7;&#x7684;&#x51FA;&#x73B0;,&#x7136;&#x800C;&#x7B49;&#x6765;&#x7684;&#x5374;&#x662F;<br>&#x7B2C;&#x4E8C;&#x4E2A;&#x62EC;&#x53F7;,&#x663E;&#x7136;&#x7B2C;&#x4E8C;&#x4E2A;&#x62EC;&#x53F7;&#x7684;&#x671F;&#x5F85;&#x6025;&#x8FEB;&#x6027;&#x9AD8;&#x4E8E;&#x7B2C;&#x4E00;&#x4E2A;&#x62EC;&#x53F7;,&#x6B64;&#x65F6;&#x7B2C;&#x4E00;&#x4E2A;&#x62EC;&#x53F7;&#x201C;[&#x201D;&#x53EA;&#x80FD;&#x6682;&#x65F6;&#x9760;<br>&#x8FB9;,&#x800C;&#x8FEB;&#x5207;&#x7B49;&#x5F85;&#x4E0E;&#x7B2C;&#x4E8C;&#x4E2A;&#x62EC;&#x53F7;&#x76F8;&#x5339;&#x914D;&#x7684;&#x3001;&#x7B2C;&#x4E03;&#x4E2A;&#x62EC;&#x53F7;&#x201C;)&#x201D;&#x7684;&#x51FA;&#x73B0;&#x3002;&#x7C7B;&#x4F3C;&#x5730;,&#x56E0;&#x7B49;&#x6765;&#x7684;&#x662F;&#x7B2C;&#x4E09;&#x4E2A;<br>&#x62EC;&#x53F7;&#x201C;[&#x201D;,&#x5176;&#x671F;&#x5F85;&#x5339;&#x914D;&#x7684;&#x7A0B;&#x5EA6;&#x8F83;&#x7B2C;&#x4E8C;&#x4E2A;&#x62EC;&#x53F7;&#x66F4;&#x6025;&#x8FEB;,&#x5219;&#x7B2C;&#x4E8C;&#x4E2A;&#x62EC;&#x53F7;&#x4E5F;&#x53EA;&#x80FD;&#x9760;&#x8FB9;,&#x8BA9;&#x4F4D;&#x4E8E;&#x7B2C;&#x4E09;&#x4E2A;<br>&#x62EC;&#x53F7;&#x3002;&#x5728;&#x63A5;&#x53D7;&#x4E86;&#x7B2C;&#x56DB;&#x4E2A;&#x62EC;&#x53F7;&#x4E4B;&#x540E;,&#x7B2C;&#x4E09;&#x4E2A;&#x62EC;&#x53F7;&#x7684;<strong>&#x671F;&#x5F85;&#x5F97;&#x5230;&#x6EE1;&#x8DB3;</strong>,<strong>&#x6D88;&#x89E3;&#x4E4B;&#x540E;</strong>,&#x7B2C;&#x4E8C;&#x4E2A;&#x62EC;&#x53F7;&#x7684;&#x671F;&#x5F85;<br>&#x5339;&#x914D;&#x5C31;&#x6210;&#x4E3A;&#x5F53;&#x524D;&#x6700;&#x6025;&#x8FEB;&#x7684;&#x4EFB;&#x52A1;&#x4E86;, &#x2026;&#x2026; ,&#x4F9D;&#x6B21;&#x7C7B;&#x63A8;&#x3002;&#x53EF;&#x89C1;,&#x8FD9;&#x4E2A;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x6070;&#x4E0E;&#x6808;&#x7684;&#x7279;&#x70B9;&#x76F8;&#x543B;&#x5408;&#x3002;<br>&#x6BCF;&#x8BFB;&#x5165;&#x4E00;&#x4E2A;&#x62EC;&#x53F7;,&#x82E5;&#x662F;&#x53F3;&#x62EC;&#x53F7;,&#x5219;&#x6216;&#x8005;&#x4F7F;&#x7F6E;&#x4E8E;&#x6808;&#x9876;&#x7684;&#x6700;&#x6025;&#x8FEB;&#x7684;&#x671F;&#x5F85;&#x5F97;&#x4EE5;&#x6D88;&#x89E3;,&#x6216;&#x8005;&#x662F;&#x4E0D;&#x5408;&#x6CD5;&#x7684;<br>&#x60C5;&#x51B5;;&#x82E5;&#x662F;&#x5DE6;&#x62EC;&#x53F7;,&#x5219;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x66F4;&#x6025;&#x8FEB;&#x7684;&#x671F;&#x5F85;&#x538B;&#x5165;&#x6808;&#x4E2D;,&#x81EA;&#x7136;&#x4F7F;&#x539F;&#x6709;&#x7684;&#x5728;&#x6808;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x672A;&#x6D88;<br>&#x89E3;&#x7684;&#x671F;&#x5F85;&#x7684;&#x6025;&#x8FEB;&#x6027;&#x90FD;&#x964D;&#x4E86;&#x4E00;&#x7EA7;&#x3002;</p>
<h2 id="Some-data-structures-are-Originally-recursive"><a href="#Some-data-structures-are-Originally-recursive" class="headerlink" title="Some data structures are Originally recursive"></a>Some data structures are <strong>Originally</strong> recursive</h2><p>For example ,linklist,</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class listNode</span><br><span class="line">{</span><br><span class="line">    friend class linkList;</span><br><span class="line">    friend void merge(linkList &amp;, linkList &amp;);</span><br><span class="line">    float data;</span><br><span class="line">    listNode *next;}</span><br></pre></td></tr></table></figure>

<p>It uses itself inside its definition,</p>
<h2 id="&#x4E24;&#x6808;&#x5171;&#x4EAB;&#x7A7A;&#x95F4;"><a href="#&#x4E24;&#x6808;&#x5171;&#x4EAB;&#x7A7A;&#x95F4;" class="headerlink" title="&#x4E24;&#x6808;&#x5171;&#x4EAB;&#x7A7A;&#x95F4;"></a>&#x4E24;&#x6808;&#x5171;&#x4EAB;&#x7A7A;&#x95F4;</h2><p>&#x4E24;&#x6808;&#x5171;&#x4EAB;&#x7A7A;&#x95F4;&#x6307;&#x7684;&#x662F;&#x4E24;&#x4E2A;&#x6808;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x5B58;&#x50A8;&#x6570;&#x7EC4;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5404;&#x81EA;&#x5206;&#x914D;&#x72EC;&#x7ACB;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x8BBE;&#x8BA1;&#x4E2D;&#xFF0C;&#x6808; 1 &#x4ECE;&#x6570;&#x7EC4;&#x7684;&#x8D77;&#x59CB;&#x4F4D;&#x7F6E;&#xFF08;V[1]&#xFF09;&#x5411;&#x4E0A;&#x751F;&#x957F;&#xFF0C;&#x800C;&#x6808; 2 &#x4ECE;&#x6570;&#x7EC4;&#x7684;&#x672B;&#x5C3E;&#xFF08;V[m]&#xFF09;&#x5411;&#x4E0B;&#x751F;&#x957F;</p>
<h3 id="&#x6808;&#x6EE1;&#x7684;&#x6761;&#x4EF6;&#xFF1A;"><a href="#&#x6808;&#x6EE1;&#x7684;&#x6761;&#x4EF6;&#xFF1A;" class="headerlink" title="&#x6808;&#x6EE1;&#x7684;&#x6761;&#x4EF6;&#xFF1A;"></a>&#x6808;&#x6EE1;&#x7684;&#x6761;&#x4EF6;&#xFF1A;</h3><ul>
<li>&#x5982;&#x679C;&#x6808; 1 &#x7684;&#x9876;&#x7AEF;&#xFF08;<code>top[1]</code>&#xFF09;&#x4E0E;&#x6808; 2 &#x7684;&#x5E95;&#x90E8;&#xFF08;<code>top[2]</code>&#xFF09;&#x76F8;&#x9047;&#xFF0C;&#x8BF4;&#x660E;&#x6CA1;&#x6709;&#x7A7A;&#x95F4;&#x53EF;&#x7528;&#x3002;</li>
<li>&#x6240;&#x4EE5;&#xFF0C;&#x6808;&#x6EE1;&#x7684;&#x6761;&#x4EF6;&#x662F; <code>top[1] + 1 == top[2]</code>&#x3002;</li>
</ul>
<p><img src="https://s3.bmp.ovh/imgs/2024/10/22/a9226779ad20aad9.jpg"></p>
<h1 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h1><p>what is Queue?<br>A queue is a data structure that follows the First-In-First-Out (FIFO) principle. This means that the first element added to the queue will be the first one to be removed. Queues are commonly used in scenarios where order needs to be <strong>preserved</strong>.</p>
<p>In a queue, you add items at the rear and remove them from the front. This creates a first-in, first-out (FIFO) structure, meaning the first item added is the first one to be removed.</p>
<h2 id="basic-op"><a href="#basic-op" class="headerlink" title="basic op"></a>basic op</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/_ Initialize the queue _/</span><br><span class="line">queue&lt;int&gt; queue;</span><br><span class="line"></span><br><span class="line">/_ Add elements to the queue _/</span><br><span class="line">queue.push(1);</span><br><span class="line"></span><br><span class="line">/_ Access the front element of the queue _/</span><br><span class="line">int front = queue.front();</span><br><span class="line"></span><br><span class="line">/_ Remove the front element from the queue _/</span><br><span class="line">queue.pop(); // No return value</span><br><span class="line"></span><br><span class="line">/_ Get the size of the queue _/</span><br><span class="line">int size = queue.size();</span><br><span class="line"></span><br><span class="line">/_ Check if the queue is empty _/</span><br><span class="line">bool empty = queue.empty();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="senario"><a href="#senario" class="headerlink" title="senario"></a>senario</h2><p>In server environments, queues help manage incoming requests, processing them in the order they arrive to maintain fairness. Why fairness? Because the first request that arrives should be the first one to be processed.<br>I can articulate this by using server-side-code</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">processRequest</span><span class="params">(std::queue&lt;Request&gt;&amp; requests)</span> </span>{</span><br><span class="line">    <span class="keyword">while</span> (!requests.<span class="built_in">empty</span>()) {</span><br><span class="line">        Request request = requests.<span class="built_in">front</span>();</span><br><span class="line">        requests.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="built_in">process</span>(request);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h2 id="implementation"><a href="#implementation" class="headerlink" title="implementation"></a>implementation</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyQueue</span> {</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span>* queue;       <span class="comment">// Array to hold the queue elements</span></span><br><span class="line">    <span class="type">int</span> capacity;     <span class="comment">// Maximum number of elements the queue can hold</span></span><br><span class="line">    <span class="type">int</span> front;        <span class="comment">// Index of the front element</span></span><br><span class="line">    <span class="type">int</span> rear;         <span class="comment">// Index of the rear element</span></span><br><span class="line">    <span class="type">int</span> count;        <span class="comment">// Current size of the queue</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// Constructor to initialize the queue</span></span><br><span class="line">    <span class="built_in">MyQueue</span>(<span class="type">const</span> <span class="type">int</span>&amp; capacity) : <span class="built_in">capacity</span>(capacity), <span class="built_in">front</span>(<span class="number">0</span>), <span class="built_in">rear</span>(<span class="number">-1</span>), <span class="built_in">count</span>(<span class="number">0</span>) {</span><br><span class="line">        queue = <span class="keyword">new</span> <span class="type">int</span>[capacity]; <span class="comment">// Allocate memory for the queue</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Destructor to free memory</span></span><br><span class="line">    ~<span class="built_in">MyQueue</span>() {</span><br><span class="line">        <span class="keyword">delete</span>[] queue; <span class="comment">// Deallocate the queue array</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Additional methods like enqueue, dequeue, etc., can be added here</span></span><br><span class="line">};</span><br></pre></td></tr></table></figure>

<p>&#x987A;&#x5E8F;&#x5FAA;&#x73AF;&#x961F;&#x5217;&#x7684; rear &#x662F;&#x6307;&#x53EF;&#x4EE5;&#x52A0;&#x5165;&#x5143;&#x7D20;&#x7684;&#x7D22;&#x5F15;&#x5417;&#xFF0C;&#x8FD8;&#x662F;&#x76EE;&#x524D;&#x961F;&#x5217;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x7D22;&#x5F15; front &#x5462;</p>
<ol>
<li><p>**<code>front</code>**&#xFF1A;&#x6307;&#x5411;&#x961F;&#x5217;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x3002; &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x8FD9;&#x662F;&#x5373;&#x5C06;&#x88AB;&#x5220;&#x9664;&#x7684;&#x5143;&#x7D20;&#x7684;&#x7D22;&#x5F15;&#x3002;</p>
</li>
<li><p><strong><code>rear</code><strong>&#xFF1A;</strong>&#x6307;&#x5411;&#x53EF;&#x4EE5;&#x63D2;&#x5165;&#x5143;&#x7D20;&#x7684;&#x4F4D;&#x7F6E;</strong>&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;<code>rear</code> &#x662F;&#x4E0B;&#x4E00;&#x4E2A;&#x8981;&#x63D2;&#x5165;&#x5143;&#x7D20;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x6307;&#x5411;&#x4E0B;&#x4E00;&#x4E2A;&#x53EF;&#x7528;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x800C;&#x4E0D;&#x662F;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x7D22;&#x5F15;&#x3002;</p>
</li>
<li><h3 id="&#x961F;&#x5217;&#x7684;&#x72B6;&#x6001;"><a href="#&#x961F;&#x5217;&#x7684;&#x72B6;&#x6001;" class="headerlink" title="&#x961F;&#x5217;&#x7684;&#x72B6;&#x6001;"></a>&#x961F;&#x5217;&#x7684;&#x72B6;&#x6001;</h3><ul>
<li><strong>&#x7A7A;&#x961F;&#x5217;</strong>&#xFF1A;<code>front</code> &#x548C; <code>rear</code> &#x90FD;&#x6307;&#x5411;&#x540C;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#xFF0C;&#x4E14;&#x961F;&#x5217;&#x4E3A;&#x7A7A;&#x3002;</li>
<li><strong>&#x6EE1;&#x961F;&#x5217;</strong>&#xFF1A;<code>rear</code> &#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x662F; <code>front</code>&#xFF0C;&#x5373; <code>(rear + 1) % capacity == front</code> &#x5FAA;&#x73AF;&#x8FC7;&#x6765;&#x7684;</li>
</ul>
</li>
</ol>
<h2 id="&#x987A;&#x5E8F;&#x5FAA;&#x73AF;&#x7684;"><a href="#&#x987A;&#x5E8F;&#x5FAA;&#x73AF;&#x7684;" class="headerlink" title="&#x987A;&#x5E8F;&#x5FAA;&#x73AF;&#x7684;"></a>&#x987A;&#x5E8F;&#x5FAA;&#x73AF;&#x7684;</h2><h3 id="&#x961F;&#x5217;&#x521D;&#x59CB;&#x5316;"><a href="#&#x961F;&#x5217;&#x521D;&#x59CB;&#x5316;" class="headerlink" title="&#x961F;&#x5217;&#x521D;&#x59CB;&#x5316;"></a>&#x961F;&#x5217;&#x521D;&#x59CB;&#x5316;</h3><p>&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x4E2A;&#x5BB9;&#x91CF;&#x4E3A; 5 &#x7684;&#x961F;&#x5217;&#xFF1A;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">capacity = 5</span><br><span class="line">queue = [_, _, _, _, _]</span><br><span class="line">front = 0</span><br><span class="line">rear = 0</span><br><span class="line">count = 0</span><br></pre></td></tr></table></figure>

<h3 id="&#x7A7A;&#x961F;&#x5217;&#x72B6;&#x6001;"><a href="#&#x7A7A;&#x961F;&#x5217;&#x72B6;&#x6001;" class="headerlink" title="&#x7A7A;&#x961F;&#x5217;&#x72B6;&#x6001;"></a>&#x7A7A;&#x961F;&#x5217;&#x72B6;&#x6001;</h3><p>&#x5728;&#x521D;&#x59CB;&#x5316;&#x65F6;&#xFF0C;&#x961F;&#x5217;&#x4E3A;&#x7A7A;&#xFF0C;<code>front</code> &#x548C; <code>rear</code> &#x90FD;&#x6307;&#x5411;&#x4F4D;&#x7F6E; 0&#xFF1A;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">queue = [_, _, _, _, _]</span><br><span class="line">front = 0</span><br><span class="line">rear = 0</span><br><span class="line">count = 0</span><br></pre></td></tr></table></figure>

<h3 id="&#x63D2;&#x5165;&#x5143;&#x7D20;"><a href="#&#x63D2;&#x5165;&#x5143;&#x7D20;" class="headerlink" title="&#x63D2;&#x5165;&#x5143;&#x7D20;"></a>&#x63D2;&#x5165;&#x5143;&#x7D20;</h3><p>&#x6211;&#x4EEC;&#x4F9D;&#x6B21;&#x63D2;&#x5165; 4 &#x4E2A;&#x5143;&#x7D20;&#xFF08;10, 20, 30, 40&#xFF09;&#xFF1A;</p>
<ol>
<li><p>&#x63D2;&#x5165; 10&#xFF1A;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">queue = [10, _, _, _, _]</span><br><span class="line">front = 0</span><br><span class="line">rear = 1</span><br><span class="line">count = 1</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x63D2;&#x5165; 20</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">queue = [10, 20, _, _, _]</span><br><span class="line">front = 0</span><br><span class="line">rear = 2</span><br><span class="line">count = 2</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x63D2;&#x5165; 30</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">queue = [10, 20, 30, _, _]</span><br><span class="line">front = 0</span><br><span class="line">rear = 3</span><br><span class="line">count = 3</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x63D2;&#x5165; 40</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">queue = [10, 20, 30, 40, _]</span><br><span class="line">front = 0</span><br><span class="line">rear = 4</span><br><span class="line">count = 4</span><br></pre></td></tr></table></figure>
</li>
<li><h3 id="&#x6EE1;&#x961F;&#x5217;&#x72B6;&#x6001;"><a href="#&#x6EE1;&#x961F;&#x5217;&#x72B6;&#x6001;" class="headerlink" title="&#x6EE1;&#x961F;&#x5217;&#x72B6;&#x6001;"></a>&#x6EE1;&#x961F;&#x5217;&#x72B6;&#x6001;</h3><p>&#x518D;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF08;50&#xFF09;&#xFF0C;&#x961F;&#x5217;&#x5C06;&#x6EE1;&#xFF1A;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">queue = [10, 20, 30, 40, 50]</span><br><span class="line">front = 0</span><br><span class="line">rear = 0  // rear &#x56DE;&#x5230;&#x8D77;&#x70B9;</span><br><span class="line">count = 5</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h3><ol>
<li><p>&#x6BCF;&#x6B21;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x540E; <code>rear</code> &#x90FD;&#x4F1A;&#x66F4;&#x65B0;&#x4E3A; <code>(rear + 1) % capacity</code>&#x3002;</p>
</li>
<li><p>rear &#x6C38;&#x8FDC;&#x4E0D;&#x5E94;&#x8BE5;&#x7B49;&#x4E8E;=capacity &#x6700;&#x5927;&#x503C;&#x662F; capacity-1 &#x5E94;&#x4E3A;&#x5F53; rear &#x4E3A; capacity-1 &#x7684;&#x65F6;&#x5019;&#x5C31;&#x610F;&#x5473;&#x7740;&#x4E0B;&#x4E00;&#x4E2A;&#x8981;&#x63D2;&#x5165;&#x5143;&#x7D20;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;<strong>&#x4E0B;&#x4E00;&#x4E2A;&#x53EF;&#x7528;&#x7684;&#x4F4D;&#x7F6E;&#x662F;&#x8FD9;&#x4E2A;&#x6570;&#x7EC4;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x7A7A;&#x4F4D;&#x4E86;</strong></p>
</li>
<li><p><strong>&#x66F4;&#x65B0; <code>front</code> &#x7684;&#x4F4D;&#x7F6E;</strong>&#xFF1A;&#x5728;&#x5FAA;&#x73AF;&#x4E2D;&#x9700;&#x8981;&#x79FB;&#x52A8;&#x7684;&#x5143;&#x7D20;&#x4E0D;&#x9700;&#x8981;&#x6574;&#x4E2A;&#x6570;&#x7EC4;&#x79FB;&#x52A8;&#x3002;&#x4F60;&#x5E94;&#x8BE5;&#x76F4;&#x63A5;&#x66F4;&#x65B0; <code>front</code> &#x7684;&#x4F4D;&#x7F6E;&#x3002;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">item = queue[front]; // &#x83B7;&#x53D6; front &#x6307;&#x5411;&#x7684;&#x5143;&#x7D20;</span><br><span class="line">    front = (front + 1) % capacity; // &#x66F4;&#x65B0; front &#x7684;&#x4F4D;&#x7F6E;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="priority-queue"><a href="#priority-queue" class="headerlink" title="priority queue"></a>priority queue</h2><p>Priority Queue is a linear data structure that has the <strong>priority associated</strong> with each element. So, the elements are served in the order of highest to lowest priority. If multiple elements have the same priority, they are served as per their original order.</p>
<p>&#x4F18;&#x5148;&#x7EA7;&#x961F;&#x5217;&#x662F;&#x4E0D;&#x540C;&#x4E8E;&#x5148;&#x8FDB;&#x5148;&#x51FA;&#x961F;&#x5217;&#x7684;&#x53E6;&#x4E00;&#x79CD;&#x961F;&#x5217;&#xFF0C;&#x6BCF;&#x6B21;&#x4ECE;&#x961F;&#x5217;&#x4E2D;&#x53D6;&#x51FA;&#x7684;&#x662F;&#x5177;&#x6709;&#x6700;&#x9AD8;&#x4F18;&#x5148;&#x6743;&#x7684;&#x5143;&#x7D20;&#x3002;</p>
<p>&#x5728;&#x6700;&#x5C0F;&#x4F18;&#x5148;&#x961F;&#x5217; (min priority queue) &#x4E2D;&#xFF0C;&#x67E5;&#x627E;&#x64CD;&#x4F5C;&#x7528;&#x6765;&#x641C;&#x7D22;&#x4F18;&#x5148;&#x6743;&#x6700;&#x5C0F;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x7528;&#x6765;&#x5220;&#x9664;&#x8BE5;&#x5143;&#x7D20;&#x3002;&#x6700;&#x5C0F;&#x4F18;&#x5148;&#x961F;&#x5217;&#xFF0C;&#x65E0;&#x8BBA;&#x5165;&#x961F;&#x987A;&#x5E8F;&#xFF0C;&#x5F53;&#x524D;&#x6700;&#x5C0F;&#x7684;&#x5143;&#x7D20;&#x4F18;&#x5148;&#x51FA;&#x961F;&#x3002;<br>&#x5728;&#x6700;&#x5927;&#x4F18;&#x5148;&#x961F;&#x5217; (max priority queue) &#x4E2D;&#xFF0C;&#x67E5;&#x627E;&#x64CD;&#x4F5C;&#x7528;&#x6765;&#x641C;&#x7D22;&#x4F18;&#x5148;&#x6743;&#x6700;&#x5927;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x7528;&#x6765;&#x5220;&#x9664;&#x8BE5;&#x5143;&#x7D20;&#x3002;&#x6700;&#x5927;&#x4F18;&#x5148;&#x961F;&#x5217;&#xFF0C;&#x65E0;&#x8BBA;&#x5165;&#x961F;&#x987A;&#x5E8F;&#xFF0C;&#x5F53;&#x524D;&#x6700;&#x5927;&#x7684;&#x5143;&#x7D20;&#x4F18;&#x5148;&#x51FA;&#x961F;&#x3002;<br>&#x5BF9;&#x4E8E;&#x4F18;&#x5148;&#x6743;&#x76F8;&#x540C;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x53EF;&#x6309;&#x5148;&#x8FDB;&#x5148;&#x51FA;&#x6B21;&#x5E8F;&#x5904;&#x7406;&#x6216;&#x6309;&#x4EFB;&#x610F;&#x4F18;&#x5148;&#x6743;&#x8FDB;&#x884C;<br><img src="https://s3.bmp.ovh/imgs/2024/10/22/021ef79506a469af.png" style="zoom:150%;"></p>
<p><img src="https://s3.bmp.ovh/imgs/2024/10/22/1c843578e156da30.png"></p>
<p>&#x4F18;&#x5148;&#x961F;&#x5217;&#x5177;&#x6709;&#x6700;&#x9AD8;&#x7EA7;&#x5148;&#x51FA; (first in, largest out) &#x7684;&#x884C;&#x4E3A;&#x7279;&#x5F81;</p>
<p><img src="https://s3.bmp.ovh/imgs/2024/10/22/d47df35e955ad02f.png"></p>
<h2 id="&#x53CC;&#x7AEF;&#x961F;&#x5217;"><a href="#&#x53CC;&#x7AEF;&#x961F;&#x5217;" class="headerlink" title="&#x53CC;&#x7AEF;&#x961F;&#x5217;"></a>&#x53CC;&#x7AEF;&#x961F;&#x5217;</h2><p>&#x53CC;&#x7AEF;&#x961F;&#x5217;&#x662F;&#x666E;&#x901A;&#x961F;&#x5217;&#x7684;&#x6269;&#x5C55;&#xFF0C;&#x662F;&#x6307;&#x5141;&#x8BB8;&#x4E24;&#x7AEF;&#x90FD;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5165;&#x961F;&#x548C;&#x51FA;&#x961F;&#x64CD;&#x4F5C;&#x7684;&#x961F;&#x5217;&#xFF08;&#x5373;&#x53EF;&#x4EE5;&#x5728;&#x961F;&#x5934;&#x8FDB;&#x884C;&#x5165;&#x961F;&#x548C;&#x51FA;&#x961F;&#x64CD;&#x4F5C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x961F;&#x5C3E;&#x8FDB;&#x884C;&#x5165;&#x961F;&#x548C;&#x51FA;&#x961F;&#x64CD;&#x4F5C;&#x7684;&#x961F;&#x5217;&#xFF09;&#x3002;&#x5176;&#x5143;&#x7D20;&#x7684;&#x903B;&#x8F91;&#x7ED3;&#x6784;&#x4ECD;&#x7136;&#x662F;&#x7EBF;&#x6027;&#x7ED3;&#x6784;&#xFF0C;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x987A;&#x5E8F;&#x5B58;&#x50A8;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x94FE;&#x5F0F;&#x5B58;&#x50A8;&#x3002;&#x5C06;&#x961F;&#x5217;&#x7684;&#x4E24;&#x7AEF;&#x5206;&#x522B;&#x79F0;&#x4E3A;&#x524D;&#x7AEF;&#x548C;&#x540E;&#x7AEF;&#xFF0C;&#x4E24;&#x7AEF;&#x90FD;&#x53EF;&#x4EE5;&#x5165;&#x961F;&#x548C;&#x51FA;&#x961F;&#x3002;<br><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202410231839719.png"></p>
<h2 id="&#x5FAA;&#x73AF;&#x5BF9;&#x5217;"><a href="#&#x5FAA;&#x73AF;&#x5BF9;&#x5217;" class="headerlink" title="&#x5FAA;&#x73AF;&#x5BF9;&#x5217;"></a>&#x5FAA;&#x73AF;&#x5BF9;&#x5217;</h2><p>&#x5FAA;&#x73AF;&#x961F;&#x5217;&#x7684;&#x961F;&#x5934;&#x548C;&#x961F;&#x5C3E;&#x6307;&#x9488;&#x5206;&#x522B;&#x4E3A; front &#x548C; rear&#xFF0C;&#x5219;&#x5224;&#x65AD;&#x5FAA;&#x73AF;&#x961F;&#x5217;&#x4E3A;&#x7A7A;&#x7684;&#x6761;&#x4EF6;&#x662F;&#xFF08; &#xFF09;&#x3002;<br>front==rear</p>
<h1 id="&#x57FA;&#x4E8E;-MyStack-&#x8FDB;&#x884C;&#x6269;&#x5C55;&#x6539;&#x8FDB;"><a href="#&#x57FA;&#x4E8E;-MyStack-&#x8FDB;&#x884C;&#x6269;&#x5C55;&#x6539;&#x8FDB;" class="headerlink" title="&#x57FA;&#x4E8E; MyStack &#x8FDB;&#x884C;&#x6269;&#x5C55;&#x6539;&#x8FDB;"></a>&#x57FA;&#x4E8E; MyStack &#x8FDB;&#x884C;&#x6269;&#x5C55;&#x6539;&#x8FDB;</h1><p>&#x4E2D;&#x7F00;&#x8868;&#x8FBE;&#x5F0F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5E73;&#x65F6;&#x5199;&#x7684;&#x6570;&#x5B66;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x6BD4;&#x5982; <code>3 + 4 * 5</code>&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#xFF0C;&#x8FD0;&#x7B97;&#x7B26;&#xFF08;&#x5982; <code>+</code> &#x548C; <code>*</code>&#xFF09;&#x4F4D;&#x4E8E;&#x64CD;&#x4F5C;&#x6570;&#x4E4B;&#x95F4;&#x3002;</p>
<p>&#x540E;&#x7F00;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;&#x4E5F;&#x53EB;&#x9006;&#x6CE2;&#x5170;&#x8868;&#x8FBE;&#x5F0F;&#xFF09;&#x5219;&#x628A;&#x8FD0;&#x7B97;&#x7B26;&#x653E;&#x5728;&#x64CD;&#x4F5C;&#x6570;&#x540E;&#x9762;&#xFF0C;&#x6BD4;&#x5982; <code>3 4 5 * +</code>&#x3002;&#x8FD9;&#x79CD;&#x8868;&#x793A;&#x6CD5;&#x4E0D;&#x9700;&#x8981;&#x62EC;&#x53F7;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD0;&#x7B97;&#x987A;&#x5E8F;&#x662F;&#x901A;&#x8FC7;&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x4F4D;&#x7F6E;&#x6765;&#x51B3;&#x5B9A;&#x7684;&#x3002;</p>
<p>&#x8BA1;&#x7B97;&#x540E;&#x7F00;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x7528;&#x6808;&#x6765;&#x5B9E;&#x73B0;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x904D;&#x5386;&#x540E;&#x7F00;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#xFF1A;</span><br><span class="line">&#x5982;&#x679C;&#x662F;&#x6570;&#x5B57;&#xFF0C;&#x538B;&#x5165;&#x6808;&#x4E2D;&#x3002;</span><br><span class="line">&#x5982;&#x679C;&#x662F;&#x8FD0;&#x7B97;&#x7B26;&#xFF08;&#x5982; +&#x3001;-&#x3001;*&#x3001;/&#xFF09;&#xFF0C;&#x5219;&#xFF1A;</span><br><span class="line">&#x4ECE;&#x6808;&#x4E2D;&#x5F39;&#x51FA;&#x4E24;&#x4E2A;&#x6570;&#x5B57;&#xFF08;&#x7B2C;&#x4E00;&#x4E2A;&#x5F39;&#x51FA;&#x7684;&#x4E3A;&#x53F3;&#x64CD;&#x4F5C;&#x6570;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x5F39;&#x51FA;&#x7684;&#x4E3A;&#x5DE6;&#x64CD;&#x4F5C;&#x6570;&#xFF09;&#x3002;</span><br><span class="line">&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x8FD0;&#x7B97;&#xFF0C;&#x5E76;&#x5C06;&#x7ED3;&#x679C;&#x538B;&#x56DE;&#x6808;&#x4E2D;&#x3002;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Stack</tag>
        <tag>Data structure</tag>
      </tags>
  </entry>
  <entry>
    <title>Bubbling and capturing</title>
    <url>/2024/10/22/2024-10-22-Bubbling%20and%20capturing/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://s3.bmp.ovh/imgs/2024/10/22/c40d807ad0034767.png"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onclick</span>=<span class="string">&quot;alert(&apos;The handler!&apos;)&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">em</span></span></span><br><span class="line"><span class="tag">    &gt;</span>If you click on <span class="tag">&lt;<span class="name">code</span>&gt;</span>EM<span class="tag">&lt;/<span class="name">code</span>&gt;</span>, the handler on <span class="tag">&lt;<span class="name">code</span>&gt;</span>DIV<span class="tag">&lt;/<span class="name">code</span>&gt;</span> runs.&lt;/em</span><br><span class="line">  &gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This handler is assigned to div, but <strong>also runs</strong> if you click any nested tag like em or code:<br>Why does the handler on <strong>div</strong> run even if the actual click was on <strong>em</strong>?</p>
<h1 id="Bubbling"><a href="#Bubbling" class="headerlink" title="Bubbling"></a>Bubbling</h1><p>When an event happens on an element(like click on a button), it first runs the handlers on it, then on its parent, then all the way up on other <strong>ancestors.</strong><br><img src="https://s3.bmp.ovh/imgs/2024/10/22/9d20d1c154df1a4d.png"></p>
<h2 id="event-target"><a href="#event-target" class="headerlink" title="event.target"></a>event.target</h2><p><strong>A handler on a parent element</strong> can always get the information about where it actually happened.</p>
<p>The most deeply nested element that caused the event is called a target element, accessible as event.target.</p>
<p>Note the differences from</p>
<ol>
<li><p>this (=event.currentTarget): this &#x2013; is the &#x201C;current&#x201D; element, the one that <strong>has a currently running handler</strong> on it.</p>
</li>
<li><p>event.target &#x2013; is the &#x201C;target&#x201D; element that <strong>initiated the event,</strong> it doesn&#x2019;t change through the bubbling process.</p>
</li>
</ol>
<h3 id="example&#xFF1A;form"><a href="#example&#xFF1A;form" class="headerlink" title="example&#xFF1A;form"></a>example&#xFF1A;form</h3><p>For instance, if we have a single handler form.onclick, then it can &#x201C;catch&#x201D; all clicks inside the form. No matter where the click happened, it bubbles up to <form> and runs the handler.</form></p>
<p>In form.onclick handler:</p>
<p>this (=event.currentTarget) is the <form> element, because the handler runs on it.<br>event.target is the actual element inside the form that was clicked.</form></p>
<h1 id="Stop-bubbling"><a href="#Stop-bubbling" class="headerlink" title="Stop bubbling"></a>Stop bubbling</h1><p>A bubbling event goes from the target element straight up. Normally it goes upwards till <code>&lt;html&gt;</code>, and then to <code>document</code> object, and some events even reach <code>window</code>, <strong>calling all handlers on the path</strong>.</p>
<p>**But any handler can decide that the event has been fully processed and stop the bubbling.**which is to say &#x201C;this is enough, I don&#x2019;t want this event to be known by other handlers&#x201D;.</p>
<p>The method for it is <code>event.stopPropagation()</code>.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onclick</span>=<span class="string">&quot;alert(`the bubbling doesn&apos;t reach here`)&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;event.stopPropagation()&quot;</span>&gt;</span>Click me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="event-stopImmediatePropagation"><a href="#event-stopImmediatePropagation" class="headerlink" title="event.stopImmediatePropagation()."></a><code>event.stopImmediatePropagation()</code>.</h2><p>If an element has multiple event handlers on a single event, then even if one of them stops the bubbling, the other ones still execute.</p>
<p>In other words, <code>event.stopPropagation()</code> stops the move upwards, but on the current element all other handlers will run.</p>
<p>To stop the bubbling and prevent handlers on the current element from running, there&#x2019;s a method <code>event.stopImmediatePropagation()</code>. After you use this <code>event.stopImmediatePropagation()</code> no other handlers will execute.</p>
<h2 id="event-preventDefault"><a href="#event-preventDefault" class="headerlink" title="event.preventDefault();"></a>event.preventDefault();</h2><p>What is default behavior&#xFF1F;</p>
<p>It is the default behavior of the browser <strong>in response to the event</strong> like click, keypress, submit, etc.</p>
<p>For example:</p>
<ul>
<li>Click the &#x201C;Submit&#x201D; button in the form, the browser will submit the form by default.</li>
<li>Press the Enter key in the text box, the browser will perform the submit operation by default.</li>
<li>Trigger the <code>copy</code> event, the browser will copy the selected text to the clipboard by default.</li>
</ul>
<h1 id="Capturing"><a href="#Capturing" class="headerlink" title="Capturing"></a>Capturing</h1><p>There&#x2019;s another phase of event processing called &#x201C;capturing&#x201D;. It is rarely used in real code, but sometimes can be useful.</p>
<p>The standard <a href="https://www.w3.org/TR/DOM-Level-3-Events/">DOM Events</a> describes 3 phases of event propagation:</p>
<ol>
<li>Capturing phase &#x2013; the event goes down to the element.</li>
<li>Target phase &#x2013; the event reached the target element.</li>
<li>Bubbling phase &#x2013; the event bubbles up from the element.</li>
</ol>
<p><img src="https://s3.bmp.ovh/imgs/2024/10/22/1b28efb367e3bce0.png"></p>
<p><img src="https://s3.bmp.ovh/imgs/2024/10/22/46932dc2a35503c3.png"></p>
<h1 id="addeventListener"><a href="#addeventListener" class="headerlink" title="addeventListener"></a>addeventListener</h1><p>Its third parameter is a Boolean value. By setting true/false, the listener is designed in different stages. True means in the capture stage, and false means in the bubbling stage.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>Click me<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> button = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> span = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> body = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;body&quot;</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Name</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">nodeName</span>);</span><br><span class="line">}</span><br><span class="line">button.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">Name</span>, <span class="literal">false</span>);</span><br><span class="line">span.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">Name</span>, <span class="literal">false</span>);</span><br><span class="line">body.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">Name</span>, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>

<p>&#x5F53;&#x4F60;&#x70B9;&#x51FB; span &#x65F6;&#xFF0C;&#x4F1A;&#x4F9D;&#x6B21;&#x8F93;&#x51FA; span button body&#xFF0C;&#x56E0;&#x4E3A;&#x4E8B;&#x4EF6;&#x662F;&#x4ECE; span &#x5F00;&#x59CB;&#x5192;&#x6CE1;&#x5230; button &#x518D;&#x5192;&#x6CE1;&#x5230; body &#x7684;&#x3002;<br>&#x4F46;&#x5F53;&#x4F60;&#x70B9;&#x51FB; body &#x53EA;&#x6709; body &#x4F1A;&#x8F93;&#x51FA; &#x56E0;&#x4E3A;&#x5DF2;&#x7ECF;&#x5230;&#x8FBE;&#x4E86;&#x5143;&#x7D20; &#x4ED6;&#x5F80;&#x4E0A;&#x5192;&#x6CE1;&#x6CA1;&#x6709;&#x76D1;&#x542C;&#x5668;&#x4E86;&#x3002;</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> button = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> span = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> body = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;body&quot;</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Name</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">nodeName</span>);</span><br><span class="line">}</span><br><span class="line">button.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">Name</span>, <span class="literal">true</span>);</span><br><span class="line">span.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">Name</span>, <span class="literal">true</span>);</span><br><span class="line">body.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">Name</span>, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<p><strong>&#x73B0;&#x5728;&#x5F53;&#x4F60;&#x70B9;&#x51FB; body &#x4F1A;&#x4F9D;&#x6B21;&#x8F93;&#x51FA; body &#x4E5F;&#x53EA;&#x4F1A;&#x8F93;&#x51FA; body &#x56E0;&#x4E3A;&#x5DF2;&#x7ECF;&#x5230;&#x8FBE;&#x5143;&#x7D20; target &#x4E86; &#x5F53;&#x4F60;&#x70B9;&#x51FB; body body &#x5C31;&#x662F;&#x76EE;&#x6807;&#x5143;&#x7D20; &#x8FD9;&#x4E2A;&#x6355;&#x83B7;&#x9636;&#x6BB5;&#x662F;&#x4ECE; window-&gt;body &#x800C;&#x4E0D;&#x662F; body-&gt;button-&gt;span</strong></p>
<h1 id="&#x4E8B;&#x4EF6;&#x6D41;"><a href="#&#x4E8B;&#x4EF6;&#x6D41;" class="headerlink" title="&#x4E8B;&#x4EF6;&#x6D41;"></a>&#x4E8B;&#x4EF6;&#x6D41;</h1><p>There are both bubbling and capturing, but according to the previous roller coaster, capturing takes precedence over bubbling. When you trigger an event, the browser first checks if there is a listener in your capture phase, then the listener on your element, and then checks if there is a listener in your bubbling phase.</p>
<p><img src="https://s3.bmp.ovh/imgs/2024/10/22/0604a69b22152556.png"></p>
<p><img src="https://s3.bmp.ovh/imgs/2024/10/22/9ffa9d7610d4de7b.png"></p>
<p>&#x70B9;&#x51FB;&#x5143;&#x7D20;&#xFF0C;&#x89E6;&#x53D1;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x6D41;&#x5230;&#x8FBE;&#x4ED6; &#x6D4F;&#x89C8;&#x5668;&#x4ECE; window &#x5F00;&#x59CB;&#x6355;&#x83B7;&#x5230;&#x8FBE;&#x5143;&#x7D20; &#x518D;&#x4ECE;&#x5143;&#x7D20;&#x5192;&#x6CE1;&#x5230; window &#x6CBF;&#x8DEF;&#x53D1;&#x73B0; mother &#x548C; daughter &#x7684;&#x76D1;&#x542C;&#x5668; &#x7136;&#x540E;&#x5230;&#x8FBE;&#x5143;&#x7D20; baby &#x7684; &#x5192;&#x6CE1;&#x5230;&#x8FBE; grandma &#x4E0D;&#x4F1A;&#x518D;&#x53BB;&#x6267;&#x884C; mother &#x548C; daughter &#x7684;&#x76D1;&#x542C;&#x5668; &#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x76D1;&#x542C;&#x5668;&#x8BBE;&#x5728;&#x6355;&#x83B7;&#x9636;&#x6BB5;</p>
]]></content>
      <tags>
        <tag>Javascript</tag>
      </tags>
  </entry>
  <entry>
    <title>Siganls</title>
    <url>/2024/10/22/2024-10-22-signal/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202410230050367.png"></p>
<p>A signal is a mechanism for communication <strong>between processes.</strong> You can think of it like a notification that interrupts you, prompting you to pay attention to something important.</p>
<span id="more"></span>

<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202410230103511.png"><br>The signal is <strong>asynchronous</strong> (compared to hardware interrupts), and the arrival time and content of the signal are uncertain meaning you can&#x2019;t predict when a signal will arrive</p>
<p>The signal is essentially an int type digital number (pre-defined)<br>For example:1.<strong>SIGINT (2)</strong>: This signal interrupts a process. It&#x2019;s typically sent when you press <code>Ctrl+C</code> in a terminal to stop a running program. 2.<strong>SIGTERM (15)</strong>: This is a termination signal. It politely asks a process to terminate, allowing it to clean up resources before exiting.</p>
<h1 id="Who-sends-the-signal"><a href="#Who-sends-the-signal" class="headerlink" title="Who sends the signal:"></a>Who sends the signal:</h1><p>(1) The user presses a button on the <strong>terminal</strong></p>
<p>(2) The <strong>operating system</strong> kernel sends a signal after a hardware failure</p>
<p>(3) The user uses the <strong>kill command</strong> to send a signal to other processes</p>
<p>(4) A signal is also sent when certain software conditions are met, such as when the alarm time is reached, <strong>a SIGALARM signal is generated</strong>, and when writing to a pipe whose read end has been closed, a SIGPIPE signal is generated.</p>
<h1 id="Signals-can-be-handled-in-three-main-ways"><a href="#Signals-can-be-handled-in-three-main-ways" class="headerlink" title="Signals can be handled in three main ways:"></a>Signals can be handled in three main ways:</h1><p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202410230101997.png"></p>
<ol>
<li><strong>Ignore the Signal</strong>: A process can choose to completely ignore a signal. It simply won&#x2019;t react to it at all, like ignoring someone who&#x2019;s trying to get your attention.</li>
<li><strong>Default Handling</strong>:This usually means either ignoring the signal or terminating the process,</li>
<li><strong>Capture the Signal</strong>: A process can also set up a function to respond to a signal. This means when the signal arrives, it runs the specified function instead of just ignoring it or terminating.</li>
</ol>
<h1 id="&#x8FDB;&#x7A0B;&#x7EC4;"><a href="#&#x8FDB;&#x7A0B;&#x7EC4;" class="headerlink" title="&#x8FDB;&#x7A0B;&#x7EC4;"></a>&#x8FDB;&#x7A0B;&#x7EC4;</h1><p>When you start a process, it can create child processes, and these can be grouped together into a process group. This makes it easier to manage multiple processes as a single unit.</p>
<p>&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x90FD;&#x90FD;&#x53EA;&#x5C5E;&#x4E8E;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7EC4;<br><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202410230113787.png"></p>
<p><code>getpgid</code> &#x548C; <code>setpgid</code> &#x6765;&#x83B7;&#x53D6;&#x548C;&#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7EC4;</p>
<ul>
<li><code>int getpgid(int pid)</code>&#xFF1A;&#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x8FDB;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x7EC4; ID&#x3002;</li>
<li><code>int setpgid(int pid, int pgid)</code>&#xFF1A;&#x8BBE;&#x7F6E;&#x6307;&#x5B9A;&#x8FDB;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x7EC4; ID&#x3002;</li>
</ul>
<p>PGID&#xFF08;Process Group ID&#xFF0C;&#x8FDB;&#x7A0B;&#x7EC4; ID&#xFF09; &#x548C; PID&#xFF08;Process ID&#xFF0C;&#x8FDB;&#x7A0B; ID&#xFF09; &#x662F; Linux &#x7CFB;&#x7EDF;&#x4E2D;&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x8FDB;&#x7A0B;&#x548C;&#x8FDB;&#x7A0B;&#x7EC4;&#x7684;&#x4E24;&#x4E2A;&#x91CD;&#x8981;&#x6807;&#x8BC6;&#x7B26;&#x3002;</p>
<ul>
<li>&#x8FDB;&#x7A0B;&#x7EC4;&#x901A;&#x5E38;&#x7531;&#x4E00;&#x4E2A; &#x201C;&#x7EC4;&#x957F;&#x201D; &#x8FDB;&#x7A0B;&#x521B;&#x5EFA;&#xFF0C;&#x5B83;&#x7684; PGID &#x548C;&#x5B83;&#x7684; PID &#x76F8;&#x540C;&#x3002;<strong>&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>setpgid</code> &#x51FD;&#x6570;&#x52A0;&#x5165;&#x8FD9;&#x4E2A;&#x8FDB;&#x7A0B;&#x7EC4;&#x3002;</strong></li>
<li>&#x6240;&#x6709;&#x540C;&#x4E00;&#x8FDB;&#x7A0B;&#x7EC4;&#x4E2D;&#x7684;&#x8FDB;&#x7A0B;<strong>&#x5171;&#x4EAB;&#x76F8;&#x540C;&#x7684; PGID&#x3002;</strong></li>
</ul>
<p>Shell &#x4F5C;&#x4E3A;&#x7236;&#x8FDB;&#x7A0B;&#xFF0C;PID &#x4E3A; 10&#xFF0C;PGID &#x4E5F;&#x4E3A; 10&#xFF0C;&#x5B83;&#x7BA1;&#x7406;&#x4E86;&#x591A;&#x4E2A;&#x4F5C;&#x4E1A;&#xFF08;&#x524D;&#x53F0;&#x548C;&#x540E;&#x53F0;&#xFF09;</p>
<h2 id="&#x524D;&#x53F0;&#x540E;&#x53F0;"><a href="#&#x524D;&#x53F0;&#x540E;&#x53F0;" class="headerlink" title="&#x524D;&#x53F0;&#x540E;&#x53F0;"></a>&#x524D;&#x53F0;&#x540E;&#x53F0;</h2><ul>
<li><strong>&#x524D;&#x53F0;&#x4F5C;&#x4E1A;&#xFF08;Foreground job&#xFF09;</strong>&#xFF1A;<ul>
<li>&#x7531;&#x8FDB;&#x7A0B; PID 20&#xFF08;PGID 20&#xFF09;&#x7EC4;&#x6210;&#xFF0C;&#x8BE5;&#x4F5C;&#x4E1A;&#x4E0B;&#x6709;&#x4E24;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#xFF08;PID 21 &#x548C; PID 22&#xFF09;&#xFF0C;&#x5B83;&#x4EEC;&#x7684; PGID &#x90FD;&#x662F; 20&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5B83;&#x4EEC;&#x5C5E;&#x4E8E;&#x540C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7EC4;&#x3002;</li>
</ul>
</li>
<li><strong>&#x540E;&#x53F0;&#x4F5C;&#x4E1A; 1&#xFF08;Background job #1&#xFF09;</strong>&#xFF1A;<ul>
<li>&#x7531;&#x8FDB;&#x7A0B; PID 32&#xFF08;PGID 32&#xFF09;&#x7EC4;&#x6210;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x540E;&#x53F0;&#x4F5C;&#x4E1A;&#xFF0C;&#x5176; PGID &#x548C; PID &#x76F8;&#x540C;&#x3002;</li>
</ul>
</li>
<li><strong>&#x540E;&#x53F0;&#x4F5C;&#x4E1A; 2&#xFF08;Background job #2&#xFF09;</strong>&#xFF1A;<ul>
<li>&#x7531;&#x8FDB;&#x7A0B; PID 40&#xFF08;PGID 40&#xFF09;&#x7EC4;&#x6210;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x540E;&#x53F0;&#x4F5C;&#x4E1A; 1&#xFF0C;&#x72EC;&#x7ACB;&#x8FD0;&#x884C;&#xFF0C;PGID &#x4E5F;&#x662F;&#x5B83;&#x81EA;&#x5DF1;&#x7684; PID&#x3002;</li>
</ul>
</li>
</ul>
<h1 id="Let&#x2019;s-send-a-signal"><a href="#Let&#x2019;s-send-a-signal" class="headerlink" title="Let&#x2019;s send a signal"></a>Let&#x2019;s send a signal</h1><ol>
<li><h2 id="&#x7528;-bin-kill-&#x7A0B;&#x5E8F;&#x53D1;&#x9001;&#x4FE1;&#x53F7;"><a href="#&#x7528;-bin-kill-&#x7A0B;&#x5E8F;&#x53D1;&#x9001;&#x4FE1;&#x53F7;" class="headerlink" title="&#x7528; */bin/kill* &#x7A0B;&#x5E8F;&#x53D1;&#x9001;&#x4FE1;&#x53F7;"></a><strong>&#x7528; */bin/kill* &#x7A0B;&#x5E8F;&#x53D1;&#x9001;&#x4FE1;&#x53F7;</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># &#x53D1;&#x9001;&#x4FE1;&#x53F7; 9 &#xFF08;SIGKILL&#xFF09;&#x7ED9;&#x8FDB;&#x7A0B;&#x7EC4;15213</span><br><span class="line">/bin/kill -9 15213</span><br></pre></td></tr></table></figure>
</li>
<li><h2 id="&#x4ECE;&#x952E;&#x76D8;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF1A;"><a href="#&#x4ECE;&#x952E;&#x76D8;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF1A;" class="headerlink" title="&#x4ECE;&#x952E;&#x76D8;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF1A;"></a>&#x4ECE;&#x952E;&#x76D8;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF1A;</h2><p>&#x901A;&#x8FC7;&#x952E;&#x76D8;&#x8BA9;&#x5185;&#x6838;&#x5411;&#x6BCF;&#x4E2A;&#x524D;&#x53F0;&#x8FDB;&#x7A0B;&#x53D1;&#x9001; SIGINT(SIGTSTP) &#x4FE1;&#x53F7;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Ctrl+C  &#xFF08;SIGINT&#xFF09;   #&#x9ED8;&#x8BA4;&#x7EC8;&#x6B62;&#x8FDB;&#x7A0B;</span><br><span class="line">Ctrl+Z  &#xFF08;SIGTSTP&#xFF09;  #&#x9ED8;&#x8BA4;&#x6302;&#x8D77;&#x8FDB;&#x7A0B;</span><br></pre></td></tr></table></figure>
</li>
<li><h2 id="&#x7528;-kill-&#x51FD;&#x6570;-https-so-csdn-net-so-search-q-kill-&#x51FD;&#x6570;-spm-1001-2101-3001-7020-&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF1A;"><a href="#&#x7528;-kill-&#x51FD;&#x6570;-https-so-csdn-net-so-search-q-kill-&#x51FD;&#x6570;-spm-1001-2101-3001-7020-&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF1A;" class="headerlink" title="&#x7528;[kill &#x51FD;&#x6570;](https://so.csdn.net/so/search?q=kill &#x51FD;&#x6570;&amp;spm=1001.2101.3001.7020)&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF1A;"></a>&#x7528;[kill &#x51FD;&#x6570;](<a href="https://so.csdn.net/so/search?q=kill">https://so.csdn.net/so/search?q=kill</a> &#x51FD;&#x6570;&amp;spm=1001.2101.3001.7020)&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF1A;</h2></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">	//&#x4F7F;&#x7528;kill&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#x53F7;&#x7801; sig &#x7ED9;&#x8FDB;&#x7A0B; pid</span><br><span class="line">int kill(pid_t pid, int sig);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x5982;&#x4E0B;&#x7A0B;&#x5E8F;&#x4E3A; &#x7236;&#x8FDB;&#x7A0B;&#x53D1;&#x9001; SIGKILL &#x4FE1;&#x53F7;&#x7ED9;&#x5B83;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#xFF1A;</span><br><span class="line">int main()</span><br><span class="line">{</span><br><span class="line">    pid_t pid;</span><br><span class="line"></span><br><span class="line">    /* Child sleeps until SIGKILL signal received, then dies */</span><br><span class="line">    if ((pid = fork()) == 0)</span><br><span class="line">	{</span><br><span class="line">		pause();  /* Wait for a signal to arrive */</span><br><span class="line">		printf(&quot;control should never reach here!\n&quot;);</span><br><span class="line">		exit(0);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /* Parent sends a SIGKILL signal to a child */</span><br><span class="line">    kill(pid, SIGKILL);</span><br><span class="line">    exit(0);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Blocking"><a href="#Blocking" class="headerlink" title="Blocking"></a>Blocking</h1><p>Blocking signals means that while a process is handling a particular signal, it won&#x2019;t be <strong>interrupted</strong> by other signals of <strong>the same type.</strong></p>
<p>When a process receives a signal, it may execute a signal handler (a specific function designed to deal with that signal). For example, if it&#x2019;s handling a SIGINT (interrupt signal), it runs the associated function.</p>
<p><strong>Blocking Same Signals</strong>: While this handler is running, any other incoming SIGINT signals are blocked. This means that if another SIGINT arrives, it won&#x2019;t interrupt the current handling process</p>
<p>This prevents confusion and ensures that the process can complete its response to the first signal without being interrupted, maintaining stability and clarity in how signals are processed.</p>
]]></content>
      <tags>
        <tag>计算机组成原理</tag>
        <tag>cs app</tag>
      </tags>
  </entry>
  <entry>
    <title>How to use axios and cheerio to grab bullshit</title>
    <url>/2024/10/18/2024-10-18-axiosAndcheerio/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Basically, to delivery this toy is to use axios to accomplish <strong>http-request</strong> and to use cheerio to <strong>parse and extract</strong> the info you need.</p>
<h2 id="What-is-axios"><a href="#What-is-axios" class="headerlink" title="What is axios"></a>What is axios</h2><p>axios is an <strong>library</strong> based on <strong>Promise</strong> providing you a capability to realize a http request.</p>
<p>Why choose it? It simplifies the process for sending an Internet request.</p>
<h2 id="What-is-cheerio"><a href="#What-is-cheerio" class="headerlink" title="What is cheerio"></a>What is cheerio</h2><p>Cheerio is a fast and lightweight <strong>library</strong> for manipulation of <strong>HTML and XML documents.</strong></p>
<p>It&#x2019;s designed for use in Node.js environments, allowing you to easily parse, traverse, and manipulate the structure of web pages.</p>
<p>With Cheerio, you can load HTML content, select elements using familiar jQuery selectors, and extract or modify data.</p>
<h2 id="write-js-code"><a href="#write-js-code" class="headerlink" title="write js code"></a>write js code</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">&quot;axios&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> cheerio = <span class="built_in">require</span>(<span class="string">&quot;cheerio&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Using these to introduce them.</p>
<p>design a <strong>async</strong>-function to wrap it.Why async? The function makes an HTTP request, which can take time (like waiting for a server response). Using <code>async</code> allows the function to pause execution until the request is completed <strong>without blocking other operations.</strong></p>
<p>You can add a console.log(&#x201C;waiting&#x201D;); after you call the function.It will be printed first.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">await axios.get(url);</span><br></pre></td></tr></table></figure>

<p>this <strong>await</strong> shall pause the function-exection and <strong>axios.get</strong> shall get the info.</p>
<h3 id="what-does-axios-get-return"><a href="#what-does-axios-get-return" class="headerlink" title="what does axios.get return"></a>what does axios.get return</h3><p>It returns a <strong>Promise</strong> and the Promise will <strong>resolve to an object</strong> wrapping the HTTP response.<br>this object has lots of properties to show information about this Internet request.</p>
<p>like status:200 statusText:ok response-headers</p>
<p>And the data: The body of the response returned by the server, usually data in HTML, JSON</p>
<p>That&#x2019;s what we need.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> { data } = <span class="keyword">await</span> axios.<span class="title function_">get</span>(url);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> $ = cheerio.<span class="title function_">load</span>(data);</span><br><span class="line">$(<span class="string">&quot;h1&quot;</span>).<span class="title function_">each</span>(<span class="function">(<span class="params">i, element</span>) =&gt;</span> {</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>($(element).<span class="title function_">text</span>());</span><br><span class="line">});</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x884C;&#x4EE3;&#x7801;&#x5C06; HTML &#x6570;&#x636E;&#x52A0;&#x8F7D;&#x5230; Cheerio &#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; jQuery &#x98CE;&#x683C;&#x7684;&#x9009;&#x62E9;&#x5668;&#x6765;&#x64CD;&#x4F5C;&#x8FD9;&#x4E2A;&#x6587;&#x6863;&#x3002;</p>
<p><strong><code>$(&quot;h1&quot;).each((i, element) =&gt; {...});</code></strong>: &#x8FD9;&#x884C;&#x4EE3;&#x7801;&#x9009;&#x62E9;&#x6240;&#x6709;&#x7684; <code>&lt;h1&gt;</code> &#x6807;&#x7B7E;&#xFF0C;&#x5E76;&#x5BF9;&#x6BCF;&#x4E2A;&#x627E;&#x5230;&#x7684;&#x5143;&#x7D20;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</p>
<p><strong><code>console.log($(element).text());</code></strong>: &#x5728;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;<code>$(element).text()</code> &#x83B7;&#x53D6;&#x5F53;&#x524D; <code>&lt;h1&gt;</code> &#x5143;&#x7D20;&#x7684;&#x6587;&#x672C;&#x5185;&#x5BB9;</p>
]]></content>
      <categories>
        <category>Front-end</category>
      </categories>
      <tags>
        <tag>axios</tag>
        <tag>cheerio</tag>
      </tags>
  </entry>
  <entry>
    <title>跨域</title>
    <url>/2024/11/02/2024-11-2-%E8%B7%A8%E5%9F%9F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="&#x540C;&#x6E90;&#x7B56;&#x7565;"><a href="#&#x540C;&#x6E90;&#x7B56;&#x7565;" class="headerlink" title="&#x540C;&#x6E90;&#x7B56;&#x7565;"></a>&#x540C;&#x6E90;&#x7B56;&#x7565;</h1><h3 id="&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x5B9A;&#x4E49;"><a href="#&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x5B9A;&#x4E49;" class="headerlink" title="&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x5B9A;&#x4E49;"></a>&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x5B9A;&#x4E49;</h3><p>&#x540C;&#x6E90;&#x7B56;&#x7565;&#x8981;&#x6C42;&#xFF0C;&#x53EA;&#x6709;&#x5F53;&#x4E24;&#x4E2A; URL &#x7684;&#x534F;&#x8BAE;&#x3001;&#x57DF;&#x540D;&#x548C;&#x7AEF;&#x53E3;&#x90FD;&#x76F8;&#x540C;&#x65F6;&#xFF0C;&#x624D;&#x80FD;&#x4E92;&#x76F8;&#x8BBF;&#x95EE;&#x5176;&#x8D44;&#x6E90;&#x3002;&#x5177;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;&#x540C;&#x6E90;&#x7B56;&#x7565;&#x68C0;&#x67E5;&#x4EE5;&#x4E0B;&#x4E09;&#x4E2A;&#x90E8;&#x5206;&#x662F;&#x5426;&#x76F8;&#x540C;&#xFF1A;</p>
<ol>
<li><strong>&#x534F;&#x8BAE;</strong>&#xFF08;&#x5982; <code>http</code>&#x3001;<code>https</code>&#xFF09;</li>
<li><strong>&#x57DF;&#x540D;</strong>&#xFF08;&#x5982; <code>example.com</code>&#x3001;<code>sub.example.com</code>&#xFF09;</li>
<li><strong>&#x7AEF;&#x53E3;</strong>&#xFF08;&#x5982; <code>80</code>&#x3001;<code>443</code>&#xFF09;</li>
</ol>
<h3 id="&#x793A;&#x4F8B;"><a href="#&#x793A;&#x4F8B;" class="headerlink" title="&#x793A;&#x4F8B;"></a>&#x793A;&#x4F8B;</h3><ul>
<li><code>http://example.com/page1</code> &#x548C; <code>http://example.com/page2</code> &#x662F;&#x540C;&#x6E90;&#x7684;&#x3002;</li>
<li><code>http://example.com</code> &#x548C; <code>https://example.com</code> &#x4E0D;&#x662F;&#x540C;&#x6E90;&#x7684;&#xFF08;&#x534F;&#x8BAE;&#x4E0D;&#x540C;&#xFF09;&#x3002;</li>
<li><code>http://example.com</code> &#x548C; <code>http://api.example.com</code> &#x4E0D;&#x662F;&#x540C;&#x6E90;&#x7684;&#xFF08;&#x57DF;&#x540D;&#x4E0D;&#x540C;&#xFF09;&#x3002;</li>
<li><code>http://example.com:80</code> &#x548C; <code>http://example.com:8080</code> &#x4E0D;&#x662F;&#x540C;&#x6E90;&#x7684;&#xFF08;&#x7AEF;&#x53E3;&#x4E0D;&#x540C;&#xFF09;&#x3002;</li>
</ul>
<h3 id="&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x5177;&#x4F53;&#x9650;&#x5236;"><a href="#&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x5177;&#x4F53;&#x9650;&#x5236;" class="headerlink" title="&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x5177;&#x4F53;&#x9650;&#x5236;"></a>&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x5177;&#x4F53;&#x9650;&#x5236;</h3><p>&#x540C;&#x6E90;&#x7B56;&#x7565;&#x9650;&#x5236;&#x4E86;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#xFF1A;</p>
<ol>
<li><strong>DOM &#x8BBF;&#x95EE;</strong>&#xFF1A;&#x4E00;&#x4E2A;&#x6E90;&#x7684;&#x811A;&#x672C;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;&#x6216;&#x64CD;&#x4F5C;&#x53E6;&#x4E00;&#x4E2A;&#x6E90;&#x7684; DOM&#x3002;</li>
<li><strong>Cookie &#x8BBF;&#x95EE;</strong>&#xFF1A;&#x4E00;&#x4E2A;&#x6E90;&#x7684;&#x811A;&#x672C;&#x4E0D;&#x80FD;&#x8BFB;&#x53D6;&#x6216;&#x5199;&#x5165;&#x53E6;&#x4E00;&#x4E2A;&#x6E90;&#x7684; Cookie&#x3002;</li>
<li><strong>AJAX &#x8BF7;&#x6C42;</strong>&#xFF1A;&#x4E00;&#x4E2A;&#x6E90;&#x7684;&#x811A;&#x672C;&#x4E0D;&#x80FD;&#x5411;&#x53E6;&#x4E00;&#x4E2A;&#x6E90;&#x53D1;&#x8D77; AJAX &#x8BF7;&#x6C42;&#xFF0C;&#x9664;&#x975E;&#x76EE;&#x6807;&#x6E90;&#x5141;&#x8BB8;&#xFF08;&#x901A;&#x8FC7; CORS&#xFF09;&#x3002;</li>
<li><strong>LocalStorage &#x548C; SessionStorage &#x8BBF;&#x95EE;</strong>&#xFF1A;&#x4E00;&#x4E2A;&#x6E90;&#x7684;&#x811A;&#x672C;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;&#x53E6;&#x4E00;&#x4E2A;&#x6E90;&#x7684;&#x672C;&#x5730;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x3002;</li>
</ol>
<h3 id="&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x4F5C;&#x7528;"><a href="#&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x4F5C;&#x7528;" class="headerlink" title="&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x4F5C;&#x7528;"></a>&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x4F5C;&#x7528;</h3><p>&#x540C;&#x6E90;&#x7B56;&#x7565;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;</p>
<ol>
<li><strong>Cookie</strong>&#xFF1A;&#x9632;&#x6B62;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x8BFB;&#x53D6;&#x53E6;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x7684; Cookie&#x3002;</li>
<li><strong>DOM</strong>&#xFF1A;&#x9632;&#x6B62;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x64CD;&#x4F5C;&#x6216;&#x8BFB;&#x53D6;&#x53E6;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x7684; DOM&#x3002;</li>
<li><strong>AJAX &#x8BF7;&#x6C42;</strong>&#xFF1A;&#x9632;&#x6B62;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x901A;&#x8FC7; AJAX &#x8BF7;&#x6C42;&#x8BFB;&#x53D6;&#x53E6;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x7684;&#x6570;&#x636E;&#x3002;</li>
</ol>
<h3 id="&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x4F8B;&#x5916;"><a href="#&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x4F8B;&#x5916;" class="headerlink" title="&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x4F8B;&#x5916;"></a>&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x4F8B;&#x5916;</h3><p>&#x867D;&#x7136;&#x540C;&#x6E90;&#x7B56;&#x7565;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x5B89;&#x5168;&#x673A;&#x5236;&#xFF0C;&#x4F46;&#x6709;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x7ED5;&#x8FC7;&#x6216;&#x653E;&#x5BBD;&#x540C;&#x6E90;&#x7B56;&#x7565;&#xFF0C;&#x4EE5;&#x5B9E;&#x73B0;&#x8DE8;&#x57DF;&#x8D44;&#x6E90;&#x5171;&#x4EAB;&#xFF1A;</p>
<ol>
<li><strong>CORS&#xFF08;&#x8DE8;&#x57DF;&#x8D44;&#x6E90;&#x5171;&#x4EAB;&#xFF09;</strong>&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x7279;&#x5B9A;&#x7684; HTTP &#x5934;&#xFF0C;&#x5141;&#x8BB8;&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;&#x3002;</li>
<li><strong>JSONP</strong>&#xFF1A;&#x901A;&#x8FC7; <code>&lt;script&gt;</code> &#x6807;&#x7B7E;&#x7684; src &#x5C5E;&#x6027;&#x6765;&#x8BF7;&#x6C42;&#x8DE8;&#x57DF;&#x8D44;&#x6E90;&#xFF0C;&#x56E0;&#x4E3A; <code>&lt;script&gt;</code> &#x6807;&#x7B7E;&#x4E0D;&#x53D7;&#x540C;&#x6E90;&#x7B56;&#x7565;&#x9650;&#x5236;&#x3002;</li>
<li><strong>PostMessage</strong>&#xFF1A;&#x4F7F;&#x7528; <code>window.postMessage</code> &#x65B9;&#x6CD5;&#x5728;&#x4E0D;&#x540C;&#x6E90;&#x7684;&#x7A97;&#x53E3;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x5B89;&#x5168;&#x901A;&#x4FE1;&#x3002;</li>
<li><strong>&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;</strong>&#xFF1A;&#x901A;&#x8FC7;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x4EE3;&#x7406;&#x8BF7;&#x6C42;&#x76EE;&#x6807;&#x8D44;&#x6E90;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002;</li>
</ol>
<h1 id="JSONP-&#x793A;&#x4F8B;"><a href="#JSONP-&#x793A;&#x4F8B;" class="headerlink" title="JSONP &#x793A;&#x4F8B;"></a>JSONP &#x793A;&#x4F8B;</h1><ul>
<li>&#x901A;&#x8FC7; <code>&lt;script&gt;</code> &#x6807;&#x7B7E;&#x7684; src &#x5C5E;&#x6027;&#x6765;&#x8BF7;&#x6C42;&#x8DE8;&#x57DF;&#x8D44;&#x6E90;&#xFF0C;&#x56E0;&#x4E3A; <code>&lt;script&gt;</code> &#x6807;&#x7B7E;&#x4E0D;&#x53D7;&#x540C;&#x6E90;&#x7B56;&#x7565;&#x9650;&#x5236;&#x3002;</li>
<li>&#x53EA;&#x80FD;&#x7528;&#x4E8E; GET &#x8BF7;&#x6C42;&#x3002;</li>
</ul>
<p>&#x670D;&#x52A1;&#x5668;&#x7AEF;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const express = require(&apos;express&apos;);</span><br><span class="line">const app = express();</span><br><span class="line"></span><br><span class="line">app.get(&apos;/data&apos;, (req, res) =&gt; {</span><br><span class="line">const callback = req.query.callback;</span><br><span class="line">const data = { message: &apos;Hello, JSONP!&apos; };</span><br><span class="line">res.send(`${callback}(${JSON.stringify(data)})`);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">app.listen(3000, () =&gt; {</span><br><span class="line">console.log(&apos;Server is running on port 3000&apos;);</span><br><span class="line">});</span><br></pre></td></tr></table></figure>

<p>&#x5BA2;&#x6237;&#x7AEF;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;title&gt;JSONP Example&lt;/title&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    function handleResponse(data) {</span><br><span class="line">      console.log(data.message);</span><br><span class="line">    }</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;script src=&quot;http://localhost:3000/data?callback=handleResponse&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="CORS&#xFF08;&#x8DE8;&#x57DF;&#x8D44;&#x6E90;&#x5171;&#x4EAB;&#xFF09;"><a href="#CORS&#xFF08;&#x8DE8;&#x57DF;&#x8D44;&#x6E90;&#x5171;&#x4EAB;&#xFF09;" class="headerlink" title="CORS&#xFF08;&#x8DE8;&#x57DF;&#x8D44;&#x6E90;&#x5171;&#x4EAB;&#xFF09;"></a><strong>CORS&#xFF08;&#x8DE8;&#x57DF;&#x8D44;&#x6E90;&#x5171;&#x4EAB;&#xFF09;</strong></h1><ul>
<li>&#x670D;&#x52A1;&#x5668;&#x5728;&#x54CD;&#x5E94;&#x5934;&#x4E2D;&#x6DFB;&#x52A0;&#x7279;&#x5B9A;&#x7684; HTTP &#x5934;&#xFF0C;&#x5141;&#x8BB8;&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;&#x3002;</li>
<li>&#x652F;&#x6301; GET&#x3001;POST&#x3001;PUT&#x3001;DELETE &#x7B49;&#x591A;&#x79CD; HTTP &#x65B9;&#x6CD5;&#x3002;</li>
</ul>
<p>&#x670D;&#x52A1;&#x5668;&#x7AEF;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const express = require(&apos;express&apos;);</span><br><span class="line">const app = express();</span><br><span class="line"></span><br><span class="line">app.use((req, res, next) =&gt; {</span><br><span class="line">  res.header(&apos;Access-Control-Allow-Origin&apos;, &apos;*&apos;);</span><br><span class="line">  res.header(&apos;Access-Control-Allow-Methods&apos;, &apos;GET, POST, PUT, DELETE&apos;);</span><br><span class="line">  res.header(&apos;Access-Control-Allow-Headers&apos;, &apos;Content-Type&apos;);</span><br><span class="line">  next();</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">app.get(&apos;/data&apos;, (req, res) =&gt; {</span><br><span class="line">  res.json({ message: &apos;Hello, CORS!&apos; });</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">app.listen(3000, () =&gt; {</span><br><span class="line">  console.log(&apos;Server is running on port 3000&apos;);</span><br><span class="line">});</span><br></pre></td></tr></table></figure>

<p>&#x5BA2;&#x6237;&#x7AEF;</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>CORS Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">fetch</span>(<span class="string">&quot;http://localhost:3000/data&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> response.<span class="title function_">json</span>())</span></span><br><span class="line"><span class="language-javascript">        .<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">message</span>))</span></span><br><span class="line"><span class="language-javascript">        .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Error:&quot;</span>, error));</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>Process &amp; Thread</title>
    <url>/2025/01/17/2025-01-17-%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://www.ruanyifeng.com/blogimg/asset/201304/bg2013042411.png" alt="img"></p>
<span id="more"></span>

<p>After a programmer finishes writing a program, it is saved permanently on the hard drive. Just as a chef needs a cutting board and a countertop to prepare food, the CPU needs to load the program from the hard drive to memory to execute it.</p>
<p>What&#x2019;s loaded into memory is a process, which is an <strong>executable instance</strong> of the program</p>
<p>When we run a program, what happens internally is that its executable file is loaded into memory. At this point, our program becomes a process.</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502101615249.png"></p>
<p>The memory assigned to it has a special name: the address space of the process.</p>
<p><strong>A process, however, is more than just its address space.</strong>  </p>
<h1 id="Process"><a href="#Process" class="headerlink" title="Process"></a>Process</h1><p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502101617689.png"></p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502101618857.png"></p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502101619662.png"></p>
<p><strong>When a process gains access to the CPU</strong></p>
<h2 id="Context-Switching"><a href="#Context-Switching" class="headerlink" title="Context Switching"></a>Context Switching</h2><p>&#x4F46;&#x662F;&#x5207;&#x6362;&#x8FDB;&#x7A0B;&#x5E76;&#x4E0D;&#x50CF;&#x6211;&#x4EEC;&#x8BF4;&#x7684;&#x90A3;&#x4E48;&#x7B80;&#x5355; &#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E0D;&#x7528;&#x4E86; &#x53BB;&#x6392;&#x961F; &#x4E0B;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7528;&#x5C31;&#x53EF;&#x4EE5; &#x5982;&#x679C;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x8BDD; &#x5F53;&#x5207;&#x6362;&#x8FDB;&#x7A0B;&#x540E; &#x540E;&#x4F7F;&#x7528;cpu&#x7684;&#x8FDB;&#x7A0B;&#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#x81EA;&#x5DF1;&#x5904;&#x4E8E;&#x7684;cpu&#x73AF;&#x5883;&#xFF08;&#x5404;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x6570;&#x636E;&#xFF09;&#x662F;&#x4E4B;&#x524D;&#x90A3;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;</p>
<p>&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x6709;&#x4E24;&#x4E2A;&#x5927;&#x95EE;&#x9898; &#xFF1A; 1. &#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x524D;&#x4E00;&#x8FDB;&#x7A0B;&#x7684;&#x654F;&#x611F;&#x4FE1;&#x606F; &#x4E5F;&#x5C31;&#x662F;&#x524D;&#x4E00;&#x8FDB;&#x7A0B;&#x8981;&#x662F;&#x5B58;&#x50A8;&#x6709;&#x5BC6;&#x7801; &#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x53EF;&#x4EE5;&#x963B;&#x6B62;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x8BFB;&#x53D6;&#x524D;&#x4E00;&#x8FDB;&#x7A0B;&#x7684;&#x5BC6;&#x7801;</p>
<p><strong>So, the first concern here is security.</strong></p>
<p>Now, let&#x2019;s assume that all processes are honest and won&#x2019;t use the information  from a previous process.Does that solve all the problems? </p>
<ol start="2">
<li>Even if the current process has no intention of using that information,  it still needs to manipulate the registers to carry out its own tasks.</li>
</ol>
<p>&#x4E3A;&#x4E86;&#x505A;&#x5230;&#x8FD9;&#x4E00;&#x70B9;it <strong>alters the CPU state</strong> of the previous process But <strong>&#x5728;&#x5C06; CPU &#x5206;&#x914D;&#x7ED9;&#x7B2C;&#x4E8C;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x5C06;&#x8BE5;&#x5730;&#x5740;&#x5B58;&#x50A8;&#x5728;&#x4EFB;&#x4F55;&#x5730;&#x65B9;&#xFF0C;&#x56E0;&#x6B64;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x65E0;&#x6CD5;&#x6062;&#x590D;&#x7B2C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x3002;</strong></p>
<p> So, when the previous process regains CPU access  later, the CPU state it had when it was interrupted would <strong>be lost.</strong> </p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502101623153.png"></p>
<p>&#x5F53;CPU&#x5FC5;&#x987B;&#x5206;&#x914D;&#x7ED9;&#x7B2C;&#x4E8C;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#x3002;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5E76;&#x4E0D;&#x662F;&#x7B80;&#x5355;&#x5730;&#x8986;&#x76D6;&#x5730;&#x5740;&#x5BC4;&#x5B58;&#x5668;&#x6765;&#x4F7F;CPU&#x8DF3;&#x8F6C;&#x5230;&#x7B2C;&#x4E8C;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x53EF;&#x6267;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x800C;&#x662F;&#x9996;&#x5148;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x4F8B;&#x7A0B;&#x6765;&#x6355;&#x83B7;CPU&#x7684;&#x5F53;&#x524D;&#x72B6;&#x6001;&#x2014;&#x2014;&#x5C31;&#x50CF;&#x62CD;&#x6444;&#x5FEB;&#x7167;&#x4E00;&#x6837;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x76EE;&#x7684;&#x662F;&#x590D;&#x5236;&#x5185;&#x5BB9;</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502101626126.png">&#x901A;&#x8FC7;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x6BCF;&#x6B21;&#x8FDB;&#x7A0B;&#x91CD;&#x65B0;&#x83B7;&#x5F97;&#x5BF9; CPU &#x7684;&#x63A7;&#x5236;&#x65F6;&#xFF0C;&#x5B83;&#x90FD;&#x4F1A;&#x627E;&#x5230;&#x4E0E;&#x4E2D;&#x65AD;&#x65F6;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x3002;&#x6B64;&#x8FC7;&#x7A0B;&#x89E3;&#x51B3;&#x4E86;&#x8FD9;&#x4E24;&#x4E2A;&#x95EE;&#x9898;&#x3002;&#x8FDB;&#x7A0B;&#x65E0;&#x6CD5;&#x518D;&#x8BBF;&#x95EE;&#x524D;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x4E14;&#x7531;&#x4E8E;&#x5176;&#x81EA;&#x8EAB;&#x7684;&#x72B6;&#x6001;&#x5C1A;&#x672A;&#x88AB;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x66F4;&#x6539;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x786E;&#x4FE1;&#x5B83;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x6B63;&#x786E;&#x7684;&#x6570;&#x636E;&#x3002;</p>
<blockquote>
<p>&#x5728;switch&#x524D;OS&#x4F1A;&#x770B;&#x6709;&#x65E0; &#x5373;&#x5C06;&#x8981;&#x5207;&#x6362;&#x5230;&#x7684;&#x76EE;&#x6807;&#x8FDB;&#x7A0B;&#x7684;PCB &#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BF4;&#x660E;&#x662F;&#x7B2C;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x8FDB;&#x7A0B; &#x6240;&#x4EE5;&#x4F1A;&#x628A;&#x76F8;&#x5173;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x8BBE;&#x4E3A;0</p>
</blockquote>
<p>&#x8FD9;&#x79CD;&#x6355;&#x83B7;&#x8FDB;&#x7A0B;&#x7684; CPU &#x72B6;&#x6001;&#x5E76;&#x6062;&#x590D;&#x4E0D;&#x540C;&#x8FDB;&#x7A0B;&#x7684;&#x72B6;&#x6001;&#x4EE5;&#x4FBF;&#x5176;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x79F0;&#x4E3A;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#x3002;</p>
<h2 id="supplement"><a href="#supplement" class="headerlink" title="supplement"></a>supplement</h2><p>&#x4F46;&#x662F;&#x8FDB;&#x7A0B;&#x8FD8;&#x6709;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x53EF;&#x80FD;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x4EE5;&#x53CA;&#x5206;&#x914D;&#x7ED9;&#x5B83;&#x7684; IO &#x8BBE;&#x5907;</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502101629677.png"></p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502101646984.png" alt="image-20250210163005387"></p>
<p>&#x8FDB;&#x7A0B;&#x4E0D;&#x53EA;&#x662F;&#x5355;&#x4E2A;&#x5B9E;&#x4F53;&#xFF0C;&#x800C;&#x662F;&#x6574;&#x4E2A;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x4E0E;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x9694;&#x79BB;&#x3002;</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502101631353.png"></p>
<h2 id="PCB"><a href="#PCB" class="headerlink" title="PCB"></a>PCB</h2><p>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5C31;&#x662F;&#x6574;&#x4E2A;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x4ECE;&#x5BC4;&#x5B58;&#x5668;&#x7B49;&#x4F4E;&#x7EA7;&#x7EC4;&#x4EF6;&#x5230;&#x6587;&#x4EF6;&#x5217;&#x8868;&#x7B49;&#x9AD8;&#x7EA7;&#x7EC4;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x5982;&#x4F55;&#x5C06;&#x5B83;&#x4EEC;&#x653E;&#x5165;&#x961F;&#x5217;&#x4E2D;&#xFF1F;&#x610F;&#x601D;&#x662F;&#xFF0C;&#x8FDB;&#x7A0B;&#x4E0D;&#x50CF;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x5730;&#x7528;&#x4F5C;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x7684;&#x5BF9;&#x8C61;.</p>
<p>PCB:&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7528;&#x6765;&#x8DDF;&#x8E2A;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x7279;&#x6B8A;&#x7ED3;&#x6784;&#x3002;</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502101633832.png"></p>
<p><strong>&#x8FDB;&#x7A0B;&#x63A7;&#x5236;&#x5757;&#x4E0D;&#x662F;&#x8FDB;&#x7A0B;&#x672C;&#x8EAB;&#xFF0C;&#x800C;&#x662F;&#x8FDB;&#x7A0B;&#x7684;&#x8868;&#x793A;&#x3002;&#x5B83;&#x5145;&#x5F53;&#x542F;&#x52A8;&#x6216;&#x6062;&#x590D;&#x6D41;&#x7A0B;&#x6240;&#x9700;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x4F1A;&#x8BA1;&#x4FE1;&#x606F;&#x7684;&#x5B58;&#x50A8;&#x5E93;&#x3002;&#x8FD9;&#x4E2A;&#x8868;&#x793A;&#x5C31;&#x662F;&#x5B9E;&#x9645;&#x653E;&#x7F6E;&#x5728;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x3002;</strong></p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502101634407.png"></p>
<p>&#x8FD9;&#x662F;Linux&#x91CC;&#x7684;PCB</p>
<h2 id="&#x591A;&#x6838;CPU"><a href="#&#x591A;&#x6838;CPU" class="headerlink" title="&#x591A;&#x6838;CPU"></a>&#x591A;&#x6838;CPU</h2><p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502101635020.png"></p>
<p>&#x5728;&#x8BA1;&#x7B97;&#x673A;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x4E2D;&#xFF0C;pipeline&#xFF08;&#x6D41;&#x6C34;&#x7EBF;&#xFF09;&#x662F;&#x6307;&#x5C06;&#x6307;&#x4EE4;&#x5904;&#x7406;&#x5206;&#x89E3;&#x4E3A;&#x591A;&#x4E2A;&#x9636;&#x6BB5;&#x7684;&#x6280;&#x672F;&#x3002;</p>
<h1 id="What&#x2019;s-in-each-process-&#xFF1A;Thread"><a href="#What&#x2019;s-in-each-process-&#xFF1A;Thread" class="headerlink" title="What&#x2019;s in each process &#xFF1A;Thread"></a>What&#x2019;s in each process &#xFF1A;Thread</h1><p>&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x8BA1;&#x6570;&#x5668;<br>It&#x2019;s going to compute based on the program-flow<br>one of the program-flow or <strong>execution streams</strong> here is one thread<br>if there are multiple threads<br>You need multiple <strong>program counters</strong></p>
<h1 id="So-why-do-we-need-a-design-thread"><a href="#So-why-do-we-need-a-design-thread" class="headerlink" title="So why do we need a design thread"></a>So why do we need a design thread</h1><p>we look at it through <strong>a document editor</strong> Like a notepad</p>
<p>This notepad holds some text-data and some document which makes it a <strong>process</strong></p>
<p>Imagine:now the user uses the keyboard to type a return at the end of the second line</p>
<p>There needs to be <strong>an interactive program</strong> that knows about keyboard <strong>press events</strong> and then the process that manages the layout recalculates the text and renders it</p>
<p>and every once in a while the writing-program needs to save the document to the hard disk</p>
<p><strong>Three programs</strong> need to execute <strong>concurrently</strong>, but they must access and modify the <strong>same</strong> document. Since processes have their own <strong>independent memory spaces</strong>, they must operate within the same process to access shared resources. Therefore, three lighter-weight constructs&#x2014;threads&#x2014;are necessary for this scenario.</p>
<p>Threads allow these programs to run in parallel while sharing the same memory space for document access and modification.</p>
<hr>

<p>Threads are the smallest unit of <strong>parallel execution</strong>.</p>
<p>However, if there is only a single-core CPU, it can execute only one thread at a time. In this case, threads must take turns to run, effectively sharing the CPU. This sharing is managed through <strong>time slicing</strong>, where each thread is allocated a specific time slice to execute.</p>
<p>This mechanism allows multiple threads to make progress by switching between them rapidly, <strong>creating the illusion of concurrent execution even on a single-core system.</strong></p>
]]></content>
      <tags>
        <tag>计算机组成原理</tag>
        <tag>cs app</tag>
        <tag>Process</tag>
      </tags>
  </entry>
  <entry>
    <title>Isolation Forest</title>
    <url>/2025/02/02/2025-02-04-IsolationForest/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>&#x60F3;&#x8C61;&#x4F60;&#x5728;&#x4E00;&#x4E2A;&#x5DE8;&#x5927;&#x7684;&#x4ED3;&#x5E93;&#x91CC;&#x5806;&#x6EE1;&#x4E86;&#x82F9;&#x679C;&#xFF0C;&#x4F46;&#x6709;&#x4EBA;&#x5077;&#x5077;&#x6DF7;&#x8FDB;&#x4E86;&#x51E0;&#x4E2A;&#x70C2;&#x82F9;&#x679C;&#x3002;&#x4F60;&#x7684;&#x4EFB;&#x52A1;&#x662F;&#x5FEB;&#x901F;&#x627E;&#x5230;&#x8FD9;&#x4E9B;&#x70C2;&#x82F9;&#x679C;&#x3002;&#x4F60;&#x4F1A;&#x600E;&#x4E48;&#x505A;&#xFF1F;</p>
<ul>
<li><p>&#x4F20;&#x7EDF;&#x65B9;&#x6CD5;&#xFF1A;&#x68C0;&#x67E5;&#x6BCF;&#x4E2A;&#x82F9;&#x679C;&#x7684;&#x989C;&#x8272;&#x3001;&#x5F62;&#x72B6;&#x3001;&#x6C14;&#x5473;&#xFF0C;&#x7136;&#x540E;&#x8BB0;&#x4F4F;&#x201C;&#x6B63;&#x5E38;&#x82F9;&#x679C;&#x7684;&#x6807;&#x51C6;&#x201D;&#xFF08;&#x6BD4;&#x5982;&#x7EA2;&#x8272;&#x3001;&#x5706;&#x5F62;&#x3001;&#x9999;&#x751C;&#xFF09;&#x3002;<br>&#x95EE;&#x9898;&#x662F;&#xFF1A;&#x4ED3;&#x5E93;&#x91CC;&#x6709;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x4E2A;&#x82F9;&#x679C;&#xFF0C;&#x9010;&#x4E2A;&#x68C0;&#x67E5;&#x9700;&#x8981;&#x8017;&#x8D39;&#x5927;&#x91CF;&#x65F6;&#x95F4;&#x3002;</p>
</li>
<li><p>&#x9694;&#x79BB;&#x68EE;&#x6797;&#x7684;&#x806A;&#x660E;&#x65B9;&#x6CD5;&#xFF1A;&#x76F4;&#x63A5;&#x95EE;&#xFF1A;&#x201C;&#x54EA;&#x4E2A;&#x82F9;&#x679C;&#x6700;&#x5BB9;&#x6613;&#x88AB;&#x6311;&#x51FA;&#x6765;&#xFF1F;&#x201D;<br>&#x56E0;&#x4E3A;&#x70C2;&#x82F9;&#x679C;&#x901A;&#x5E38;&#x4E0E;&#x4F17;&#x4E0D;&#x540C;&#xFF1A;&#x6BD4;&#x5982;&#x989C;&#x8272;&#x53D1;&#x9ED1;&#x3001;&#x5F62;&#x72B6;&#x7578;&#x5F62;&#x3002;&#x5B83;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x88AB;&#x8BE6;&#x7EC6;&#x5206;&#x6790;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x88AB;&#x5FEB;&#x901F;&#x201C;&#x9694;&#x79BB;&#x201D;&#x3002;</p>
</li>
</ul>
<h1 id="Explaination"><a href="#Explaination" class="headerlink" title="Explaination"></a>Explaination</h1><p>The method selects a feature and makes a random split in the data between the minimum and the maximum values of that feature.</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502091826463.png"></p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502091851850.png"></p>
<h2 id="&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x9694;&#x79BB;&#x68EE;&#x6797;&#xFF1F;"><a href="#&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x9694;&#x79BB;&#x68EE;&#x6797;&#xFF1F;" class="headerlink" title="&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x9694;&#x79BB;&#x68EE;&#x6797;&#xFF1F;"></a>&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x9694;&#x79BB;&#x68EE;&#x6797;&#xFF1F;</h2><p><strong>&#x4F20;&#x7EDF;&#x65B9;&#x6CD5;&#x7684;&#x95EE;&#x9898;&#xFF1A;</strong><br>1 &#x9700;&#x8981;&#x5927;&#x91CF;&#x6570;&#x636E;&#x53BB;&#x5B9A;&#x4E49;&#x201C;&#x4EC0;&#x4E48;&#x662F;&#x6B63;&#x5E38;&#x201D;&#xFF08;&#x6BD4;&#x5982;&#x7EDF;&#x8BA1;&#x5E73;&#x5747;&#x503C;&#xFF09;&#x3002;<br>2 &#x8BA1;&#x7B97;&#x590D;&#x6742;&#xFF0C;&#x901F;&#x5EA6;&#x6162;&#xFF08;&#x5C24;&#x5176;&#x662F;&#x6570;&#x636E;&#x91CF;&#x5F88;&#x5927;&#x65F6;&#xFF09;&#x3002;</p>
<h1 id="&#x9694;&#x79BB;&#x68EE;&#x6797;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x60F3;"><a href="#&#x9694;&#x79BB;&#x68EE;&#x6797;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x60F3;" class="headerlink" title="&#x9694;&#x79BB;&#x68EE;&#x6797;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x60F3;"></a>&#x9694;&#x79BB;&#x68EE;&#x6797;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x60F3;</h1><p><strong>&#x4E0D;&#x5B9A;&#x4E49;&#x6B63;&#x5E38;&#xFF0C;&#x53EA;&#x5173;&#x6CE8;&#x5F02;&#x5E38;</strong></p>
<p>&#x5E76;&#x4E14;</p>
<blockquote>
<p>&#x5373;&#x4F7F;&#x6570;&#x636E;&#x6709;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x4E2A;&#x7279;&#x5F81;&#xFF08;&#x6BD4;&#x5982;&#x4F20;&#x611F;&#x5668;&#x6570;&#x636E;&#xFF09;&#xFF0C;&#x968F;&#x673A;&#x9009;&#x62E9;&#x7279;&#x5F81;&#x4F9D;&#x7136;&#x6709;&#x6548;&#x3002;</p>
</blockquote>
<p>It doesn&#x2019;t need labels for data(to indicate which one is anomaly),it maps data to a high dimensional space in which the anomaly is far away from the majority-composed space</p>
<p>The <a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.IsolationForest.html#sklearn.ensemble.IsolationForest"><code>ensemble.IsolationForest</code></a> &#x2018;isolates&#x2019; observations by randomly selecting a feature and then randomly selecting a split value between the maximum and minimum values of the selected feature.</p>
<p>Since recursive partitioning can be represented by a tree structure, the number of splittings required to isolate a sample is equivalent to the path length from the root node to the terminating node.</p>
<p>This path length, averaged over a forest of such random trees, is a measure of normality and our decision function.</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502091953400.png"></p>
<h1 id="&#x9694;&#x79BB;&#x6811;&#x7684;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#xFF08;Isolation-Tree&#xFF09;"><a href="#&#x9694;&#x79BB;&#x6811;&#x7684;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#xFF08;Isolation-Tree&#xFF09;" class="headerlink" title="&#x9694;&#x79BB;&#x6811;&#x7684;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#xFF08;Isolation Tree&#xFF09;"></a>&#x9694;&#x79BB;&#x6811;&#x7684;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#xFF08;Isolation Tree&#xFF09;</h1><p>&#x5047;&#x8BBE;&#x6709;&#x8FD9;&#x6837;&#x56DB;&#x4E2A;&#x7279;&#x5F81;for a log| &#x65E5;&#x5FD7;&#x7B49;&#x7EA7; | &#x670D;&#x52A1;   | &#x72B6;&#x6001;&#x7801; | &#x5B9E;&#x9645;&#x542B;&#x4E49;   </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">| 0 (INFO) | 1 (payment) | 200 | &#x6B63;&#x5E38;&#x652F;&#x4ED8;&#x6210;&#x529F; |</span><br><span class="line">| 0 (INFO) | 1 (payment) | 429 | &#x6B63;&#x5E38;&#x9650;&#x6D41; |</span><br><span class="line">| 1 (WARN) | 1 (payment) | 429 | &#x6B63;&#x5E38;&#x91CD;&#x8BD5; |</span><br><span class="line">| 0 (INFO) | 2 (database) | 200 | &#x6B63;&#x5E38;&#x67E5;&#x8BE2; |</span><br><span class="line">| 2 (ERROR)| 0 (auth) | 500 | &#x5F02;&#x5E38;&#xFF1A;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x62A5;&#x9519; |</span><br></pre></td></tr></table></figure>

<h2 id="&#x6B65;&#x9AA4;1&#xFF1A;&#x6784;&#x5EFA;&#x7B2C;&#x4E00;&#x68F5;&#x9694;&#x79BB;&#x6811;"><a href="#&#x6B65;&#x9AA4;1&#xFF1A;&#x6784;&#x5EFA;&#x7B2C;&#x4E00;&#x68F5;&#x9694;&#x79BB;&#x6811;" class="headerlink" title="&#x6B65;&#x9AA4;1&#xFF1A;&#x6784;&#x5EFA;&#x7B2C;&#x4E00;&#x68F5;&#x9694;&#x79BB;&#x6811;"></a>&#x6B65;&#x9AA4;1&#xFF1A;&#x6784;&#x5EFA;&#x7B2C;&#x4E00;&#x68F5;&#x9694;&#x79BB;&#x6811;</h2><h3 id="&#x968F;&#x673A;&#x9009;&#x62E9;&#x7279;&#x5F81;&#xFF1A;&#x670D;&#x52A1;"><a href="#&#x968F;&#x673A;&#x9009;&#x62E9;&#x7279;&#x5F81;&#xFF1A;&#x670D;&#x52A1;" class="headerlink" title="&#x968F;&#x673A;&#x9009;&#x62E9;&#x7279;&#x5F81;&#xFF1A;&#x670D;&#x52A1;"></a><strong>&#x968F;&#x673A;&#x9009;&#x62E9;&#x7279;&#x5F81;&#xFF1A;&#x670D;&#x52A1;</strong></h3><p><strong>&#x968F;&#x673A;&#x5206;&#x5272;&#x503C;&#xFF1A;1.5</strong>&#xFF08;&#x4ECB;&#x4E8E;&#x670D;&#x52A1;&#x7F16;&#x53F7;1&#x548C;2&#x4E4B;&#x95F4;&#xFF09;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">         [&#x6240;&#x6709;5&#x6761;&#x6570;&#x636E;]</span><br><span class="line">            /   \</span><br><span class="line">&#x670D;&#x52A1; &#x2264;1.5(&#x652F;&#x4ED8;&#x7C7B;)  &#x670D;&#x52A1; &gt;1.5(&#x6570;&#x636E;&#x5E93;)</span><br><span class="line">  (4&#x6761;&#x6570;&#x636E;)          (1&#x6761;&#x6570;&#x636E;)</span><br></pre></td></tr></table></figure>

<h3 id="&#x65B0;&#x968F;&#x673A;&#x7279;&#x5F81;&#xFF1A;&#x72B6;&#x6001;&#x7801;&#xFF08;&#x7279;&#x5F81;2&#xFF09;"><a href="#&#x65B0;&#x968F;&#x673A;&#x7279;&#x5F81;&#xFF1A;&#x72B6;&#x6001;&#x7801;&#xFF08;&#x7279;&#x5F81;2&#xFF09;" class="headerlink" title="&#x65B0;&#x968F;&#x673A;&#x7279;&#x5F81;&#xFF1A;&#x72B6;&#x6001;&#x7801;&#xFF08;&#x7279;&#x5F81;2&#xFF09;"></a><strong>&#x65B0;&#x968F;&#x673A;&#x7279;&#x5F81;&#xFF1A;&#x72B6;&#x6001;&#x7801;&#xFF08;&#x7279;&#x5F81;2&#xFF09;</strong></h3><p> <strong>&#x7EE7;&#x7EED;&#x5206;&#x5272;&#x5DE6;&#x5B50;&#x6811;&#xFF08;4&#x6761;&#x6570;&#x636E;&#xFF09;&#xFF1A;</strong></p>
<p>&#x968F;&#x673A;&#x5206;&#x5272;&#x503C;&#xFF1A;300&#xFF08;&#x4ECB;&#x4E8E;200-500&#x4E4B;&#x95F4;&#xFF09;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">       [&#x670D;&#x52A1; &#x2264;1.5]</span><br><span class="line">          /   \</span><br><span class="line">&#x72B6;&#x6001;&#x7801; &#x2264;300    &#x72B6;&#x6001;&#x7801; &gt;300</span><br><span class="line"> (3&#x6761;)          (1&#x6761;)</span><br></pre></td></tr></table></figure>

<h3 id="&#x968F;&#x673A;&#x7279;&#x5F81;&#xFF1A;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;&#xFF08;&#x7279;&#x5F81;0&#xFF09;"><a href="#&#x968F;&#x673A;&#x7279;&#x5F81;&#xFF1A;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;&#xFF08;&#x7279;&#x5F81;0&#xFF09;" class="headerlink" title="&#x968F;&#x673A;&#x7279;&#x5F81;&#xFF1A;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;&#xFF08;&#x7279;&#x5F81;0&#xFF09;"></a>&#x968F;&#x673A;&#x7279;&#x5F81;&#xFF1A;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;&#xFF08;&#x7279;&#x5F81;0&#xFF09;</h3><p>&#x5206;&#x5272;&#x503C;&#xFF1A;0.5&#xFF08;&#x4ECB;&#x4E8E;INFO&#x548C;WARN&#x4E4B;&#x95F4;&#xFF09;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">      [&#x72B6;&#x6001;&#x7801; &#x2264;300]</span><br><span class="line">         /   \</span><br><span class="line">&#x7B49;&#x7EA7; &#x2264;0.5   &#x7B49;&#x7EA7; &gt;0.5</span><br><span class="line"> (2&#x6761;)       (1&#x6761;)</span><br></pre></td></tr></table></figure>

<h3 id="&#x6700;&#x7EC8;&#x6811;&#x7ED3;&#x6784;&#xFF1A;"><a href="#&#x6700;&#x7EC8;&#x6811;&#x7ED3;&#x6784;&#xFF1A;" class="headerlink" title="&#x6700;&#x7EC8;&#x6811;&#x7ED3;&#x6784;&#xFF1A;"></a>&#x6700;&#x7EC8;&#x6811;&#x7ED3;&#x6784;&#xFF1A;</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Root(&#x670D;&#x52A1;&#x2264;1.5)</span><br><span class="line">&#x251C;&#x2500; Left(&#x72B6;&#x6001;&#x7801;&#x2264;300)</span><br><span class="line">&#x2502;  &#x251C;&#x2500; Left(&#x7B49;&#x7EA7;&#x2264;0.5) &#x2192; 2&#x6761;</span><br><span class="line">&#x2502;  &#x2514;&#x2500; Right(&#x7B49;&#x7EA7;&gt;0.5) &#x2192; 1&#x6761;</span><br><span class="line">&#x2514;&#x2500; Right(&#x670D;&#x52A1;&gt;1.5) &#x2192; 1&#x6761;</span><br></pre></td></tr></table></figure>

<h2 id="&#x6B65;&#x9AA4;2&#xFF1A;&#x8BA1;&#x7B97;&#x8DEF;&#x5F84;&#x957F;&#x5EA6;"><a href="#&#x6B65;&#x9AA4;2&#xFF1A;&#x8BA1;&#x7B97;&#x8DEF;&#x5F84;&#x957F;&#x5EA6;" class="headerlink" title="&#x6B65;&#x9AA4;2&#xFF1A;&#x8BA1;&#x7B97;&#x8DEF;&#x5F84;&#x957F;&#x5EA6;"></a>&#x6B65;&#x9AA4;2&#xFF1A;&#x8BA1;&#x7B97;&#x8DEF;&#x5F84;&#x957F;&#x5EA6;</h2><ul>
<li><p><strong>&#x5F02;&#x5E38;&#x70B9;&#xFF08;ERROR, auth, 500&#xFF09;</strong>&#xFF1A;&#x5728;&#x6839;&#x8282;&#x70B9;&#x76F4;&#x63A5;&#x8FDB;&#x5165;&#x53F3;&#x5206;&#x652F; &#x2192; &#x8DEF;&#x5F84;&#x957F;&#x5EA6;=1</p>
</li>
<li><p><strong>&#x6B63;&#x5E38;&#x70B9;&#xFF08;INFO, payment, 200&#xFF09;</strong>&#xFF1A;&#x9700;&#x8981;&#x7ECF;&#x8FC7;3&#x6B21;&#x5206;&#x5272; &#x2192; &#x8DEF;&#x5F84;&#x957F;&#x5EA6;=3</p>
</li>
</ul>
<h2 id="&#x6B65;&#x9AA4;3&#xFF1A;&#x6784;&#x5EFA;&#x591A;&#x68F5;&#x6811;&#xFF08;&#x7B2C;&#x4E8C;&#x68F5;&#x6811;&#xFF09;"><a href="#&#x6B65;&#x9AA4;3&#xFF1A;&#x6784;&#x5EFA;&#x591A;&#x68F5;&#x6811;&#xFF08;&#x7B2C;&#x4E8C;&#x68F5;&#x6811;&#xFF09;" class="headerlink" title="&#x6B65;&#x9AA4;3&#xFF1A;&#x6784;&#x5EFA;&#x591A;&#x68F5;&#x6811;&#xFF08;&#x7B2C;&#x4E8C;&#x68F5;&#x6811;&#xFF09;"></a>&#x6B65;&#x9AA4;3&#xFF1A;&#x6784;&#x5EFA;&#x591A;&#x68F5;&#x6811;&#xFF08;&#x7B2C;&#x4E8C;&#x68F5;&#x6811;&#xFF09;</h2><p>&#x5206;&#x5272;&#x503C;&#xFF1A;450 &#x2192; &#x9694;&#x79BB;&#x5F02;&#x5E38;&#x70B9;&#x9700;&#x8981;2&#x6B21;&#x5206;&#x5272;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Root(&#x72B6;&#x6001;&#x7801;&#x2264;450)</span><br><span class="line">&#x251C;&#x2500; Left &#x2192; 4&#x6761;&#xFF08;&#x9700;&#x8981;&#x7EE7;&#x7EED;&#x5206;&#x5272;&#xFF09;</span><br><span class="line">&#x2514;&#x2500; Right &#x2192; 1&#x6761;&#xFF08;&#x5F02;&#x5E38;&#x70B9;&#xFF09;</span><br></pre></td></tr></table></figure>

<p>&#x63A5;&#x7740;&#x7EE7;&#x7EED;&#x968F;&#x673A;&#x9009;&#x62E9;</p>
<h2 id="&#x6B65;&#x9AA4;4&#xFF1A;&#x7EFC;&#x5408;&#x6240;&#x6709;&#x6811;&#x7684;&#x7ED3;&#x679C;"><a href="#&#x6B65;&#x9AA4;4&#xFF1A;&#x7EFC;&#x5408;&#x6240;&#x6709;&#x6811;&#x7684;&#x7ED3;&#x679C;" class="headerlink" title="&#x6B65;&#x9AA4;4&#xFF1A;&#x7EFC;&#x5408;&#x6240;&#x6709;&#x6811;&#x7684;&#x7ED3;&#x679C;"></a>&#x6B65;&#x9AA4;4&#xFF1A;&#x7EFC;&#x5408;&#x6240;&#x6709;&#x6811;&#x7684;&#x7ED3;&#x679C;</h2><p>&#x5047;&#x8BBE;&#x5171;5&#x68F5;&#x6811;&#xFF0C;&#x67D0;&#x4E2A;&#x70B9;&#x8DEF;&#x5F84;&#x957F;&#x5EA6;&#x5206;&#x522B;&#x4E3A;&#xFF1A;1,2,1,3,1</p>
<p>&#x5E73;&#x5747;&#x8DEF;&#x5F84;&#x957F;&#x5EA6; = (1+2+1+3+1)/5 = 1.6</p>
<h2 id="&#x6B65;&#x9AA4;5&#xFF1A;&#x8BA1;&#x7B97;&#x5F02;&#x5E38;&#x5F97;&#x5206;"><a href="#&#x6B65;&#x9AA4;5&#xFF1A;&#x8BA1;&#x7B97;&#x5F02;&#x5E38;&#x5F97;&#x5206;" class="headerlink" title="&#x6B65;&#x9AA4;5&#xFF1A;&#x8BA1;&#x7B97;&#x5F02;&#x5E38;&#x5F97;&#x5206;"></a>&#x6B65;&#x9AA4;5&#xFF1A;&#x8BA1;&#x7B97;&#x5F02;&#x5E38;&#x5F97;&#x5206;</h2><p>$$ s = 2^{-\frac{1.6}{c(5)}} \approx 2^{-1.6/2.1} \approx 0.57 $$</p>
<p>&#x200B;	$$ c(n) = 2H(n-1) - \frac{2(n-1)}{n} $$</p>
<ul>
<li><p>$n=5$&#xFF08;&#x6837;&#x672C;&#x91CF;&#xFF09;</p>
</li>
<li><p>$H(4) = 1 + 1/2 + 1/3 + 1/4 &#x2248; 2.08$&#xFF08;&#x8C03;&#x548C;&#x6570;&#xFF09;</p>
</li>
</ul>
<p>&#x5F53;&#x8BBE;&#x5B9A;&#x9608;&#x503C;=0.5&#x65F6;&#xFF1A;</p>
<ul>
<li>0.57 &gt; 0.5 &#x2192; &#x5224;&#x5B9A;&#x4E3A;&#x5F02;&#x5E38;</li>
</ul>
<hr>

<p>&#x6C11;&#x4E3B;&#x6295;&#x7968;&#xFF1A;5&#x68F5;&#x6811;&#x4E2D;4&#x68F5;&#x8BA4;&#x4E3A;&#x67D0;&#x70B9;&#x6613;&#x9694;&#x79BB; &#x2192; &#x5224;&#x5B9A;&#x4E3A;&#x5F02;&#x5E38;</p>
<ul>
<li>&#x67D0;&#x70B9;&#x5728;&#x67D0;&#x68F5;&#x6811;&#x4E2D; &#x201C;&#x6613;&#x9694;&#x79BB;&#x201D;&#x7684;&#x6570;&#x5B66;&#x6761;&#x4EF6;&#xFF1A;&#x8BE5;&#x6837;&#x672C;&#x5728;&#x6811;&#x4E2D;&#x7684;&#x8DEF;&#x5F84;&#x957F;&#x5EA6; &lt; &#x8BE5;&#x6811;&#x7684;&#x5E73;&#x5747;&#x8DEF;&#x5F84;&#x957F;&#x5EA6;<br>&#x5373;&#x8DEF;&#x5F84;&#x957F;&#x5EA6; &lt; &#x5F53;&#x524D;&#x6811;&#x7684;&#x5E73;&#x5747;&#x8DEF;&#x5F84;&#x957F;&#x5EA6; &#x2192; &#x89C6;&#x4E3A;&#x5F02;&#x5E38;&#x5019;&#x9009;</li>
</ul>
<h1 id="&#x53C2;&#x6570;&#x89E3;&#x91CA;"><a href="#&#x53C2;&#x6570;&#x89E3;&#x91CA;" class="headerlink" title="&#x53C2;&#x6570;&#x89E3;&#x91CA;"></a>&#x53C2;&#x6570;&#x89E3;&#x91CA;</h1><h2 id="contamination-0-05"><a href="#contamination-0-05" class="headerlink" title="contamination=0.05"></a>contamination=0.05</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">model = IsolationForest(contamination=0.05)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x672A;&#x77E5;&#x60C5;&#x51B5;&#xFF1A;&#x4F7F;&#x7528;&apos;auto&apos;&#xFF08;&#x9ED8;&#x8BA4;&#x9608;&#x503C;0.1&#xFF09;</span><br></pre></td></tr></table></figure>

<p>&#x5047;&#x8BBE;&#x6709; 1000 &#x4E2A;&#x6837;&#x672C;&#xFF0C;&#x5F97;&#x5206;&#x5206;&#x5E03;&#xFF1A;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">| &#x5F97;&#x5206;&#x533A;&#x95F4; | &#x6837;&#x672C;&#x6570; |</span><br><span class="line"></span><br><span class="line">|---------|--------|</span><br><span class="line"></span><br><span class="line">| 0.8-1.0 | 50 |</span><br><span class="line"></span><br><span class="line">| 0.6-0.8 | 100 |</span><br><span class="line"></span><br><span class="line">| 0.4-0.6 | 200 |</span><br><span class="line"></span><br><span class="line">| 0.2-0.4 | 650 |</span><br></pre></td></tr></table></figure>

<p>&#x5F53;&#x8BBE;&#x7F6E; <code>contamination=0.05</code>&#xFF1A;<strong>&#x9884;&#x671F;&#x6BCF;&#x5929;&#x7EA6; 5%&#x7684;&#x65E5;&#x5FD7;&#x9700;&#x8981;&#x544A;&#x8B66;</strong></p>
<ul>
<li><p>&#x9608;&#x503C;&#x4F4D;&#x7F6E; = 1000 &#xD7; 0.95 = 950</p>
</li>
<li><p>&#x53D6;&#x7B2C; 950 &#x4E2A;&#x6837;&#x672C;&#x7684;&#x5F97;&#x5206;&#xFF08;&#x5047;&#x8BBE;&#x4E3A; 0.78&#xFF09;</p>
</li>
<li><p>&#x5224;&#x5B9A;&#x6240;&#x6709;&#x5F97;&#x5206; &#x2265;0.78 &#x7684;&#x6837;&#x672C;&#x4E3A;&#x5F02;&#x5E38;</p>
<p> &#x6839;&#x636E;&#x5386;&#x53F2;&#x544A;&#x8B66;&#x6BD4;&#x4F8B;&#x8BBE;&#x7F6E;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x516C;&#x5F0F;&#x4F30;&#x7B97;&#xFF1A;</p>
<p> $$ \text{&#x6700;&#x4F73;contamination} = \frac{\text{&#x8FC7;&#x53BB;7&#x5929;&#x5E73;&#x5747;&#x544A;&#x8B66;&#x6570;}}{\text{&#x603B;&#x65E5;&#x5FD7;&#x91CF;}} + 0.02 $$</p>
</li>
</ul>
<h2 id="n-estimators-200"><a href="#n-estimators-200" class="headerlink" title="n_estimators=200"></a>n_estimators=200</h2><p>&#x7528;200&#x68F5;&#x4E0D;&#x540C;&#x7684;&#x9694;&#x79BB;&#x6811;&#x8FDB;&#x884C;&#x6295;&#x7968;&#xFF0C;&#x786E;&#x4FDD;&#x68C0;&#x6D4B;&#x7A33;&#x5B9A;&#x6027;<br>&#x53EF;&#x80FD;&#xFF1A;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">| &#x6811;&#x6570;&#x91CF; | &#x68C0;&#x6D4B;&#x51C6;&#x786E;&#x7387;&#xFF08;&#x6A21;&#x62DF;&#x6570;&#x636E;&#xFF09; | &#x8BAD;&#x7EC3;&#x65F6;&#x95F4;&#xFF08;&#x79D2;&#xFF09; |</span><br><span class="line">|-------|----------------------|---------------|</span><br><span class="line">| 50 | 92% | 0.8 |</span><br><span class="line">| 200 | 98% | 3.2 |</span><br><span class="line">| 500 | 99% | 8.1 |</span><br></pre></td></tr></table></figure>
<p>&#x589E;&#x52A0;&#x5230;300-500&#x53EF;&#x63D0;&#x5347;1-2%&#x51C6;&#x786E;&#x7387;&#xFF0C;&#x4F46;&#x9700;&#x6D4B;&#x8BD5;&#x8BAD;&#x7EC3;&#x65F6;&#x95F4;&#x662F;&#x5426;&#x53EF;&#x63A5;&#x53D7;</p>
<h2 id="max-samples-256"><a href="#max-samples-256" class="headerlink" title="max_samples=256"></a>max_samples=256</h2><p>&#x6BCF;&#x68F5;&#x6811;&#x968F;&#x673A;&#x4F7F;&#x7528;256&#x6761;&#x6570;&#x636E;&#x8BAD;&#x7EC3;</p>
<ul>
<li>&#x5355;&#x68F5;&#x6811;&#x5185;&#x5B58;&#x5360;&#x7528;&#xFF1A;256&#x6761; &#xD7; 3&#x7279;&#x5F81; &#xD7; 4&#x5B57;&#x8282; = 3KB</li>
<li>200&#x68F5;&#x6811;&#x603B;&#x5185;&#x5B58;&#xFF1A;200 &#xD7; 3KB = 600KB</li>
</ul>
<p>&#x5F53;&#x7279;&#x5F81;&#x6570;&#x8D85;&#x8FC7;10&#x65F6;&#xFF0C;<strong>&#x5EFA;&#x8BAE;</strong>&#x4FDD;&#x6301;256&#xFF1B;&#x7279;&#x5F81;&#x8F83;&#x5C11;&#x65F6;&#x53EF;&#x964D;&#x81F3;128</p>
<h2 id="n-jobs-1"><a href="#n-jobs-1" class="headerlink" title="n_jobs=-1"></a>n_jobs=-1</h2><p>&#x5E76;&#x884C;&#x8BAD;&#x7EC3;&#x591A;&#x68F5;&#x9694;&#x79BB;&#x6811;&#xFF0C;&#x5229;&#x7528;&#x591A;&#x6838;CPU&#x52A0;&#x901F;</p>
<h2 id="random-state-42"><a href="#random-state-42" class="headerlink" title="random_state=42"></a>random_state=42</h2><p>&#x56FA;&#x5B9A;&#x968F;&#x673A;&#x79CD;&#x5B50;&#xFF0C;&#x786E;&#x4FDD;&#x6BCF;&#x6B21;&#x8BAD;&#x7EC3;&#x7ED3;&#x679C;&#x4E00;&#x81F4;</p>
<p>&#x8BA1;&#x7B97;&#x673A;&#x4F7F;&#x7528;&#x4F2A;&#x968F;&#x673A;&#x6570;&#x751F;&#x6210;&#x5668;&#xFF08;PRNG&#xFF09;&#x4EA7;&#x751F;&#x968F;&#x673A;&#x6570;</p>
<p>&#x5047;&#x8BBE;&#x6784;&#x5EFA;&#x4E24;&#x68F5;&#x6811;&#xFF1A;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">| &#x8FD0;&#x884C;&#x6B21;&#x6570; | &#x968F;&#x673A;&#x6570;&#x5E8F;&#x5217;     | &#x7279;&#x5F81;&#x9009;&#x62E9; | &#x5206;&#x5272;&#x503C;&#x9009;&#x62E9; |</span><br><span class="line">| -------- | -------------- | -------- | ---------- |</span><br><span class="line">| &#x7B2C;&#x4E00;&#x6B21;   | 42&#x2192;12345&#x2192;67890 | &#x7279;&#x5F81; 1   | 0.5        |</span><br><span class="line">| &#x7B2C;&#x4E8C;&#x6B21;   | 42&#x2192;12345&#x2192;67890 | &#x7279;&#x5F81; 1   | 0.5        |</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>ML</tag>
      </tags>
  </entry>
  <entry>
    <title>webpack基础</title>
    <url>/2025/02/04/2025-02-06-Webpack%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = {</span><br><span class="line">  <span class="attr">target</span>: <span class="string">&quot;node&quot;</span>,</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./extension.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: {</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;extension.js&quot;</span>,</span><br><span class="line">    <span class="attr">libraryTarget</span>: <span class="string">&quot;commonjs2&quot;</span>,</span><br><span class="line">  },</span><br><span class="line">  <span class="attr">externals</span>: {</span><br><span class="line">    <span class="attr">vscode</span>: <span class="string">&quot;commonjs vscode&quot;</span>, <span class="comment">// &#x1F6AB; &#x544A;&#x8BC9; Webpack &#x8FD9;&#x4E9B;&#x6A21;&#x5757;&#x7531;&#x5916;&#x90E8;&#x63D0;&#x4F9B;</span></span><br><span class="line">  },</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  &#x9632;&#x6B62;&#x5C06; vscode API &#x6253;&#x5305;&#x8FDB;&#x53BB;</span></span><br><span class="line"><span class="comment">  &#x56E0;&#x4E3A; VS Code &#x8FD0;&#x884C;&#x65F6;&#x81EA;&#x5E26;&#x8FD9;&#x4E9B; API</span></span><br><span class="line"><span class="comment">   externals: { vscode: &apos;commonjs vscode&apos; }</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="attr">resolve</span>: {</span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&quot;.js&quot;</span>],</span><br><span class="line">  },</span><br><span class="line">  <span class="attr">optimization</span>: {</span><br><span class="line">    <span class="attr">minimize</span>: <span class="literal">true</span>,</span><br><span class="line">  },</span><br><span class="line">};</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. &#x5165;&#x53E3; (entry): &apos;./extension.js&apos; // &#x7A0B;&#x5E8F;&#x5F00;&#x59CB;&#x6253;&#x5305;&#x7684;&#x8D77;&#x70B9;</span><br><span class="line">2. &#x8F93;&#x51FA; (output): dist/extension.js // &#x6700;&#x7EC8;&#x751F;&#x6210;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;</span><br><span class="line">3. &#x6392;&#x9664;&#x9879; (externals): vscode &#x6A21;&#x5757; // &#x4E0D;&#x6253;&#x5305;&#x8FDB;&#x6700;&#x7EC8;&#x6587;&#x4EF6;&#x7684;&#x5916;&#x90E8;&#x4F9D;&#x8D56;</span><br></pre></td></tr></table></figure>

<h1 id="&#x5728;&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#x4E2D;"><a href="#&#x5728;&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#x4E2D;" class="headerlink" title="&#x5728;&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#x4E2D;"></a>&#x5728;&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#x4E2D;</h1><ol>
<li>&#x6253;&#x5305;&#x547D;&#x4EE4; (package.json &#x4E2D;):</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: {</span><br><span class="line">  &quot;webpack&quot;: &quot;webpack --mode production&quot;,    // &#x751F;&#x4EA7;&#x73AF;&#x5883;&#x6253;&#x5305;</span><br><span class="line">  &quot;webpack-dev&quot;: &quot;webpack --mode development --watch&quot; // &#x5F00;&#x53D1;&#x6A21;&#x5F0F; + &#x76D1;&#x542C;&#x6587;&#x4EF6;&#x53D8;&#x5316;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>&#x8C03;&#x8BD5;&#x914D;&#x7F6E; (.vscode/launch.json):</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;preLaunchTask&quot;: &quot;npm: webpack-dev&quot; // &#x8C03;&#x8BD5;&#x524D;&#x81EA;&#x52A8;&#x6267;&#x884C; webpack-dev</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>&#x81EA;&#x52A8;&#x89E6;&#x53D1;&#x6253;&#x5305;</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: {</span><br><span class="line">  &quot;watch&quot;: &quot;webpack --mode development --watch&quot;,</span><br><span class="line">  &quot;vscode:prepublish&quot;: &quot;npm run webpack&quot; // &#x53D1;&#x5E03;&#x6269;&#x5C55;&#x524D;&#x81EA;&#x52A8;&#x6253;&#x5305;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>&#x5F00;&#x53D1;&#x6A21;&#x5F0F; vs &#x751F;&#x4EA7;&#x6A21;&#x5F0F;</strong>&#xFF1A;</li>
</ol>
<table>
<thead>
<tr>
<th>&#x6A21;&#x5F0F;</th>
<th>&#x4EE3;&#x7801;&#x538B;&#x7F29;</th>
<th>&#x8C03;&#x8BD5;&#x4FE1;&#x606F;</th>
<th>&#x9002;&#x7528;&#x573A;&#x666F;</th>
</tr>
</thead>
<tbody><tr>
<td>production</td>
<td>&#x2705;</td>
<td>&#x274C;</td>
<td>&#x6B63;&#x5F0F;&#x53D1;&#x5E03;</td>
</tr>
<tr>
<td>development</td>
<td>&#x274C;</td>
<td>&#x2705;</td>
<td>&#x672C;&#x5730;&#x8C03;&#x8BD5;</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title>But what is a neural network?</title>
    <url>/2025/02/14/2025-02-14-Neural_Network/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212102140.png"></p>
<p>&#x5982;&#x679C;&#x6211;&#x8981;&#x4F60;&#x5199;&#x4E00;&#x4E2A;program &#x63A5;&#x53D7;&#x4E00;&#x4E2A;image with &#x5F88;&#x591A;&#x50CF;&#x7D20;&#x503C; &#x7136;&#x540E;&#x8981;&#x4F60;output &#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7684;number &#x4EE3;&#x8868;&#x8FD9;&#x4E2A;image represent&#x7684;&#x6570;&#x5B57; </p>
<p>How&#xFF1F;<br>What we&#x2019;re going to do is put together a neural network that can learn to recognize handwritten digits.</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212111661.png"></p>
<p>&#x7B80;&#x5355;&#x5047;&#x8BBE;neuron&#xFF1A;<img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212112168.png" style="zoom:50%;"></p>
<p>Activation</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212114250.png"></p>
<p>this 784 neurons make up our first layer:<img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212114394.png" style="zoom:50%;"></p>
<p>&#x800C;&#x6700;&#x540E;&#x4E00;&#x5C42;&#x7684;:<img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212116496.png" style="zoom:67%;"></p>
<p>&#x4E2D;&#x95F4;&#x7684;&#x662F;&#x9690;&#x85CF;&#x5C42;<br>The way the network operates, activations in one layer determine the activations of the next layer.</p>
<p>how those activations from one layer bring about activations in the next layer It&#x2019;s meant to be loosely analogous to how in biological networks of neurons, some groups of neurons firing cause certain others to fire.</p>
<p><strong>if you feed in an image, lighting up all 784 neurons of the input layer according to the brightness of each pixel in the image, that pattern of activations causes some very specific pattern in the next layer which causes some pattern in the one after it,which finally gives some pattern in the output layer.And the brightest neuron of that output layer is the network&#x2019;s choice</strong></p>
<h1 id="why-it&#x2019;s-even-reasonable-to-expect-a-layered-structure-like-this-to-behave-intelligently"><a href="#why-it&#x2019;s-even-reasonable-to-expect-a-layered-structure-like-this-to-behave-intelligently" class="headerlink" title="why it&#x2019;s even reasonable to expect a layered structure like this to behave intelligently"></a>why it&#x2019;s even reasonable to expect a layered structure like this to behave intelligently</h1><p>Well, when you or I recognize digits, we piece together various components. A 9 has a loop up top and a line on the right. An 8 also has a loop up top, but it&#x2019;s paired with another loop down low. A 4 basically breaks down into three specific lines, and things like that.</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212121375.png"></p>
<p>Now in a perfect world, we might hope that each neuron in the second to last layer corresponds with one of these subcomponents<br>like:<img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212123258.png" style="zoom:50%;"></p>
<p>That way, going from the third layer to the last one just requires learning which combination of subcomponents corresponds to which digits. </p>
<h2 id="Recognizing-a-loop-can-also-break-down-into-subproblems"><a href="#Recognizing-a-loop-can-also-break-down-into-subproblems" class="headerlink" title="Recognizing a loop can also break down into subproblems."></a>Recognizing a loop can also break down into subproblems.</h2><p>recognize the various little edges that make it up.<img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212124765.png"></p>
<p>So our final hope is like:</p>
<img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212126814.png" style="zoom:50%;">

<h1 id="design"><a href="#design" class="headerlink" title="design"></a>design</h1><p>let&#x2019;s say the hope is for one particular neuron in the second layer to pick up  whether or not the image has an edge in this region here. The question at hand is what parameters should the network have?</p>
<p>what we&#x2019;ll do is assign a weight to each one of the connections between our neuron and the neurons from the first layer. Then take all of those activations from the first layer and compute their weighted sum according to these weights.</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212146600.png"></p>
<h1 id="sigmoid"><a href="#sigmoid" class="headerlink" title="sigmoid"></a>sigmoid</h1><p>When you compute a weighted sum like this, you might come out with any number, but for this network what we want is for activations to be some value between 0 and 1. </p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212147104.png"></p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212148379.png"></p>
<h1 id="bias"><a href="#bias" class="headerlink" title="bias"></a>bias</h1><p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212150034.png"></p>
<p>bias What we&#x2019;ll do then is just add in some other number like negative 10 to this</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212151469.png"></p>
<p>So the weights tell you what pixel pattern this neuron in the second  is picking up on, and the bias tells you how high the weighted sum needs to be before the neuron starts getting meaningfully active.</p>
<p>Every other neuron in this layer is going to be connected to  all 784 pixel neurons from the first layer, and each one of those 784 connections has its own weight associated with it. Also, each one has some bias, some other number that you add</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212153573.png"></p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212154068.png"></p>
<p>13,000 &#x4E2A;&#x65CB;&#x94AE;&#x548C;&#x65CB;&#x94AE;&#xFF0C;&#x53EF;&#x8C03;&#x6574;&#x548C;&#x8F6C;&#x52A8;to make this network behave in different ways.</p>
<p>So when we talk about learning, what that&#x2019;s referring to is getting the computer to find a valid setting for all of these many many numbers so that it&#x2019;ll actually solve the problem at hand.</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212158165.png"></p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502212159137.png"></p>
<p>so it&#x2019;s actually more accurate to think of each neuron as a function, one that takes in the outputs of all the neurons in the previous layer and spits out a number between 0,1</p>
<p>784 numbers as an input and spits out 10 numbers as an output. It&#x2019;s an absurdly complicated function, one that involves 13,000 parameters</p>
]]></content>
      <tags>
        <tag>ML</tag>
        <tag>Neural Network</tag>
      </tags>
  </entry>
  <entry>
    <title>Transformer</title>
    <url>/2025/02/16/2025-02-16-Transformer-2024/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>the key idea about transformers was the self-potential mechanism uh that was developed in 2017</p>
<h1 id="GPT-intro"><a href="#GPT-intro" class="headerlink" title="GPT intro"></a>GPT intro</h1><p>GPT &#x7684;&#x5168;&#x540D;&#x5C31;&#x662F; generative pre-trained transformer<br>&#x9884;&#x8BAD;&#x7EC3;&#x662F;&#x6307;&#x6A21;&#x578B;&#x5982;&#x4F55;&#x4ECE;&#x5927;&#x91CF;&#x6570;&#x636E;&#x4E2D;&#x5B66;&#x4E60;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x524D;&#x7F00; Pre &#x6697;&#x793A;&#x6709;&#x66F4;&#x591A;&#x7A7A;&#x95F4;&#x901A;&#x8FC7;&#x989D;&#x5916;&#x7684;&#x8BAD;&#x7EC3;&#x6765;&#x9488;&#x5BF9;&#x7279;&#x5B9A;&#x4EFB;&#x52A1;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x5FAE;&#x8C03;&#x3002;</p>
<p>The last piece that&#x2019;s the real key, a transformer is a specific kind of neural network, a machine learning model, and it&#x2019;s the core invention underlying current boom in AI</p>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x7528;&#x5C31;&#x662F; transformer &#x521B;&#x9020;&#x5F88;&#x591A;&#x7C7B;&#x578B;&#x7684;&#x6A21;&#x578B;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4; voice to text what text to voice, text to image These are based on transformer</p>
<p>&#x4E4B;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x7528; transformer &#x8FD9;&#x79CD;&#x9884;&#x6D4B;&#x6A21;&#x578B;&#x6765;&#x751F;&#x6210;&#x4E00;&#x6BB5;&#x65B0;&#x6587;&#x672C;&#x662F;&#x56E0;&#x4E3A;&#x4F60;&#x53EF;&#x4EE5;&#x7ED9;&#x4ED6;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x7247;&#x6BB5;&#xFF0C;&#x7136;&#x540E;&#x4ED6; predict &#x4E0B;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;&#xFF0C;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7247;&#x6BB5;&#x3002;&#x7136;&#x540E;&#x4F60;&#x518D;&#x628A;&#x8FD9;&#x4E2A;&#x65B0;&#x7684;&#x7247;&#x6BB5;&#x53C8;&#x4E22;&#x8FDB;&#x53BB;&#xFF0C;&#x53BB; predict &#x4E0B;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;&#x5C31;&#x8FD9;&#x6837;</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502162154749.png"></p>
<p>&#x57FA;&#x672C;&#x5C31;&#x662F;&#x8FD9;&#x6837; &#x4E00;&#x6BB5;&#x6587;&#x672C;&#x8FDB;&#x5165;Transformer &#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x8BCD;&#x7684;distribution of probabilities</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502162156993.png"></p>
<h1 id="How-Data-flows-in-Transformer-Generally"><a href="#How-Data-flows-in-Transformer-Generally" class="headerlink" title="How Data flows in Transformer (Generally)"></a>How Data flows in Transformer (Generally)</h1><pre class="mermaid" style="text-align: center;">
            
            flowchart TD
subgraph Input[&quot;&#x8F93;&#x5165;&#x5C42; (Raw Tokens)&quot;]
A[(&quot;Token &#x5E8F;&#x5217;&quot;)]
end

    subgraph Embedding[&quot;Embedding&#x5C42;&quot;]
        B1[&quot;Embeddings Matrix&#x67E5;&#x627E;&quot;]
        B2[&quot;&#x5411;&#x91CF;&#x6620;&#x5C04; (12800&#x7EF4;)&quot;]
    end
    
    subgraph TransformerFlow[&quot;Transformer&#x6838;&#x5FC3;&quot;]
        subgraph AttentionBlock[&quot;Attention Block&quot;]
            D1[&quot;&#x591A;&#x5934;&#x6CE8;&#x610F;&#x529B;&#x673A;&#x5236;&quot;] --&gt; D2[&quot;&#x6B8B;&#x5DEE;&#x8FDE;&#x63A5;&quot;]
            D2 --&gt; D3[&quot;&#x5C42;&#x5F52;&#x4E00;&#x5316;&quot;]
            D3 --&gt; D4[&quot;MLP&quot;]
            D4 --&gt; D5[&quot;&#x6B8B;&#x5DEE;&#x8FDE;&#x63A5;&quot;]
            D5 --&gt; D6[&quot;&#x5C42;&#x5F52;&#x4E00;&#x5316;&quot;]
        end
    
        C[&quot;&#x5411;&#x91CF;&#x5E8F;&#x5217;&quot;] --&gt; D1
        D6 --&gt; E[&quot;&#x4E0B;&#x4E00;&#x4E2A;Attention Block&quot;]
    end
    
    subgraph Output[&quot;&#x8F93;&#x51FA;&#x5C42;&#x5904;&#x7406;&quot;]
        F1[&quot;Unembedding Matrix&quot;]
        F2[&quot;50000&#x7EF4;&#x8BCD;&#x8868;&#x6620;&#x5C04;&quot;]
        G1[&quot;Softmax&#x6E29;&#x5EA6;&#x8C03;&#x8282;&quot;]
        G2[&quot;&#x6982;&#x7387;&#x5206;&#x5E03;&#x8F93;&#x51FA;&quot;]
    end
    
    A --&gt; B1
    B1 --&gt; B2
    B2 --&gt; C
    E --&gt; F1
    F1 --&gt; F2
    F2 --&gt; G1
    G1 --&gt; G2
    
    %% &#x6DFB;&#x52A0;&#x8BF4;&#x660E;&#x6CE8;&#x91CA;
    classDef process fill:#f9f,stroke:#333,stroke-width:2px
    class D1,D4 process
    
    %% &#x6DFB;&#x52A0;&#x5173;&#x952E;&#x6B65;&#x9AA4;&#x8BF4;&#x660E;
    note1[/&quot;&#x8F93;&#x5165;token&#x8F6C;&#x6362;&#x4E3A;&#x5411;&#x91CF;&quot;/]
    note2[/&quot;&#x4E0A;&#x4E0B;&#x6587;&#x4FE1;&#x606F;&#x4EA4;&#x4E92;&quot;/]
    note3[/&quot;&#x751F;&#x6210;&#x9884;&#x6D4B;&#x6982;&#x7387;&quot;/]
    
    B2 -.-&gt; note1
    D1 -.-&gt; note2
    G2 -.-&gt; note3

          </pre>

<h2 id="tokens"><a href="#tokens" class="headerlink" title="tokens"></a>tokens</h2><p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502162202929.png"></p>
<p>&#x89C6;&#x9891;&#xFF0C;&#x97F3;&#x9891;&#xFF0C;&#x6587;&#x672C;&#x7684;&#x201D;a piece&#x201D;&#x90FD;&#x53EF;&#x4EE5;&#x662F; token<br><strong>A token doesn&#x2019;t align with a word</strong></p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170023326.png" style="zoom:50%;">the first time I met token</p>
<p>&#x6BCF;&#x4E00;&#x4E2A; token &#x90FD;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A; vector, &#x8FD9;&#x4E5F;&#x5C31;&#x662F;&#x8FD9;&#x4E00;&#x4E32;&#x6570;&#x5B57;&#x7684;&#x76EE;&#x7684;&#xFF0C;&#x662F;&#x4EE5;&#x67D0;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x8868;&#x8FBE;&#x8FD9;&#x4E00;&#x4E2A; token &#x7684;&#x542B;&#x4E49;</p>
<p><strong>this vector somehow encode the information a token contain</strong></p>
<p>if you think of these vectors as giving coordinates in some very high dimensional space.You will find words with similar meaning tend to land on vectors that close to each other in that space &#x5411;&#x91CF;</p>
<p>&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6BCF;&#x4E00;&#x4E2A; token &#x5728; high dimensional space &#x90FD;&#x53EF;&#x4EE5;&#x8868;&#x73B0;&#x4E3A;&#x4E00;&#x4E2A; informational &#x7684;&#x5411;&#x91CF; &#x76F8;&#x540C;&#x610F;&#x601D;&#x7684;token&#x7684;&#x5750;&#x6807;&#x5E94;&#x8BE5;&#x76F8;&#x8FD1;</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502162207013.png" alt="1739714827253_d"></p>
<p>&#x8FD9;&#x53EF;&#x4EE5;&#x770B;&#x6210;&#x4E00;&#x4E2A;&#x4E09;&#x7EF4;&#x7A7A;&#x95F4;&#x7684;&#x5207;&#x7247;</p>
<p>Transformer &#x7684; tokens &#x5E94;&#x8BE5;&#x8981;&#x8F6C;&#x5316;&#x6210; vectors,&#x4E00;&#x4E2A; token &#x5BF9;&#x5E94;&#x4E00;&#x4E2A; vector &#x4ECE; embeddings matrix &#x91CC;&#x53D6;&#x51FA;&#x5BF9;&#x5E94; token &#x7684;&#x5411;&#x91CF; vector&#xFF0C;&#x5C31;&#x5B8C;&#x6210;&#x4E86; tokens-&gt;vectors,&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x60F3;&#x8C61;&#x5F53; input data &#x5728; Transformer &#x4E2D;&#x6D41;&#x52A8;&#x7684;&#x65F6;&#x5019; &#x4ED6;&#x5C31;&#x957F;&#x8FD9;&#x6837;&#x4E00;&#x4E2A; vectors &#x6784;&#x6210;&#x7684; sequence &#x7684;&#x6837;&#x5B50;</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502162219267.png"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># &#x5047;&#x8BBE;&#x7684;&#x4F2A;&#x4EE3;&#x7801;</span><br><span class="line">embeddings_matrix = ...  # &#x9884;&#x8BAD;&#x7EC3;&#x7684;embedding&#x77E9;&#x9635;</span><br><span class="line">tokens = [&quot;I&quot;, &quot;love&quot;, &quot;machine&quot;, &quot;learning&quot;]</span><br><span class="line"></span><br><span class="line"># &#x5C06;&#x6BCF;&#x4E2A;token&#x8F6C;&#x6362;&#x4E3A;&#x5BF9;&#x5E94;&#x7684;vector</span><br><span class="line">token_vectors = [</span><br><span class="line">    embeddings_matrix[&quot;I&quot;],</span><br><span class="line">    embeddings_matrix[&quot;love&quot;],</span><br><span class="line">    embeddings_matrix[&quot;machine&quot;],</span><br><span class="line">    embeddings_matrix[&quot;learning&quot;]</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x521A;&#x521A;&#x751F;&#x6210;&#x7684;&#x8FD9;&#x4E00;&#x4E2A; token &#x7684;&#x5E8F;&#x5217;&#xFF0C;&#x8FD9;&#x4E00;&#x5806; vectors &#x4F1A;&#x7ECF;&#x8FC7;&#x4E00;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x53EB;&#x505A;&#x6CE8;&#x610F;&#x529B;&#x5757;&#x7684;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x3002;</p>
<h2 id="Attention-Block"><a href="#Attention-Block" class="headerlink" title="Attention Block"></a>Attention Block</h2><p>WHY need attention block.</p>
<p>A token is not supposed to be just the exact original meaning(in embeddings matrix) &#x6BD4;&#x5982; model &#x8FD9;&#x4E2A;&#x8BCD;&#xFF0C;&#x6211;&#x4EEC;&#x5047;&#x8BBE;&#x4ED6;&#x662F;&#x4E00;&#x4E2A; token&#xFF0C;machine learning model &#x548C; fashion model &#x7684;&#x610F;&#x601D;&#x80AF;&#x5B9A;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x4F46;&#x4ED6;&#x4EEC;&#x7684; Pre-trained embeddings matrix &#x91CC;&#x7684;&#x5411;&#x91CF;&#x662F;&#x4E00;&#x6837;,&#x4F46;&#x6A21;&#x578B;&#x5E94;&#x8BE5;&#x77E5;&#x9053;&#x4ED6;&#x4EEC;&#x7684;&#x610F;&#x601D;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6A21;&#x578B;&#x5E94;&#x8BE5;&#x5B66;&#x4E60;&#x5230;&#x8FD9;&#x4E2A;&#x610F;&#x4E49;<br>The vector in embeddings matrix encoded the original information which should change into the meaning it is supposed to be in THE CONTEXT<br>&#x5728; attention block &#x8FD9;&#x4E9B; Vector &#x4F1A;&#x4E92;&#x76F8;&#x4F5C;&#x7528;</p>
<p>&#x63A5;&#x7740;&#x521A;&#x521A;&#x8BF4;&#x7684;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x6709; vectors &#x7684;&#x5E8F;&#x5217;&#xFF0C;&#x8FD9;&#x4E2A;&#x5E8F;&#x5217;&#x5728;&#x8FD9;&#x4E2A;&#x6CE8;&#x610F;&#x529B;&#x5757;&#x91CC;&#xFF0C;&#x8FD9;&#x4E9B;&#x5411;&#x91CF;&#x80FD;&#x591F;&#x76F8;&#x4E92;&#x4EA4;&#x6D41;&#xFF0C;&#x4ED6;&#x4EEC;&#x53EF;&#x4EE5; pass information back and forth</p>
<h2 id="Multilayer-Perceptron"><a href="#Multilayer-Perceptron" class="headerlink" title="Multilayer Perceptron"></a>Multilayer Perceptron</h2><p>&#x591A;&#x5C42;&#x611F;&#x77E5;&#x673A;</p>
<p>&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF1A;&#x5BF9;&#x6BCF;&#x4E2A;&#x5411;&#x91CF;&#x63D0;&#x51FA;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x95EE;&#x9898;&#xFF0C; &#x7136;&#x540E;&#x6839;&#x636E;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x7684;&#x7B54;&#x6848;&#x6765;&#x66F4;&#x65B0;&#x5411;&#x91CF;</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502162232003.png"></p>
<p>&#x8FD9;&#x6837;&#x91CD;&#x590D;&#x8FD9;&#x4E24;&#x4E2A;&#x8FC7;&#x7A0B;</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502162234738.png"></p>
<h2 id="Final-Processing-vectors"><a href="#Final-Processing-vectors" class="headerlink" title="Final Processing vectors"></a>Final Processing vectors</h2><p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502162239819.png"></p>
<h1 id="Dive-into"><a href="#Dive-into" class="headerlink" title="Dive into"></a>Dive into</h1><h2 id="Premise-What-is-Weight"><a href="#Premise-What-is-Weight" class="headerlink" title="Premise:What is Weight"></a>Premise:What is Weight</h2><p>To simplify:the model&#x2019;s weights (numbers that control the prediction) </p>
<p>We start with the simplest machine-learning model: <strong>linear model</strong></p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170030041.png"></p>
<p>&#x6570;&#x5B66;&#x8868;&#x8FBE;&#x5F0F; y = wx + b</p>
<ul>
<li>y: &#x9884;&#x6D4B;&#x503C;</li>
<li>x: &#x8F93;&#x5165;&#x7279;&#x5F81;</li>
<li>w: &#x6743;&#x91CD;(weight)</li>
<li>b: &#x504F;&#x7F6E;(bias)</li>
</ul>
<p>We see x as a vector and by processing(computing) x with weight and bias,in the high semantic dimensional space we have changed the meaning x originally represents.</p>
<h2 id="About-Input-tokens"><a href="#About-Input-tokens" class="headerlink" title="About Input tokens"></a>About Input tokens</h2><p>Input is just what the model processes,the actual brain of Transformer is WEIGHTS.</p>
<p>&#x6A21;&#x578B;&#x62E5;&#x6709;&#x4E00;&#x4E2A;&#x9884;&#x8BBE;&#x7684;&#x8BCD;&#x6C47;&#x5E93;&#xFF0C;&#x5305;&#x542B;&#x6240;&#x6709;&#x53EF;&#x80FD;&#x7684;&#x5355;&#x8BCD;&#xFF0C; &#x6BD4;&#x5982;&#x8BF4;&#x6709; 50,000 &#x4E2A;</p>
<p>&#x8FD9;&#x4E2A;&#x8BCD;&#x6C47;&#x8868;&#x4EE5; Embedding matrix &#x7684;&#x5F62;&#x5F0F;&#x5B58;&#x50A8;<img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170032772.png"><br>this is pre-trained which somehow encoded the information a single token should represent!<br>Which is to say : these columns are what determines what vector each word(token) turns into <strong>IN THE FIRST STEP</strong></p>
<p>And &#x4E0D;&#x7BA1;&#x4F60;&#x6784;&#x5EFA;&#x7684;&#x662F;&#x54EA;&#x79CD;&#x6A21;&#x578B;&#xFF0C;&#x8F93;&#x5165;&#x90FD;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x6570;&#x6570;&#x7EC4;&#x8FD9;&#x53EF;&#x80FD;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x5217;&#x8868;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;&#xFF0C;&#x6216;&#x8005;&#x66F4;&#x5E38;&#x89C1;&#x7684;&#x662F;&#x66F4;&#x9AD8;&#x7EF4;&#x5EA6;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x901A;&#x7528;&#x7684;&#x672F;&#x8BED;&#x6211;&#x4EEC;&#x79F0;&#x4E4B;&#x4E3A;&#x5F20;&#x91CF;<br>So &#x2B07;&#xFE0F;</p>
<h3 id="How-many-dimensions-can-x-be"><a href="#How-many-dimensions-can-x-be" class="headerlink" title="How many dimensions can x be"></a>How many dimensions can x be</h3><p>As we already know:In the perception of Transformer,Input data is sequence of vectors (high dimensional vector)</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502162219267.png"></p>
<p>So how many numbers are in a vector ?&#x1F928;</p>
<p>take GPT-3 for example :12800 dimension,which means 12800 rows for a vector</p>
<h3 id="review-key-concept"><a href="#review-key-concept" class="headerlink" title="review key concept"></a>review key concept</h3><p>&#x8FD9;&#x91CC;&#x7684;&#x5173;&#x952E;&#x601D;&#x60F3;&#x662F;&#xFF0C;&#x6A21;&#x578B;&#x5728;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#x4E2D;&#x8C03;&#x6574;&#x548C;&#x5FAE;&#x8C03;&#x6743;&#x91CD;&#xFF0C; &#x4EE5;&#x786E;&#x5B9A;&#x8BCD;&#x5177;&#x4F53;&#x5982;&#x4F55;&#x88AB;&#x5D4C;&#x5165;&#x4E3A; final &#x5411;&#x91CF;<br><strong>how exactly words get embedded as vectors during training</strong></p>
<h2 id="What-happens-in-the-Attention-block-and-&#x591A;&#x5C42;&#x611F;&#x77E5;&#x673A;"><a href="#What-happens-in-the-Attention-block-and-&#x591A;&#x5C42;&#x611F;&#x77E5;&#x673A;" class="headerlink" title="What happens in the Attention block and &#x591A;&#x5C42;&#x611F;&#x77E5;&#x673A;"></a>What happens in the Attention block and &#x591A;&#x5C42;&#x611F;&#x77E5;&#x673A;</h2><p>we&#x2019;ve said that &#x201C;&#x8FD9;&#x91CC;&#x7684;&#x5173;&#x952E;&#x601D;&#x60F3;&#x662F;&#xFF0C;&#x6A21;&#x578B;&#x5728;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#x4E2D;&#x8C03;&#x6574;&#x548C;&#x5FAE;&#x8C03;&#x6743;&#x91CD;&#x201D;<br>So In the Attention block that&#x2019;s what happened.<br><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170052799.png"></p>
<p>And it does that by what we have mentioned:Weights</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Attention block&#x6838;&#x5FC3;&#x8FC7;&#x7A0B;</span><br><span class="line">Vectors &#x2192; &#x76F8;&#x4E92;&#x4F20;&#x9012;&#x4FE1;&#x606F; &#x2192; &#x8C03;&#x6574;&#x77E9;&#x9635;&#x503C;</span><br></pre></td></tr></table></figure>

<p> &#x6BCF;&#x4E2A; vector &#x90FD;&#x4F1A;:</p>
<ul>
<li>&#x4E0E;&#x5176;&#x4ED6; vectors &#x4EA4;&#x4E92;</li>
<li>&#x4EA4;&#x6362;&#x4FE1;&#x606F;</li>
<li>&#x6839;&#x636E;&#x4EA4;&#x4E92;&#x7ED3;&#x679C;&#x8C03;&#x6574;&#x81EA;&#x8EAB;&#x8868;&#x5F81;</li>
</ul>
<p>In GPT-3</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170051060.png"></p>
<p>these weights constantly changed during the process of training</p>
<h3 id="How-do-we-get-weights"><a href="#How-do-we-get-weights" class="headerlink" title="How do we get weights"></a>How do we get weights</h3><p>&#x9884;&#x6D4B;&#x9636;&#x6BB5;(Inference)</p>
<ul>
<li>&#x6539;&#x53D8;&#x7684;&#x662F;&#xFF1A;input vectors matrix</li>
<li>&#x52A8;&#x6001;&#x8C03;&#x6574; tokens &#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;</li>
<li>&#x4E0D;&#x6539;&#x53D8;&#x6A21;&#x578B;&#x6743;&#x91CD;</li>
</ul>
<p>&#x8BAD;&#x7EC3;&#x9636;&#x6BB5;(Training)</p>
<ul>
<li>&#x6539;&#x53D8;&#x7684;&#x662F;&#xFF1A;&#x6A21;&#x578B;&#x7684; weights</li>
<li>&#x901A;&#x8FC7;&#x53CD;&#x5411;&#x4F20;&#x64AD;</li>
<li>&#x76EE;&#x7684;&#xFF1A;&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x66F4;&#x597D;&#x5730;&#x6355;&#x6349; tokens &#x95F4;&#x5173;&#x7CFB;</li>
</ul>
<p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x5B66;&#x4E60;&#x5F97;&#x5230;&#x4E00;&#x4E2A; reasonable weights</p>
<h4 id="WHY-do-they-weights-change"><a href="#WHY-do-they-weights-change" class="headerlink" title="WHY do they (weights) change"></a>WHY do they (weights) change</h4><p>The ULTIMATE Goal &#x662F;&#x6700;&#x5C0F;&#x5316;&#x6574;&#x4F53;&#x9884;&#x6D4B;&#x8BEF;&#x5DEE;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x8F93;&#x5165;x &#x2192; &#x6A21;&#x578B;&#x9884;&#x6D4B; &#x2192; &#x8BA1;&#x7B97;&#x8BEF;&#x5DEE; &#x2192; &#x8C03;&#x6574;weights</span><br></pre></td></tr></table></figure>

<h4 id="How-they-change"><a href="#How-they-change" class="headerlink" title="How they change"></a>How they change</h4><ul>
<li>&#x635F;&#x5931;&#x51FD;&#x6570;(Loss Function)&#x8861;&#x91CF;&#x9884;&#x6D4B;&#x8BEF;&#x5DEE;</li>
<li>&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x6CD5;&#x8BA1;&#x7B97;&#x6743;&#x91CD;&#x8C03;&#x6574;&#x65B9;&#x5411;</li>
<li>&#x901A;&#x8FC7;&#x53CD;&#x5411;&#x4F20;&#x64AD;(Backpropagation)&#x66F4;&#x65B0;&#x6743;&#x91CD;</li>
</ul>
<img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170102556.png" style="zoom:200%;">

<p>The most popular algorithm today&#x2019;s models are mostly using</p>
<p>The model is given an <strong>input vector</strong>, makes a prediction, compares that prediction to the <strong>expected output</strong>, and then uses the error (quantified by the loss function) and the gradient of that error to adjust its weights.</p>
<p><strong>This adjustment process is what we call &#x201C;learning.&#x201D;</strong></p>
<h3 id="The-results-of-learning-of-adjusting-weights"><a href="#The-results-of-learning-of-adjusting-weights" class="headerlink" title="The results of learning ,of adjusting weights"></a>The results of learning ,of adjusting weights</h3><p>&#x5047;&#x8BBE;&#x4F60;&#x4E0D;&#x77E5;&#x9053;&#x8868;&#x793A;&#x201C;&#x5973;&#x6027;&#x541B;&#x4E3B;&#x201D;&#x7684;&#x8BCD; &#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5411;&#x201C;&#x56FD;&#x738B;&#x201D;&#x5411;&#x91CF;&#x6DFB;&#x52A0;&#x201C;&#x5973;&#x4EBA;&#x51CF;&#x7537;&#x4EBA;&#x201D;&#x7684;&#x65B9;&#x5411; &#x5E76;&#x641C;&#x7D22;&#x6700;&#x63A5;&#x8FD1;&#x8FD9;&#x4E2A;&#x70B9;&#x7684;&#x8BCD;&#x5411;&#x91CF;&#x6765;&#x627E;&#x5230;&#x5B83;&#x3002;</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170052126.png"></p>
<p>&#x5173;&#x952E;&#x5728;&#x4E8E;&#xFF0C;&#x5728;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C; &#x6A21;&#x578B;&#x53D1;&#x73B0;&#x91C7;&#x7528;&#x8FD9;&#x6837;&#x7684;&#x5D4C;&#x5165;&#x65B9;&#x5F0F;&#x66F4;&#x4E3A;&#x6709;&#x5229; &#x5373;&#x4ED6;&#x5B66;&#x4F1A;&#x4E86;&#x8FD9;&#x4E2A;&#x7A7A;&#x95F4;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x65B9;&#x5411;&#x80FD;&#x591F;&#x7F16;&#x7801;&#x6027;&#x522B;&#x4FE1;&#x606F;</p>
<p>And it has found a proper vector to encode the information the token represents! Not just its original meaning,But IN THE CONTEXT</p>
<h2 id="In-this-step-What-does-a-well-trained-vector-mean"><a href="#In-this-step-What-does-a-well-trained-vector-mean" class="headerlink" title="In this step,What does a well-trained vector mean"></a>In this step,What does a well-trained vector mean</h2><p>we have got processed vectors by filtering with weights<br>Which means What we are asking right now is (In Y=WX+B)<br><strong>What does WX mean now</strong></p>
<p>It means <strong>it&#x2019;s context-encoded</strong></p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170125004.png"></p>
<p>Let&#x2019;s summarize it:<br>&#x4E00;&#x4E2A;&#x8BCD;&#x7684;&#x610F;&#x4E49;&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x662F;&#x7531;&#x5176;&#x6240;&#x5904;&#x7684;&#x73AF;&#x5883;&#x51B3;&#x5B9A;&#x7684; &#x6709;&#x65F6;&#x8FD9;&#x751A;&#x81F3;&#x5305;&#x62EC;&#x6765;&#x81EA;&#x5F88;&#x8FDC;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x3002; &#x56E0;&#x6B64;&#xFF0C;&#x5728;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x80FD;&#x9884;&#x6D4B;&#x4E0B;&#x4E00;&#x4E2A;&#x8BCD;&#x6C47;&#x7684;&#x6A21;&#x578B;&#x65F6; &#x5173;&#x952E;&#x76EE;&#x6807;&#x5C31;&#x662F;&#x8BA9;&#x5B83;&#x80FD;&#x591F;&#x9AD8;&#x6548;&#x5730;&#x878D;&#x5408;&#x4E0A;&#x4E0B;&#x6587;&#x4FE1;&#x606F;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x6839;&#x636E;&#x8F93;&#x5165;&#x6587;&#x672C;&#x521B;&#x5EFA;&#x5411;&#x91CF;&#x6570;&#x7EC4;&#x65F6;&#xFF0C; &#x6BCF;&#x4E2A;&#x5411;&#x91CF;&#x90FD;&#x662F;&#x76F4;&#x63A5;&#x4ECE;&#x5D4C;&#x5165;&#x77E9;&#x9635;&#x4E2D;&#x9009;&#x53D6;&#x7684;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x8D77;&#x521D;&#xFF0C;&#x6BCF;&#x4E2A;&#x5411;&#x91CF;&#x4EC5;&#x80FD;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;&#x7684;&#x542B;&#x4E49;&#xFF0C; &#x800C;&#x4E0D;&#x6D89;&#x53CA;&#x5176;&#x5468;&#x8FB9;&#x73AF;&#x5883;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x6807;&#x662F;&#x8BA9;&#x8FD9;&#x4E9B;&#x5411;&#x91CF;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x4F20;&#x9012;&#xFF0C;&#x4F7F;&#x6BCF;&#x4E00;&#x4E2A;&#x5411;&#x91CF;&#x90FD;&#x80FD;&#x83B7;&#x5F97;&#x6BD4;&#x5355;&#x4E2A;&#x8BCD;&#x66F4;&#x4E30;&#x5BCC;&#x3001;&#x66F4;&#x5177;&#x4F53;&#x7684;&#x542B;&#x4E49;&#x3002;</p>
<p>Which is A token has the capacity to absorb its context-meaning</p>
<h3 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h3><p>&#x8FD9;&#x4E2A;&#x7F51;&#x7EDC;&#x6BCF;&#x6B21;&#x53EA;&#x80FD;&#x5904;&#x7406;&#x4E00;&#x5B9A;&#x6570;&#x91CF;&#x7684;&#x5411;&#x91CF;&#x8FD9;&#x5C31;&#x662F;&#x6240;&#x8C13;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x5927;&#x5C0F;&#x3002;<br>&#x610F;&#x5473;&#x7740;&#x6570;&#x636E;&#x5728; Transformer &#x7F51;&#x7EDC;&#x4E2D;&#x6D41;&#x52A8;&#x65F6;&#xFF0C; &#x603B;&#x662F;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x4E00;&#x4E32; 2048 &#x5217;&#x7684;&#x6570;&#x7EC4;&#x3002;</p>
<img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170130380.png" style="zoom:200%;">

<p>:smile:</p>
<h2 id="In-the-final"><a href="#In-the-final" class="headerlink" title="In the final"></a>In the final</h2><p>End should look like this:</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170134409.png" alt="1739727248332_d"></p>
<p>Its final goal is to have a distribution of probability Because Transformer is a prediction model in the end.<br>So We have our processed vectors-composed Sequence&#xFF08;&#x4E0A;&#x4E0B;&#x6587;&#xFF09;,We just need its last column</p>
<p>&#x4F7F;&#x7528;&#x53E6;&#x4E00;&#x4E2A;&#x77E9;&#x9635; Unembedding matrix&#xFF0C; &#x5C06;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5411;&#x91CF;&#x6620;&#x5C04;&#x5230; to a list of 50,000 values, one for each token in the vocabulary.&#x8BCD;&#x6C47;&#x8868;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A; token &#x90FD;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x63A5;&#x7740;&#xFF0C;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x628A;&#x8FD9;&#x4E9B;&#x503C;&#x8F6C;&#x6362;&#x6210;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x53EB; softmax&#xFF0C;&#x4EC5;&#x4EC5;&#x57FA;&#x4E8E;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5D4C;&#x5165;&#x6765;&#x505A;&#x51FA;&#x9884;&#x6D4B;&#x4F3C;&#x4E4E;&#x6709;&#x4E9B;&#x5947;&#x602A;&#xFF0C; &#x6BD5;&#x7ADF;&#x5728;&#x6700;&#x540E;&#x4E00;&#x5C42;&#x4E2D;&#x8FD8;&#x6709;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x7684;&#x5176;&#x4ED6;&#x5411;&#x91CF;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5728;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C; &#x5982;&#x679C;&#x6211;&#x4EEC;&#x5229;&#x7528;&#x6700;&#x7EC8;&#x5C42;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x5411;&#x91CF;&#x6765;&#x9884;&#x6D4B;&#x5176;&#x540E;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x88AB;&#x8BC1;&#x660E;&#x662F;&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170139461.png" alt="1739727579409_d"></p>
<h3 id="&#x600E;&#x4E48;&#x786E;&#x5B9A;-50-000-values"><a href="#&#x600E;&#x4E48;&#x786E;&#x5B9A;-50-000-values" class="headerlink" title="&#x600E;&#x4E48;&#x786E;&#x5B9A; 50,000 values"></a>&#x600E;&#x4E48;&#x786E;&#x5B9A; 50,000 values</h3><p>&#x5173;&#x4E8E;&#x53C2;&#x6570;&#x603B;&#x6570;&#x7684;&#x7EDF;&#x8BA1;&#xFF0C; &#x8FD9;&#x4E2A; unembedding &#x77E9;&#x9635;&#x4E3A;&#x8BCD;&#x6C47;&#x8868;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5355;&#x8BCD;&#x90FD;&#x5206;&#x914D;&#x4E86;&#x4E00;&#x884C;&#xFF0C;&#x6BCF;&#x4E00;&#x884C;&#x5305;&#x542B;&#x4E0E;&#x5D4C;&#x5165;&#x7EF4;&#x5EA6;&#x76F8;&#x540C;&#x6570;&#x91CF;&#x7684;&#x5143;&#x7D20;&#x3002;&#x8FD9;&#x4E0E;&#x5D4C;&#x5165;&#xFF08;embedding&#xFF09;&#x77E9;&#x9635;&#x975E;&#x5E38;&#x76F8;&#x4F3C;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x628A;&#x987A;&#x5E8F;&#x5012;&#x8FC7;&#x6765;&#x4E86;&#xFF0C; &#x56E0;&#x6B64;&#x5B83;&#x4E3A;&#x7F51;&#x7EDC;&#x589E;&#x52A0;&#x4E86;&#x53E6;&#x5916; 6.17 &#x4EBF;&#x4E2A;&#x53C2;&#x6570;&#x3002;</p>
<h3 id="Softmax"><a href="#Softmax" class="headerlink" title="Softmax"></a>Softmax</h3><p>&#x6211;&#x4EEC;&#x7684;&#x6700;&#x540E;&#x8BA1;&#x7B97;&#x90FD;&#x662F;&#x77E9;&#x9635;&#x548C; vector &#x7684;&#x8BA1;&#x7B97;&#xFF0C;&#x6700;&#x540E;&#x5F97;&#x4E0D;&#x5230;&#x4E00;&#x4E2A;&#x6982;&#x7387;&#x5206;&#x5E03;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5F52;&#x4E00;&#x5316;&#x51FD;&#x6570; &#x8F93;&#x5165;&#x662F; logits &#x8F93;&#x51FA;&#x662F; Probabilities</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170143064.png"></p>
<p>&#x73B0;&#x5728;&#x5F15;&#x5165;&#x4E00;&#x4E2A;&#x4EBA;&#x4E3A;&#x7684;&#x6E29;&#x5EA6;</p>
<p><img src="https://raw.githubusercontent.com/tju-tomorrow/Image/main/img/202502170146374.png" alt="1739727981548_d"></p>
<p>&#x5B83;&#x7684;&#x6548;&#x679C;&#x662F;&#xFF0C;&#x5F53; t &#x503C;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x4F1A;&#x4F7F;&#x8F83;&#x5C0F;&#x7684;&#x6570;&#x503C;&#x83B7;&#x5F97;&#x66F4;&#x591A;&#x7684;&#x6743;&#x91CD;&#xFF0C; &#x4F7F;&#x5F97;&#x5206;&#x5E03;&#x7A0D;&#x5FAE;&#x5747;&#x5300;&#x4E00;&#x4E9B;&#x3002;&#x800C;&#x5982;&#x679C; t &#x503C;&#x8F83;&#x5C0F;&#x5219;&#x8F83;&#x5927;&#x7684;&#x6570;&#x503C;&#x5219;&#x4F1A;&#x66F4;&#x52A0;&#x660E;&#x663E;&#x5730;&#x5360;&#x636E;&#x4E3B;&#x5BFC;&#xFF0C;&#x6781;&#x7AEF;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;0 &#x6E29;&#x5EA6;&#x4E3A; 0 &#x610F;&#x5473;&#x7740;&#x5B83;&#x603B;&#x662F;&#x9009;&#x62E9;&#x6700;&#x53EF;&#x9884;&#x6D4B;&#x7684;&#x8BCD; &#x90A3;&#x4E48;&#x6240;&#x6709;&#x7684;&#x6743;&#x91CD;&#x90FD;&#x4F1A;&#x96C6;&#x4E2D;&#x5728;&#x6700;&#x5927;&#x7684;&#x503C;&#x4E0A;&#x3002;</p>
<p>&#x6E29;&#x5EA6;&#x4E3A; 0 &#x610F;&#x5473;&#x7740;&#x5B83;&#x603B;&#x662F;&#x9009;&#x62E9;&#x6700;&#x53EF;&#x9884;&#x6D4B;&#x7684;&#x8BCD;,&#x800C;&#x4F60;&#x6240;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x5C31;&#x53D8;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x9648;&#x8BCD;&#x6EE5;&#x8C03;&#x7684;&#x91D1;&#x53D1;&#x59D1;&#x5A18;&#x6545;&#x4E8B;&#x3002;&#x8F83;&#x9AD8;&#x7684;&#x6E29;&#x5EA6;&#x7ED9;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x9009;&#x62E9;&#x4E0D;&#x592A;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x8BCD;&#x7684;&#x673A;&#x4F1A;&#xFF0C;&#x4F46;&#x8FD9;&#x4E5F;&#x4F34;&#x968F;&#x7740;&#x98CE;&#x9669;&#x3002;&#x4F46;&#x5F88;&#x5FEB;&#x5C31;&#x53D8;&#x5F97;&#x6BEB;&#x65E0;&#x610F;&#x4E49;&#x3002;API &#x5B9E;&#x9645;&#x4E0A;&#x5E76;&#x4E0D;&#x5141;&#x8BB8;&#x4F60;&#x9009;&#x62E9;&#x5927;&#x4E8E; 2 &#x7684;&#x6E29;&#x5EA6;&#x3002;&#x8FD9;&#x4E2A;&#x9650;&#x5236;&#x5E76;&#x6CA1;&#x6709;&#x6570;&#x5B66;&#x4E0A;&#x7684;&#x6839;&#x636E;&#xFF0C; &#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x4EBA;&#x4E3A;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x6211;&#x731C;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x4ED6;&#x4EEC;&#x7684;&#x5DE5;&#x5177;&#x4EA7;&#x751F;&#x592A;&#x8FC7;&#x8352;&#x8BDE;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
]]></content>
      <tags>
        <tag>ML</tag>
        <tag>Transformer</tag>
      </tags>
  </entry>
  <entry>
    <title>Loss Function,Gradient Descent and Backpropagation （basic）</title>
    <url>/2025/02/23/2025-02-23-Lossfunction/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>By understanding these three concept,we get to better understand how Transformer adjusts the weights.</p>
<h1 id="Loss-Function"><a href="#Loss-Function" class="headerlink" title="Loss Function"></a><strong>Loss Function</strong></h1><p> it&#x2019;s the first step: we need to <strong>measure</strong> the mistake before we can <strong>fix</strong> it.</p>
<p><strong>What it does:</strong><br>The loss function measures how wrong a prediction is compared to the actual value. It gives us a number that shows the size of the mistake.</p>
<p><strong>How it works:</strong>  </p>
<ul>
<li>You have an actual value (the real answer).  </li>
<li>You have a predicted value (the model&#x2019;s guess).  </li>
<li>The loss function calculates the difference between these two values.  </li>
<li>A smaller difference means a smaller loss number; a bigger difference means a bigger loss number.</li>
</ul>
<p><strong>Example:</strong><br>Suppose the actual price of a house is $300,000,and the model predicts $280,000.  </p>
<ul>
<li>The difference is $300,000 - $280,000 = $20,000.  </li>
<li>The loss could simply be this difference: $20,000.</li>
</ul>
<p><strong>Why we need it:</strong><br>We use the loss to see how good or bad the prediction is. Without it, we wouldn&#x2019;t know if the model is right or wrong, or by how much.</p>
<h1 id="Gradient-Descent"><a href="#Gradient-Descent" class="headerlink" title="Gradient Descent"></a><strong>Gradient Descent</strong></h1><p><strong>What it does:</strong><br>Gradient descent figures out how to adjust the model&#x2019;s weights (numbers that control the prediction) to make the loss smaller.<br>It decides the direction where the model is improving towards.</p>
<p><strong>How it works:</strong>  </p>
<ul>
<li>The model uses weights to make predictions.  </li>
<li>The loss tells us how wrong the prediction is.  </li>
<li>Gradient descent looks at how each weight affects the loss.  </li>
<li>It <strong>adjusts each weight a little bit</strong> to reduce the loss.  </li>
<li>We repeat this process many times until the loss gets as small as possible.</li>
</ul>
<p><strong>Example:</strong><br>Let&#x2019;s say our model predicts the house price using a weight. The formula might be:  </p>
<ul>
<li>Gradient descent checks: &#x201C;If I change the weight from 280 to 281, does the loss get smaller?&#x201D;  </li>
<li>New prediction = 281 &#xD7; 1000 = $281,000; loss = $19,000.  </li>
<li>The loss went down, so we keep adjusting the weight upward a little at a time (e.g., to 282, 283) until the prediction is closer to $300,000.</li>
</ul>
<p><strong>Why we need it:</strong><br>It&#x2019;s the step that improves the model by reducing the loss, using the mistake we measured earlier.</p>
<h1 id="Backpropagation-&#x53CD;&#x5411;&#x4F20;&#x64AD;"><a href="#Backpropagation-&#x53CD;&#x5411;&#x4F20;&#x64AD;" class="headerlink" title="Backpropagation (&#x53CD;&#x5411;&#x4F20;&#x64AD;)"></a>Backpropagation (&#x53CD;&#x5411;&#x4F20;&#x64AD;)</h1><p><strong>What it does:</strong><br>Backpropagation figures out how much each weight in the model is responsible for the loss, so we can adjust them using gradient descent.</p>
<p><strong>How it works:</strong>  </p>
<ul>
<li>A model can have many weights, not just one, spread across layers (like steps in a calculation).  </li>
<li>First, we send the input through all layers to get a prediction (forward).  </li>
<li>Then, we calculate the loss.  </li>
<li>Next, we go backwards: starting from the loss, <strong>we check how each weight in each layer contributed to it.</strong>  </li>
<li>We calculate how to adjust each weight to lower the loss.</li>
</ul>
<p><strong>Example:</strong><br>Let&#x2019;s make our house price model a bit more complex with two weights:  </p>
<ul>
<li>Weight 1 (W1) = 200, Weight 2 (W2) = 1.4.  </li>
<li>Step 1: Input (1000 square feet) &#xD7; W1 = 200 &#xD7; 1000 = 200,000.  </li>
<li>Step 2: 200,000 &#xD7; W2 = 200,000 &#xD7; 1.4 = $280,000 (prediction).  </li>
<li>Actual price = $300,000, so loss = $20,000.  </li>
<li>Backpropagation asks:  <ul>
<li>How much did W2 (1.4) affect the loss? If W2 were 1.5, prediction = 200,000 &#xD7; 1.5 = $300,000, loss = $0. So, W2 needs to increase.  </li>
<li>How much did W1 (200) affect the loss? It made the 200,000 that W2 used. If W1 were 210, then 210 &#xD7; 1000 = 210,000, and 210,000 &#xD7; 1.4 = $294,000, loss = $6,000. So, <strong>W1 also needs to adjust.</strong></li>
</ul>
</li>
<li>Backpropagation calculates these effects backwards, from the loss to W2, then to W1.</li>
</ul>
<p><strong>Why we need it:</strong><br>With many weights, we need to know which ones to change and by how much. Backpropagation tells us this so gradient descent can work.</p>
]]></content>
      <tags>
        <tag>ML</tag>
        <tag>Loss Function</tag>
        <tag>Gradient Descent</tag>
        <tag>Backpropagation</tag>
      </tags>
  </entry>
  <entry>
    <title>AI CLI</title>
    <url>/2025/07/07/2025-07-07-Ai-Cli-2025/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><ul>
<li>Claude code - &#x9700;&#x8981;api &#x597D;&#x8D35;</li>
<li>Gemini Cli - token&#x591A; &#x6BCF;&#x5206;&#x949F;&#x6709;&#x514D;&#x8D39;&#x8BF7;&#x6C42;</li>
<li>Warp -&#x6BCF;&#x4E2A;&#x6708; &#x514D;&#x8D39;&#x7528;&#x6237;&#x6709;&#x9650;&#x5236;</li>
<li>Amazon Q &#x53EF;&#x4EE5;&#x8C03;Claude sonnet 4 &#x8FD8;&#x53EF;&#x4EE5;&#x5440; &#x6CA1;&#x6709;&#x9650;&#x5236;&#xFF1F; q chat</li>
</ul>
<p>&#x73B0;&#x5728;&#x4E3B;&#x8981;&#x7528;Amazon Q</p>
<p>&#x53E6;&#x5916;&#x4ECA;&#x5929;&#x53D1;&#x73B0;&#x5168;&#x5C40;&#x68AF;&#x5B50; gemini&#x600E;&#x4E48;&#x5410;&#x90A3;&#x4E48;&#x591A;&#x1F923;</p>
]]></content>
      <tags>
        <tag>AI</tag>
      </tags>
  </entry>
  <entry>
    <title>浏览器有几个线程</title>
    <url>/2025/07/05/2025-07-05-Browser-And-Process&amp;Thread-2025/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>&#x65E9;&#x671F;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x662F;<strong>&#x5355;&#x8FDB;&#x7A0B;</strong>&#x7684;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x6240;&#x6709;&#x529F;&#x80FD;&#x2014;&#x2014;&#x7528;&#x6237;&#x754C;&#x9762;&#x3001;&#x7F51;&#x9875;&#x6E32;&#x67D3;&#x3001;&#x63D2;&#x4EF6;&#x3001;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x2014;&#x2014;&#x90FD;&#x8FD0;&#x884C;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x91CC;&#x3002;&#x8FD9;&#x79CD;&#x8BBE;&#x8BA1;&#x7684;&#x7F3A;&#x70B9;&#x662F;&#x81F4;&#x547D;&#x7684;&#xFF1A;</p>
<ul>
<li><strong>&#x4E0D;&#x7A33;&#x5B9A;</strong>&#xFF1A;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#x9875;&#x6216;&#x63D2;&#x4EF6;&#x5D29;&#x6E83;&#xFF0C;&#x6574;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x4F1A;&#x968F;&#x4E4B;&#x5D29;&#x6E83;&#x3002;</li>
<li><strong>&#x4E0D;&#x5B89;&#x5168;</strong>&#xFF1A;&#x6240;&#x6709;&#x6807;&#x7B7E;&#x9875;&#x5171;&#x4EAB;&#x540C;&#x4E00;&#x5757;&#x5185;&#x5B58;&#xFF0C;&#x6076;&#x610F;&#x811A;&#x672C;&#x5F88;&#x5BB9;&#x6613;&#x5C31;&#x80FD;&#x7A83;&#x53D6;&#x5176;&#x4ED6;&#x9875;&#x9762;&#x7684;&#x4FE1;&#x606F;&#x3002;</li>
<li><strong>&#x4E0D;&#x6D41;&#x7545;</strong>&#xFF1A;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x62A2;&#x5360;&#x540C;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x7EBF;&#x7A0B;&#xFF0C;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x7684;&#x7F51;&#x9875;&#x8BA1;&#x7B97;&#x5C31;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x6574;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#x5361;&#x6B7B;&#x3002;</li>
</ul>
<p>&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x73B0;&#x4EE3;&#x6D4F;&#x89C8;&#x5668;&#x91C7;&#x7528;&#x4E86;<strong>&#x591A;&#x8FDB;&#x7A0B;&#x67B6;&#x6784;</strong>&#x3002;</p>
<h1 id="&#x5F53;&#x4F60;&#x6253;&#x5F00;&#x7F51;&#x9875;&#x65F6;"><a href="#&#x5F53;&#x4F60;&#x6253;&#x5F00;&#x7F51;&#x9875;&#x65F6;" class="headerlink" title="&#x5F53;&#x4F60;&#x6253;&#x5F00;&#x7F51;&#x9875;&#x65F6;"></a>&#x5F53;&#x4F60;&#x6253;&#x5F00;&#x7F51;&#x9875;&#x65F6;</h1><ol>
<li><strong>&#x7F51;&#x7EDC;&#x7EBF;&#x7A0B;</strong>&#x4E0B;&#x8F7D;HTML&#x3002;</li>
<li><strong>&#x4E3B;&#x7EBF;&#x7A0B;</strong>&#x89E3;&#x6790;HTML&#xFF0C;&#x9047;&#x5230;JS&#x65F6;&#x6682;&#x505C;&#x89E3;&#x6790;&#xFF08;&#x9664;&#x975E;&#x6807;&#x8BB0;<code>async/defer</code>&#xFF09;&#x3002;</li>
<li><strong>&#x5408;&#x6210;&#x7EBF;&#x7A0B;</strong>&#x4F18;&#x5148;&#x54CD;&#x5E94;&#x6EDA;&#x52A8;&#xFF0C;&#x4FDD;&#x8BC1;&#x6D41;&#x7545;&#x6027;&#x3002;</li>
<li><strong>GPU&#x7EBF;&#x7A0B;</strong>&#x52A0;&#x901F;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x3002;</li>
</ol>
<h1 id="&#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x7A0B;-Browser-Process"><a href="#&#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x7A0B;-Browser-Process" class="headerlink" title="&#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x7A0B; (Browser Process)"></a>&#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x7A0B; (Browser Process)</h1><p>&#x6BCF;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x7A0B;&#x3002;&#x5B83;&#x662F;&#x6240;&#x6709;&#x8FDB;&#x7A0B;&#x7684;&#x7236;&#x8FDB;&#x7A0B;&#xFF0C;&#x8D1F;&#x8D23;&#x5B83;&#x4EEC;&#x7684;&#x751F;&#x6740;&#x5927;&#x6743;&#x3002;</p>
<h2 id="&#x5305;&#x542B;&#x7EBF;&#x7A0B;"><a href="#&#x5305;&#x542B;&#x7EBF;&#x7A0B;" class="headerlink" title="&#x5305;&#x542B;&#x7EBF;&#x7A0B;"></a>&#x5305;&#x542B;&#x7EBF;&#x7A0B;</h2><ul>
<li><strong>UI&#x7EBF;&#x7A0B;</strong>&#xFF1A;&#x8D1F;&#x8D23;&#x5730;&#x5740;&#x680F;&#x3001;&#x4E66;&#x7B7E;&#x680F;&#x7B49;&#x754C;&#x9762;&#x6E32;&#x67D3;&#x548C;&#x7528;&#x6237;&#x4EA4;&#x4E92;&#x3002;</li>
<li><strong>&#x7F51;&#x7EDC;&#x7EBF;&#x7A0B;&#xFF08;Network Thread&#xFF09;</strong>&#xFF1A;&#x5904;&#x7406;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#xFF08;HTTP/HTTPS&#xFF09;&#x3001;DNS&#x89E3;&#x6790;&#x7B49;&#x3002;</li>
<li><strong>&#x5B58;&#x50A8;&#x7EBF;&#x7A0B;&#xFF08;Storage Thread&#xFF09;</strong>&#xFF1A;&#x7BA1;&#x7406;&#x672C;&#x5730;&#x5B58;&#x50A8;&#xFF08;Cookie&#x3001;LocalStorage&#xFF09;&#x3002;</li>
</ul>
<h1 id="&#x6E32;&#x67D3;&#x5668;&#x8FDB;&#x7A0B;-Renderer-Process"><a href="#&#x6E32;&#x67D3;&#x5668;&#x8FDB;&#x7A0B;-Renderer-Process" class="headerlink" title="&#x6E32;&#x67D3;&#x5668;&#x8FDB;&#x7A0B; (Renderer Process)"></a>&#x6E32;&#x67D3;&#x5668;&#x8FDB;&#x7A0B; (Renderer Process)</h1><h2 id="&#x5305;&#x542B;&#x7EBF;&#x7A0B;-1"><a href="#&#x5305;&#x542B;&#x7EBF;&#x7A0B;-1" class="headerlink" title="&#x5305;&#x542B;&#x7EBF;&#x7A0B;"></a>&#x5305;&#x542B;&#x7EBF;&#x7A0B;</h2><ul>
<li><p>&#x4E3B;&#x7EBF;&#x7A0B;&#xFF08;Main Thread&#xFF09;</p>
<ul>
<li>&#x89E3;&#x6790;HTML/CSS&#x3001;&#x6784;&#x5EFA;DOM&#x6811;&#x548C;CSSOM&#x6811;&#x3002;</li>
<li>&#x6267;&#x884C;JavaScript&#xFF08;&#x5355;&#x7EBF;&#x7A0B;&#xFF0C;&#x901A;&#x8FC7;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x5904;&#x7406;&#x5F02;&#x6B65;&#x4EFB;&#x52A1;&#xFF09;&#x3002;</li>
<li>&#x5E03;&#x5C40;&#xFF08;Layout&#xFF09;&#x548C;&#x7ED8;&#x5236;&#xFF08;Paint&#xFF09;&#x7684;&#x89E6;&#x53D1;&#x3002;</li>
</ul>
</li>
<li><p>&#x5408;&#x6210;&#x7EBF;&#x7A0B;&#xFF08;Compositor Thread&#xFF09;</p>
<ul>
<li>&#x5C06;&#x9875;&#x9762;&#x5206;&#x5C42;&#xFF08;Layer&#xFF09;&#xFF0C;&#x5904;&#x7406;&#x6EDA;&#x52A8;&#x3001;&#x52A8;&#x753B;&#x7B49;&#xFF0C;&#x907F;&#x514D;&#x963B;&#x585E;&#x4E3B;&#x7EBF;&#x7A0B;&#x3002;</li>
</ul>
</li>
<li><p>Web Worker&#x7EBF;&#x7A0B;&#xFF08;&#x53EF;&#x9009;&#xFF09;&#x6D89;&#x53CA;&#x201C;js&#x5904;&#x7406;&#x4E00;&#x4E07;&#x4E2A;&#x4EFB;&#x52A1;&#x600E;&#x4E48;&#x505A;&#x201D;</p>
<ul>
<li>&#x8FD0;&#x884C;&#x72EC;&#x7ACB;JavaScript&#x811A;&#x672C;&#xFF0C;&#x4E0D;&#x963B;&#x585E;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF08;&#x9700;&#x901A;&#x8FC7;<code>postMessage</code>&#x901A;&#x4FE1;&#xFF09;&#x3002;</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#x4E3B;&#x7EBF;&#x7A0B;&#x4EE3;&#x7801; (main.<span class="property">js</span>)</span><br><span class="line"><span class="comment">// 1. &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684; Worker</span></span><br><span class="line"><span class="keyword">const</span> worker = <span class="keyword">new</span> <span class="title class_">Worker</span>(<span class="string">&apos;worker.js&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. &#x5411; Worker &#x53D1;&#x9001;&#x4EFB;&#x52A1;&#x6570;&#x636E;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&apos;&#x5411; Worker &#x53D1;&#x9001;&#x4EFB;&#x52A1;&#x6307;&#x4EE4;...&apos;</span>);</span><br><span class="line">worker.<span class="title function_">postMessage</span>({ <span class="attr">command</span>: <span class="string">&apos;start&apos;</span>, <span class="attr">totalTasks</span>: <span class="number">10000</span> });</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. &#x76D1;&#x542C;&#x6765;&#x81EA; Worker &#x7684;&#x6D88;&#x606F;&#xFF08;&#x6BD4;&#x5982;&#x4EFB;&#x52A1;&#x5B8C;&#x6210;&#x7684;&#x901A;&#x77E5;&#xFF09;</span></span><br><span class="line">worker.<span class="property">onmessage</span> = <span class="keyword">function</span>(<span class="params">e</span>) {</span><br><span class="line">  <span class="keyword">if</span> (e.<span class="property">data</span>.<span class="property">status</span> === <span class="string">&apos;done&apos;</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&apos;&#x4E3B;&#x7EBF;&#x7A0B;&#x6536;&#x5230;&#x6D88;&#x606F;&#xFF1A;Worker &#x5DF2;&#x5B8C;&#x6210;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#xFF01;&apos;</span>);</span><br><span class="line">    <span class="comment">// &#x5728;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x7528; Worker &#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x6765;&#x66F4;&#x65B0; UI</span></span><br><span class="line">  }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="title class_">Worker</span> &#x7EBF;&#x7A0B;&#x4EE3;&#x7801; (worker.<span class="property">js</span>)</span><br><span class="line"><span class="comment">// &#x76D1;&#x542C;&#x6765;&#x81EA;&#x4E3B;&#x7EBF;&#x7A0B;&#x7684;&#x6D88;&#x606F;</span></span><br><span class="line">self.<span class="property">onmessage</span> = <span class="keyword">function</span>(<span class="params">e</span>) {</span><br><span class="line">  <span class="keyword">if</span> (e.<span class="property">data</span>.<span class="property">command</span> === <span class="string">&apos;start&apos;</span>) {</span><br><span class="line">    <span class="keyword">const</span> totalTasks = e.<span class="property">data</span>.<span class="property">totalTasks</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x5728; Worker &#x7EBF;&#x7A0B;&#x4E2D;&#x6267;&#x884C;&#x8017;&#x65F6;&#x4EFB;&#x52A1;&#xFF0C;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x653E;&#x5FC3;&#x4F7F;&#x7528;&#x540C;&#x6B65;&#x957F;&#x5FAA;&#x73AF;</span></span><br><span class="line">    <span class="comment">// &#x56E0;&#x4E3A;&#x5B83;&#x4E0D;&#x4F1A;&#x963B;&#x585E;&#x4E3B;&#x7EBF;&#x7A0B;</span></span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; totalTasks; i++) {</span><br><span class="line">      result += <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(i);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// &#x4EFB;&#x52A1;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x5411;&#x4E3B;&#x7EBF;&#x7A0B;&#x53D1;&#x56DE;&#x6D88;&#x606F;</span></span><br><span class="line">    self.<span class="title function_">postMessage</span>({ <span class="attr">status</span>: <span class="string">&apos;done&apos;</span>, <span class="attr">result</span>: result });</span><br><span class="line">  }</span><br><span class="line">};</span><br></pre></td></tr></table></figure>

<h2 id="How-it-Works"><a href="#How-it-Works" class="headerlink" title="How it Works"></a>How it Works</h2></li>
<li><p>&#x6BCF;&#x4E2A;&#x6807;&#x7B7E;&#x9875;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF1A;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6BCF;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6807;&#x7B7E;&#x9875;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5C31;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6E32;&#x67D3;&#x5668;&#x8FDB;&#x7A0B;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5728;&#x4EFB;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#x91CC;&#x80FD;&#x770B;&#x5230;&#x5F88;&#x591A;&#x4E2A; Chrome &#x8FDB;&#x7A0B;&#x7684;&#x539F;&#x56E0;&#x3002;</p>
</li>
<li><p><strong>&#x5B89;&#x5168;&#x6C99;&#x7BB1;</strong>&#xFF1A;&#x6E32;&#x67D3;&#x5668;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x5728;&#x4E00;&#x4E2A;&#x6743;&#x9650;&#x6781;&#x4F4E;&#x7684;&#x201C;&#x6C99;&#x7BB1;&#x201D;&#x73AF;&#x5883;&#x4E2D;&#x3002;&#x5B83;&#x51E0;&#x4E4E;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6216;&#x7F51;&#x7EDC;&#x7684;&#x80FD;&#x529B;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#xFF0C;&#x5B83;&#x5FC5;&#x987B;&#x901A;&#x8FC7;&#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x7A0B;&#x6765;&#x8BF7;&#x6C42;&#x3002;</p>
</li>
<li><p><strong>&#x4F8B;&#x5982;</strong>&#xFF1A;&#x5F53;&#x4F60;&#x5728;&#x7F51;&#x9875;&#x4E0A;&#x70B9;&#x51FB;&#x4E00;&#x4E2A;&#x94FE;&#x63A5;&#x65F6;&#xFF0C;&#x662F;&#x6E32;&#x67D3;&#x5668;&#x8FDB;&#x7A0B;&#x6355;&#x6349;&#x5230;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5B83;&#x4F1A;&#x901A;&#x77E5;&#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x7A0B;&#xFF1A;&#x201C;&#x7528;&#x6237;&#x60F3;&#x8BBF;&#x95EE;&#x8FD9;&#x4E2A;&#x65B0;&#x7F51;&#x5740;&#xFF01;&#x201D; &#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x7A0B;&#x63A5;&#x6536;&#x5230;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6E32;&#x67D3;&#x5668;&#x8FDB;&#x7A0B;&#x6765;&#x52A0;&#x8F7D;&#x65B0;&#x9875;&#x9762;&#x3002;</p>
</li>
</ul>
<h1 id="GPU-&#x8FDB;&#x7A0B;-GPU-Process"><a href="#GPU-&#x8FDB;&#x7A0B;-GPU-Process" class="headerlink" title="GPU &#x8FDB;&#x7A0B; (GPU Process)"></a>GPU &#x8FDB;&#x7A0B; (GPU Process)</h1><p>&#x7279;&#x70B9;&#xFF1A;&#x6574;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#x901A;&#x5E38;&#x53EA;&#x6709;&#x4E00;&#x4E2A; GPU &#x8FDB;&#x7A0B;&#x3002;&#x5B83;&#x4ECE;&#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x7A0B;&#x63A5;&#x6536;&#x547D;&#x4EE4;&#xFF0C;&#x5E76;&#x4E0E;&#x6E32;&#x67D3;&#x5668;&#x8FDB;&#x7A0B;&#xFF08;&#x5408;&#x6210;&#x7EBF;&#x7A0B;&#xFF09;&#x534F;&#x4F5C;&#xFF0C;&#x5C06;&#x6E32;&#x67D3;&#x597D;&#x7684;&#x56FE;&#x5C42;&#x5408;&#x6210;&#x5E76;&#x663E;&#x793A;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x3002;</p>
<h1 id="&#x63D2;&#x4EF6;&#x8FDB;&#x7A0B;-Plugin-Process"><a href="#&#x63D2;&#x4EF6;&#x8FDB;&#x7A0B;-Plugin-Process" class="headerlink" title="&#x63D2;&#x4EF6;&#x8FDB;&#x7A0B; (Plugin Process)"></a>&#x63D2;&#x4EF6;&#x8FDB;&#x7A0B; (Plugin Process)</h1><p>&#x8FD9;&#x4E2A;&#x8FDB;&#x7A0B;&#x7528;&#x4E8E;&#x7BA1;&#x7406;&#x6D4F;&#x89C8;&#x5668;&#x5B89;&#x88C5;&#x7684;&#x63D2;&#x4EF6;&#xFF08;&#x6BD4;&#x5982;&#x65E9;&#x671F;&#x7248;&#x672C;&#x7684; Adobe Flash Player&#xFF09;&#x3002;</p>
<ul>
<li>&#x804C;&#x8D23;<ul>
<li><strong>&#x9694;&#x79BB;&#x8FD0;&#x884C;&#x63D2;&#x4EF6;</strong>&#xFF1A;&#x4E3A;&#x6BCF;&#x4E2A;&#x63D2;&#x4EF6;&#xFF08;&#x6216;&#x6BCF;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x63D2;&#x4EF6;&#xFF09;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x8FDB;&#x7A0B;&#x3002;</li>
</ul>
</li>
<li>&#x7279;&#x70B9;<ul>
<li><strong>&#x589E;&#x5F3A;&#x7A33;&#x5B9A;&#x6027;&#x4E0E;&#x5B89;&#x5168;&#x6027;</strong>&#xFF1A;&#x5C06;&#x63D2;&#x4EF6;&#x9694;&#x79BB;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x56E0;&#x63D2;&#x4EF6;&#x5D29;&#x6E83;&#x800C;&#x5BFC;&#x81F4;&#x6574;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#x6216;&#x6807;&#x7B7E;&#x9875;&#x5D29;&#x6E83;&#x3002;&#x540C;&#x6837;&#xFF0C;&#x63D2;&#x4EF6;&#x4E5F;&#x88AB;&#x9650;&#x5236;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x6C99;&#x7BB1;&#x4E2D;&#x3002;</li>
</ul>
</li>
</ul>
<h1 id="&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;"><a href="#&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;" class="headerlink" title="&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;"></a>&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;</h1><p>&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x79CD;&#x53EB;&#x505A; IPC (Inter-Process Communication, &#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;) &#x7684;&#x673A;&#x5236;&#x6765;&#x5B8C;&#x6210;&#x7684;&#x3002;</p>
]]></content>
      <tags>
        <tag>Frontend</tag>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>ipv4 &amp;&amp; ipv6</title>
    <url>/2025/04/27/2025-04-27-ipv4&amp;&amp;ipv6-2025/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="NAT&#x5730;&#x5740;&#x8F6C;&#x6362;"><a href="#NAT&#x5730;&#x5740;&#x8F6C;&#x6362;" class="headerlink" title="NAT&#x5730;&#x5740;&#x8F6C;&#x6362;"></a>NAT&#x5730;&#x5740;&#x8F6C;&#x6362;</h1><p>&#x5BB6;&#x91CC;&#x8DEF;&#x7531;&#x5668;&#x88AB;&#x8FD0;&#x8425;&#x5546;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x516C;&#x7F51;IP<br>&#x624B;&#x673A;&#x5E73;&#x677F;&#x7535;&#x8111; &#x88AB;&#x8DEF;&#x7531;&#x5668;&#x5206;&#x914D;&#x4E86;&#x5185;&#x7F51;ip</p>
<p>&#x8DEF;&#x7531;&#x5668;&#x5728;&#x670D;&#x52A1;&#x5668;&#x8DDF;&#x624B;&#x673A;&#x4E4B;&#x95F4; &#x4FEE;&#x6539;&#x624B;&#x673A;&#x53D1;&#x6765;&#x7684;&#x5185;&#x7F51;ip&#x548C;&#x7AEF;&#x53E3; &#x53D8;&#x6210;&#x81EA;&#x5DF1;&#x7684;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x7AEF;&#x53E3;&#x548C;&#x516C;&#x7F51;ip</p>
<p>&#x95EE;&#x9898;&#x5C31;&#x662F;&#x5728;&#x516C;&#x7F51;&#x7684;&#x5176;&#x4ED6;&#x8BBE;&#x5907;&#x8BA4;&#x4E3A;&#x4F60;&#x7684;&#x624B;&#x673A;&#x548C;&#x7535;&#x8111;&#x662F;&#x4E00;&#x4E2A;&#x516C;&#x7F51;&#x8DDF;&#x4ED6;&#x4EEC;&#x5E73;&#x7EA7;&#x7684;&#x8BBE;&#x5907;</p>
<p>&#x8FD9;&#x4E9B;&#x5176;&#x4ED6;&#x8BBE;&#x5907; &#x53EF;&#x4EE5;&#x8BA4;&#x4E3A; &#x4ED6;&#x4EEC;&#x770B;&#x4E0D;&#x5230;&#x8DEF;&#x7531;&#x5668; &#x4ED6;&#x4EEC;&#x4F1A;&#x4F7F;&#x7528;&#x516C;&#x7F51;ip+&#x7AEF;&#x53E3;9443&#x6765;&#x5C1D;&#x8BD5;&#x8FDE;&#x63A5;&#x4F60;&#x7684;&#x624B;&#x673A;&#x7535;&#x8111; </p>
<p>&#x4F46;&#x662F;&#x7AEF;&#x53E3;&#x80AF;&#x5B9A;&#x4E0D;&#x5BF9; &#x56E0;&#x4E3A;&#x4F1A;&#x8FDE;&#x63A5;&#x5230;&#x8DEF;&#x7531;&#x5668;&#x7684;9443&#x7AEF;&#x53E3; &#x4F46;&#x662F;&#x5176;&#x5B9E;&#x60F3;&#x8FDE;&#x63A5;&#x624B;&#x673A;&#x7535;&#x8111;&#x7684;9443&#x7AEF;&#x53E3; &#x6240;&#x4EE5;&#x8981;&#x5728;&#x8DEF;&#x7531;&#x5668;&#x8BBE;&#x7F6E;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1; &#x6620;&#x5C04;</p>
<hr>
<p>NAT&#x4E4B;&#x4E0A;&#x5F04;NAT &#x56E0;&#x4E3A;&#x5206;&#x914D;&#x7ED9;&#x8DEF;&#x7531;&#x5668;&#x7684;ip&#x4E5F;&#x7528;&#x5B8C;&#x7684;&#x8BDD;&#x5C31;&#x8FD9;&#x6837;</p>
<p>&#x5C0F;&#x533A;&#x4E00;&#x4E2A; &#x5C0F;&#x533A;&#x7684;&#x6BCF;&#x5BB6;&#x6BCF;&#x6237;&#x90FD;&#x662F;&#x7B2C;&#x4E00;&#x5C42;&#x5185;&#x7F51;ip &#x4F60;&#x7684;&#x8BBE;&#x5907;&#x53D8;&#x6210;&#x7B2C;&#x4E8C;&#x5C42;&#x4E86;</p>
<p>&#x624B;&#x673A;&#x9996;&#x5148;&#x53D1;&#x5305;&#x5230;&#x81EA;&#x5DF1;&#x7684;&#x8DEF;&#x7531;&#x5668; &#x8DEF;&#x7531;&#x5668;&#x6539;&#x5B8C;&#x5730;&#x5740;&#x53D1;&#x5305;&#x7ED9;&#x8FD0;&#x8425;&#x5546;&#x7684;&#x8DEF;&#x7531;&#x5668; &#x8FD0;&#x8425;&#x5546;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x8FDB;&#x884C;&#x7B2C;&#x4E8C;&#x6B21;&#x5730;&#x5740;&#x8F6C;&#x6362; &#x8FD9;&#x65F6;&#x5019;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x5305;&#x624D;&#x7528;&#x4E0A;&#x4E86;&#x516C;&#x7F51;ip&#x53D1;&#x7ED9;&#x670D;&#x52A1;&#x5668;</p>
<p>&#x8FD9;&#x5C31;&#x662F;&#x5927;&#x5185;&#x7F51;</p>
<p>&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#x8FD0;&#x8425;&#x5546;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x63A7;&#x5236;&#x6743;&#x5E76;&#x4E0D;&#x5728;&#x7528;&#x6237;&#x624B;&#x91CC; &#x4F60;&#x4E0D;&#x53EF;&#x80FD;&#x8DD1;&#x5230;&#x8FD0;&#x8425;&#x5546;&#x673A;&#x623F;&#x91CC;&#x8BBE;&#x7F6E;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1; &#x6240;&#x4EE5;&#x516C;&#x7F51;&#x7528;&#x6237;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;&#x5927;&#x5185;&#x7F51;&#x91CC;&#x7684;&#x8BBE;&#x5907;</p>
<p>&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x51FA;&#x73B0;&#x4E86;&#x5185;&#x7F51;&#x7A7F;&#x900F;</p>
<h1 id="ipv6"><a href="#ipv6" class="headerlink" title="ipv6"></a>ipv6</h1><p>NAT&#x5C42;&#x6570;&#x592A;&#x591A;&#x4E86; &#x4F7F;&#x7528;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x65B9;&#x6848; IPv6&#x5730;&#x5740;&#x957F;&#x5EA6;&#x662F;ipv4&#x7684;4&#x500D; 128&#x4F4D;2&#x8FDB;&#x5236; </p>
<p>ipv6&#x5730;&#x5740;&#x5F88;&#x591A;  &#x6BCF;&#x4E2A;&#x5185;&#x7F51;&#x7528;&#x6237;&#x90FD;&#x4F1A;&#x88AB;&#x5206;&#x914D;&#x5230;&#x4E00;&#x4E2A;</p>
<p>&#x8BBE;&#x7F6E;&#x91CC;IPv6&#x5B57;&#x6BB5;&#x5982;&#x679C;&#x662F;FE80&#x5F00;&#x5934;&#x662F;&#x5185;&#x7F51;ipv6</p>
<p>240E&#x5F00;&#x5934;&#x662F;&#x4E2D;&#x56FD;&#x7535;&#x4FE1; 2408&#x662F;&#x8054;&#x901A;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x7535;&#x8111;&#x901A;&#x8FC7;&#x4E86;<a href="http://www.test-ipv6.com&#x7684;&#x6D4B;&#x8BD5;/">www.test-ipv6.com&#x7684;&#x6D4B;&#x8BD5;</a> &#x8BF4;&#x660E;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;IPv6&#x7684;&#x7F51;&#x7AD9;</p>
<p>&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x516C;&#x7F51;&#x7684;&#x9ED1;&#x5BA2;&#x968F;&#x610F;&#x8BBF;&#x95EE;&#x5185;&#x7F51;&#x8BBE;&#x5907;</p>
<p>&#x81EA;&#x5DF1;&#x4E70;&#x7684;&#x8DEF;&#x7531;&#x5668; &#x901A;&#x5E38;&#x4F1A;&#x9ED8;&#x8BA4;&#x5F00;&#x542F;&#x5165;&#x7AD9;&#x9632;&#x706B;&#x5899; &#x963B;&#x65AD;&#x5916;&#x7F51;IPv6&#x8BBF;&#x95EE;&#x5185;&#x7F51;&#x8BBE;&#x5907; &#x9700;&#x8981;&#x8FDB;&#x5165;&#x540E;&#x53F0;&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;&#x624D;&#x80FD;&#x4ECE;&#x516C;&#x7F51;&#x8BBF;&#x95EE;&#x5185;&#x7F51;&#x8BBE;&#x5907; &#x5BF9;&#x4E8E;&#x6709;&#x516C;&#x7F51;IPv4&#x7684;&#x670B;&#x53CB;&#x6765;&#x8BF4; &#x53EA;&#x8981;&#x8BBE;&#x7F6E;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1; &#x586B;&#x4E0A;&#x5185;&#x7F51;&#x8BBE;&#x5907;&#x5BF9;&#x5E94;&#x7684;IP&#x548C;&#x7AEF;&#x53E3;</p>
]]></content>
      <tags>
        <tag>Networking</tag>
      </tags>
  </entry>
  <entry>
    <title>大型语言模型（LLM）信息来源的核心</title>
    <url>/2025/07/20/2025-07-20-%E5%A4%A7%E5%9E%8B%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%EF%BC%88LLM%EF%BC%89%E4%BF%A1%E6%81%AF%E6%9D%A5%E6%BA%90%E7%9A%84%E6%A0%B8%E5%BF%83-2025/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="main"><a href="#main" class="headerlink" title="main"></a>main</h1><p>&#x8FD9;&#x6837;&#x7684;&#x7406;&#x89E3;&#x662F;&#x6B63;&#x786E;&#x7684;&#xFF1A;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x6211;&#x4EEC;&#x4ECA;&#x5929;&#x8C08;&#x8BBA;&#x7684;LLM&#xFF0C;&#x6BD4;&#x5982;GPT&#x7CFB;&#x5217;&#xFF0C;&#x5176;&#x8BAD;&#x7EC3;&#x57FA;&#x7840;&#x786E;&#x5B9E;&#x662F;<strong>&#x6587;&#x672C;&#xFF08;Text-based&#xFF09;</strong>&#x3002;&#x5B83;&#x4EEC;&#x672C;&#x8EAB;&#x5E76;&#x4E0D;&#x80FD;&#x50CF;&#x4EBA;&#x7C7B;&#x4E00;&#x6837;&#x201C;&#x89C2;&#x770B;&#x201D;&#x7535;&#x5F71;&#x6216;&#x8005;&#x201C;&#x542C;&#x201D;&#x97F3;&#x9891;&#x3002;</p>
<p>&#x90A3;&#x4E48;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x90E8;&#x7535;&#x5F71;&#x6CA1;&#x6709;&#x516C;&#x5F00;&#x53D1;&#x5E03;&#x5B98;&#x65B9;&#x5267;&#x672C;&#xFF0C;LLM&#x662F;&#x5982;&#x4F55;&#x77E5;&#x9053;&#x91CC;&#x9762;&#x7684;&#x53F0;&#x8BCD;&#x7684;&#x5462;&#xFF1F;</p>
<p>&#x7B54;&#x6848;&#x662F;&#xFF0C;LLM&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x6E90;&#x4E8E;&#x4E00;&#x4E2A;&#x6781;&#x5176;&#x5E9E;&#x5927;&#x548C;&#x591A;&#x6837;&#x5316;&#x7684;&#x6587;&#x672C;&#x4E16;&#x754C;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E16;&#x754C;&#x91CC;&#x5305;&#x542B;&#x4E86;&#x5927;&#x91CF;&#x7531;&#x4EBA;&#x7C7B;&#x521B;&#x5EFA;&#x7684;&#x3001;&#x5173;&#x4E8E;&#x8FD9;&#x90E8;&#x7535;&#x5F71;&#x7684;&#x95F4;&#x63A5;&#x6587;&#x672C;&#x4FE1;&#x606F;&#x3002;LLM&#x901A;&#x8FC7;&#x5B66;&#x4E60;&#x8FD9;&#x4E9B;&#x6D77;&#x91CF;&#x7684;&#x95F4;&#x63A5;&#x4FE1;&#x606F;&#xFF0C;&#x6784;&#x5EFA;&#x8D77;&#x4E86;&#x5BF9;&#x8FD9;&#x90E8;&#x7535;&#x5F71;&#x5185;&#x5BB9;&#x7684;&#x201C;&#x77E5;&#x8BC6;&#x201D;&#x3002;</p>
<p>&#x8FD9;&#x4E9B;&#x95F4;&#x63A5;&#x7684;&#x6587;&#x672C;&#x6765;&#x6E90;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#xFF1A;</p>
<h3 id="1-&#x5B57;&#x5E55;&#x6587;&#x4EF6;-Subtitles"><a href="#1-&#x5B57;&#x5E55;&#x6587;&#x4EF6;-Subtitles" class="headerlink" title="1. &#x5B57;&#x5E55;&#x6587;&#x4EF6; (Subtitles)"></a>1. &#x5B57;&#x5E55;&#x6587;&#x4EF6; (Subtitles)</h3><p>&#x8FD9;&#x662F;&#x6700;&#x76F4;&#x63A5;&#x3001;&#x6700;&#x51C6;&#x786E;&#x7684;&#x6587;&#x672C;&#x6765;&#x6E90;&#x4E4B;&#x4E00;&#x3002;</p>
<ul>
<li><strong>&#x89E3;&#x91CA;</strong>&#xFF1A;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7535;&#x5F71;&#x548C;&#x7535;&#x89C6;&#x5267;&#x5728;&#x53D1;&#x884C;&#x6570;&#x5B57;&#x7248;&#x3001;DVD&#x6216;&#x84DD;&#x5149;&#x65F6;&#xFF0C;&#x90FD;&#x4F1A;&#x5185;&#x5D4C;&#x6216;&#x9644;&#x5E26;&#x5B57;&#x5E55;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A; <code>.srt</code> &#x6216; <code>.vtt</code> &#x7684;&#x6587;&#x4EF6;&#xFF09;&#x5305;&#x542B;&#x4E86;&#x7535;&#x5F71;&#x4E2D;&#x6240;&#x6709;&#x5BF9;&#x8BDD;&#x7684;&#x65F6;&#x95F4;&#x6233;&#x548C;&#x7CBE;&#x786E;&#x6587;&#x672C;&#x3002;</li>
<li><strong>&#x4F8B;&#x5982;</strong>&#xFF1A;&#x5F53;&#x8FD9;&#x4E9B;&#x7535;&#x5F71;&#x8D44;&#x6E90;&#x51FA;&#x73B0;&#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x65F6;&#xFF0C;&#x5176;&#x5B57;&#x5E55;&#x6587;&#x4EF6;&#x4E5F;&#x7ECF;&#x5E38;&#x88AB;&#x5355;&#x72EC;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x88AB;&#x4E0A;&#x4F20;&#x5230;&#x5404;&#x79CD;&#x5B57;&#x5E55;&#x5206;&#x4EAB;&#x7F51;&#x7AD9;&#xFF08;&#x6BD4;&#x5982; Subscene, OpenSubtitles &#x7B49;&#xFF09;&#x3002;&#x8FD9;&#x4E9B;&#x516C;&#x5F00;&#x7684;&#x5B57;&#x5E55;&#x6587;&#x4EF6;&#x5C31;&#x6210;&#x4E3A;&#x4E86;LLM&#x5B8C;&#x7F8E;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x5C31;&#x662F;&#x7535;&#x5F71;&#x53F0;&#x8BCD;&#x7684;&#x9010;&#x5B57;&#x7A3F;&#x3002;</li>
</ul>
<h3 id="2-&#x7535;&#x5F71;&#x5267;&#x672C;&#x548C;&#x53F0;&#x8BCD;&#x8BB0;&#x5F55;-Scripts-and-Transcripts"><a href="#2-&#x7535;&#x5F71;&#x5267;&#x672C;&#x548C;&#x53F0;&#x8BCD;&#x8BB0;&#x5F55;-Scripts-and-Transcripts" class="headerlink" title="2. &#x7535;&#x5F71;&#x5267;&#x672C;&#x548C;&#x53F0;&#x8BCD;&#x8BB0;&#x5F55; (Scripts and Transcripts)"></a>2. &#x7535;&#x5F71;&#x5267;&#x672C;&#x548C;&#x53F0;&#x8BCD;&#x8BB0;&#x5F55; (Scripts and Transcripts)</h3><p>&#x5373;&#x4F7F;&#x6CA1;&#x6709;&#x5B98;&#x65B9;&#x51FA;&#x7248;&#x7684;&#x5267;&#x672C;&#xFF0C;&#x4E5F;&#x5B58;&#x5728;&#x5927;&#x91CF;&#x975E;&#x5B98;&#x65B9;&#x7684;&#x6587;&#x672C;&#x8BB0;&#x5F55;&#x3002;</p>
<ul>
<li><strong>&#x89E3;&#x91CA;</strong>&#xFF1A;&#x5F71;&#x8FF7;&#x6216;&#x4E13;&#x4E1A;&#x4EBA;&#x58EB;&#x53EF;&#x80FD;&#x4F1A;&#x81EA;&#x5DF1;&#x542C;&#x5199;&#x5E76;&#x6574;&#x7406;&#x51FA;&#x6574;&#x90E8;&#x7535;&#x5F71;&#x7684;&#x53F0;&#x8BCD;&#xFF0C;&#x5236;&#x4F5C;&#x6210;&#x975E;&#x5B98;&#x65B9;&#x7684;&#x5267;&#x672C;&#x6216;&#x53F0;&#x8BCD;&#x5B9E;&#x5F55;&#xFF08;Transcript&#xFF09;&#x3002;</li>
<li><strong>&#x6BD4;&#x5982;</strong>&#xFF1A;&#x5F88;&#x591A;&#x4E13;&#x95E8;&#x7684;&#x7535;&#x5F71;&#x5267;&#x672C;&#x7F51;&#x7AD9;&#xFF08;&#x4F8B;&#x5982; aintitcool, IMSDb - Internet Movie Screenplay Database&#xFF09;&#x4F1A;&#x6536;&#x96C6;&#x548C;&#x53D1;&#x5E03;&#x7531;&#x7231;&#x597D;&#x8005;&#x6574;&#x7406;&#x7684;&#x5267;&#x672C;&#x3002;&#x8FD9;&#x4E9B;&#x7F51;&#x7AD9;&#x4E0A;&#x7684;&#x6587;&#x672C;&#x5185;&#x5BB9;&#xFF0C;&#x5373;&#x4F7F;&#x662F;&#x975E;&#x5B98;&#x65B9;&#x7684;&#xFF0C;&#x4E5F;&#x6781;&#x6709;&#x53EF;&#x80FD;&#x88AB;&#x5305;&#x542B;&#x5728;LLM&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4E2D;&#x3002;</li>
</ul>
<h3 id="3-&#x5F71;&#x8BC4;&#x3001;&#x5206;&#x6790;&#x548C;&#x5267;&#x60C5;&#x6458;&#x8981;-Reviews-Analysis-and-Plot-Summaries"><a href="#3-&#x5F71;&#x8BC4;&#x3001;&#x5206;&#x6790;&#x548C;&#x5267;&#x60C5;&#x6458;&#x8981;-Reviews-Analysis-and-Plot-Summaries" class="headerlink" title="3. &#x5F71;&#x8BC4;&#x3001;&#x5206;&#x6790;&#x548C;&#x5267;&#x60C5;&#x6458;&#x8981; (Reviews, Analysis, and Plot Summaries)"></a>3. &#x5F71;&#x8BC4;&#x3001;&#x5206;&#x6790;&#x548C;&#x5267;&#x60C5;&#x6458;&#x8981; (Reviews, Analysis, and Plot Summaries)</h3><p>&#x8FD9;&#x662F;&#x4FE1;&#x606F;&#x91CF;&#x5DE8;&#x5927;&#x4E14;&#x6765;&#x6E90;&#x5E7F;&#x6CDB;&#x7684;&#x4E00;&#x7C7B;&#x6587;&#x672C;&#x3002;</p>
<ul>
<li><strong>&#x89E3;&#x91CA;</strong>&#xFF1A;&#x65E0;&#x6570;&#x7684;&#x5F71;&#x8BC4;&#x4EBA;&#x3001;&#x5B66;&#x8005;&#x3001;&#x535A;&#x4E3B;&#x548C;&#x666E;&#x901A;&#x89C2;&#x4F17;&#x4F1A;&#x64B0;&#x5199;&#x5173;&#x4E8E;&#x7535;&#x5F71;&#x7684;&#x6587;&#x7AE0;&#x3002;&#x5728;&#x8FD9;&#x4E9B;&#x6587;&#x7AE0;&#x4E2D;&#xFF0C;&#x4ED6;&#x4EEC;&#x4E3A;&#x4E86;&#x652F;&#x6301;&#x81EA;&#x5DF1;&#x7684;&#x89C2;&#x70B9;&#x6216;&#x8FDB;&#x884C;&#x60C5;&#x8282;&#x5206;&#x6790;&#xFF0C;&#x4F1A;&#x9891;&#x7E41;&#x5730;&#x5F15;&#x7528;&#x7535;&#x5F71;&#x4E2D;&#x7684;&#x5173;&#x952E;&#x53F0;&#x8BCD;&#x3002;</li>
<li><strong>&#x4F8B;&#x5982;</strong>&#xFF1A;&#x4E00;&#x7BC7;&#x6DF1;&#x5EA6;&#x5F71;&#x8BC4;&#x5728;&#x5206;&#x6790;&#x300A;&#x9ED1;&#x6697;&#x9A91;&#x58EB;&#x300B;&#x4E2D;&#x5E0C;&#x65AF;&#xB7;&#x83B1;&#x6770;&#x626E;&#x6F14;&#x7684;&#x5C0F;&#x4E11;&#x65F6;&#xFF0C;&#x51E0;&#x4E4E;&#x5FC5;&#x7136;&#x4F1A;&#x5F15;&#x7528;&#x4ED6;&#x7684;&#x7ECF;&#x5178;&#x53F0;&#x8BCD; &#x201C;Why so serious?&#x201D;&#x3002;&#x5F53;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x7BC7;&#x4E0D;&#x540C;&#x7684;&#x6587;&#x7AE0;&#x90FD;&#x5C06;&#x8FD9;&#x53E5;&#x53F0;&#x8BCD;&#x4E0E;&#x8FD9;&#x90E8;&#x7535;&#x5F71;&#x3001;&#x8FD9;&#x4E2A;&#x89D2;&#x8272;&#x5173;&#x8054;&#x8D77;&#x6765;&#x65F6;&#xFF0C;LLM&#x5C31;&#x4F1A;&#x5B66;&#x5230;&#x8FD9;&#x4E2A;&#x5F3A;&#x70C8;&#x7684;&#x8054;&#x7CFB;&#x3002;</li>
</ul>
<h3 id="4-&#x7C89;&#x4E1D;&#x793E;&#x7FA4;&#x548C;&#x8BBA;&#x575B;&#x8BA8;&#x8BBA;-Fan-Communities-and-Forums"><a href="#4-&#x7C89;&#x4E1D;&#x793E;&#x7FA4;&#x548C;&#x8BBA;&#x575B;&#x8BA8;&#x8BBA;-Fan-Communities-and-Forums" class="headerlink" title="4. &#x7C89;&#x4E1D;&#x793E;&#x7FA4;&#x548C;&#x8BBA;&#x575B;&#x8BA8;&#x8BBA; (Fan Communities and Forums)"></a>4. &#x7C89;&#x4E1D;&#x793E;&#x7FA4;&#x548C;&#x8BBA;&#x575B;&#x8BA8;&#x8BBA; (Fan Communities and Forums)</h3><p>&#x8FD9;&#x662F;&#x6700;&#x201C;&#x6D3B;&#x201D;&#x7684;&#x6570;&#x636E;&#x6765;&#x6E90;&#xFF0C;&#x53CD;&#x6620;&#x4E86;&#x53F0;&#x8BCD;&#x7684;&#x6587;&#x5316;&#x5F71;&#x54CD;&#x529B;&#x3002;</p>
<ul>
<li><strong>&#x89E3;&#x91CA;</strong>&#xFF1A;&#x5728;&#x4E92;&#x8054;&#x7F51;&#x7684;&#x5404;&#x4E2A;&#x89D2;&#x843D;&#xFF0C;&#x7C89;&#x4E1D;&#x4EEC;&#x4F1A;&#x70ED;&#x70C8;&#x5730;&#x8BA8;&#x8BBA;&#x4ED6;&#x4EEC;&#x559C;&#x7231;&#x7684;&#x7535;&#x5F71;&#x3002;&#x8FD9;&#x4E9B;&#x8BA8;&#x8BBA;&#x4E2D;&#x5145;&#x6EE1;&#x4E86;&#x5BF9;&#x5177;&#x4F53;&#x53F0;&#x8BCD;&#x7684;&#x5F15;&#x7528;&#x3001;&#x4E8C;&#x6B21;&#x521B;&#x4F5C;&#x548C;&#x89E3;&#x8BFB;&#x3002;</li>
<li><strong>&#x6BD4;&#x5982;</strong>&#xFF1A;&#x5728;Reddit&#x7684; <code>/r/movies</code> &#x677F;&#x5757;&#x3001;&#x77E5;&#x4E4E;&#x7684;&#x76F8;&#x5173;&#x95EE;&#x9898;&#x4E0B;&#x3001;&#x8C46;&#x74E3;&#x7684;&#x77ED;&#x8BC4;&#x548C;&#x957F;&#x8BC4;&#x533A;&#x3001;&#x6216;&#x8005;&#x4E13;&#x95E8;&#x7684;&#x5F71;&#x8FF7;&#x8BBA;&#x575B;&#x91CC;&#xFF0C;&#x7C89;&#x4E1D;&#x4EEC;&#x4F1A;&#x9010;&#x5B57;&#x9010;&#x53E5;&#x5730;&#x8BA8;&#x8BBA;&#x4ED6;&#x4EEC;&#x6700;&#x559C;&#x6B22;&#x7684;&#x53F0;&#x8BCD;&#xFF0C;&#x6216;&#x8005;&#x7528;&#x7535;&#x5F71;&#x53F0;&#x8BCD;&#x6765;&#x4E92;&#x76F8;&#x201C;&#x73A9;&#x6897;&#x201D;&#x3002;&#x8FD9;&#x4E9B;&#x6D77;&#x91CF;&#x7684;&#x3001;&#x81EA;&#x7136;&#x7684;&#x8BED;&#x8A00;&#x4EA4;&#x6D41;&#x90FD;&#x662F;LLM&#x7684;&#x98DF;&#x7CAE;&#x3002;</li>
</ul>
<h3 id="5-&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x548C;&#x7C89;&#x4E1D;&#x7EF4;&#x57FA;-Wikipedia-and-Fandom-Wikis"><a href="#5-&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x548C;&#x7C89;&#x4E1D;&#x7EF4;&#x57FA;-Wikipedia-and-Fandom-Wikis" class="headerlink" title="5. &#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x548C;&#x7C89;&#x4E1D;&#x7EF4;&#x57FA; (Wikipedia and Fandom Wikis)"></a>5. &#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x548C;&#x7C89;&#x4E1D;&#x7EF4;&#x57FA; (Wikipedia and Fandom Wikis)</h3><p>&#x8FD9;&#x7C7B;&#x7F51;&#x7AD9;&#x63D0;&#x4F9B;&#x4E86;&#x7ED3;&#x6784;&#x5316;&#x7684;&#x3001;&#x5173;&#x4E8E;&#x7535;&#x5F71;&#x7684;&#x77E5;&#x8BC6;&#x3002;</p>
<ul>
<li><strong>&#x89E3;&#x91CA;</strong>&#xFF1A;&#x4E13;&#x95E8;&#x7684;&#x77E5;&#x8BC6;&#x5E93;&#x7F51;&#x7AD9;&#x4F1A;&#x7CFB;&#x7EDF;&#x6027;&#x5730;&#x6574;&#x7406;&#x5173;&#x4E8E;&#x4E00;&#x90E8;&#x7535;&#x5F71;&#x7684;&#x6240;&#x6709;&#x4FE1;&#x606F;&#x3002;</li>
<li><strong>&#x6BD4;&#x5982;</strong>&#xFF1A;&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#xFF08;Wikipedia&#xFF09;&#x4E0A;&#x4E00;&#x90E8;&#x70ED;&#x95E8;&#x7535;&#x5F71;&#x7684;&#x6761;&#x76EE;&#xFF0C;&#x901A;&#x5E38;&#x4F1A;&#x6709;&#x975E;&#x5E38;&#x8BE6;&#x7EC6;&#x7684;&#x201C;&#x5267;&#x60C5;&#x201D;&#xFF08;Plot&#xFF09;&#x4ECB;&#x7ECD;&#x3002;&#x800C;&#x66F4;&#x4E13;&#x4E1A;&#x7684;&#x7C89;&#x4E1D;&#x7EF4;&#x57FA;&#xFF08;Fandom Wiki&#xFF09;&#xFF0C;&#x4F8B;&#x5982;&#x300A;&#x661F;&#x7403;&#x5927;&#x6218;&#x300B;&#x7684;&#x201C;&#x4F0D;&#x57FA;&#x767E;&#x79D1;&#x201D;&#xFF08;Wookieepedia&#xFF09;&#xFF0C;&#x66F4;&#x662F;&#x4F1A;&#x7EC6;&#x81F4;&#x5230;&#x8BB0;&#x5F55;&#x6BCF;&#x4E00;&#x4E2A;&#x89D2;&#x8272;&#x7684;&#x51E0;&#x4E4E;&#x6BCF;&#x4E00;&#x53E5;&#x91CD;&#x8981;&#x53F0;&#x8BCD;&#xFF0C;&#x4EE5;&#x53CA;&#x53F0;&#x8BCD;&#x51FA;&#x73B0;&#x7684;&#x573A;&#x666F;&#x548C;&#x80CC;&#x666F;&#x3002;</li>
</ul>
<h2 id="&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F9D;&#x8D56;&#x8FD9;&#x4E48;&#x591A;&#x95F4;&#x63A5;&#x6765;&#x6E90;&#xFF1F;"><a href="#&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F9D;&#x8D56;&#x8FD9;&#x4E48;&#x591A;&#x95F4;&#x63A5;&#x6765;&#x6E90;&#xFF1F;" class="headerlink" title="&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F9D;&#x8D56;&#x8FD9;&#x4E48;&#x591A;&#x95F4;&#x63A5;&#x6765;&#x6E90;&#xFF1F;"></a>&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F9D;&#x8D56;&#x8FD9;&#x4E48;&#x591A;&#x95F4;&#x63A5;&#x6765;&#x6E90;&#xFF1F;</h2><p>&#x8FD9;&#x80CC;&#x540E;&#x662F;&#x7EDF;&#x8BA1;&#x5B66;&#x4E60;&#x7684;&#x5F3A;&#x5927;&#x529B;&#x91CF;&#x3002;LLM&#x5E76;&#x4E0D;&#x662F;&#x771F;&#x7684;&#x201C;&#x7406;&#x89E3;&#x201D;&#x4E86;&#x8FD9;&#x53E5;&#x53F0;&#x8BCD;&#x7684;&#x542B;&#x4E49;&#xFF0C;&#x800C;&#x662F;&#x901A;&#x8FC7;&#x5728;&#x6570;&#x4E07;&#x4EBF;&#x8BCD;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4E2D;&#x8FDB;&#x884C;&#x7EDF;&#x8BA1;&#x5206;&#x6790;&#xFF0C;&#x53D1;&#x73B0;&#x201C;&#x8FD9;&#x90E8;&#x7535;&#x5F71;&#x7684;&#x540D;&#x5B57;&#x201D;&#x3001;&#x201C;&#x67D0;&#x4E2A;&#x89D2;&#x8272;&#x7684;&#x540D;&#x5B57;&#x201D;&#x548C;&#x201C;&#x8FD9;&#x53E5;&#x7279;&#x5B9A;&#x7684;&#x53F0;&#x8BCD;&#x201D;&#x8FD9;&#x4E09;&#x8005;&#x5728;&#x6587;&#x672C;&#x4E2D;&#x540C;&#x65F6;&#x51FA;&#x73B0;&#x7684;&#x6982;&#x7387;&#x6781;&#x9AD8;&#x3002;</p>
<ul>
<li><p><strong>&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F9D;&#x8D56;&#x95F4;&#x63A5;&#x6765;&#x6E90;&#xFF1F;</strong> &#x56E0;&#x4E3A;&#x8FD9;&#x662F;&#x76EE;&#x524D;&#x7EAF;&#x6587;&#x672C;&#x6A21;&#x578B;&#x83B7;&#x53D6;&#x975E;&#x6587;&#x672C;&#x4E16;&#x754C;&#xFF08;&#x5982;&#x7535;&#x5F71;&#x3001;&#x97F3;&#x4E50;&#x3001;&#x56FE;&#x50CF;&#xFF09;&#x4FE1;&#x606F;&#x7684;&#x552F;&#x4E00;&#x9014;&#x5F84;&#x3002;&#x5B83;&#x65E0;&#x6CD5;&#x76F4;&#x63A5;&#x611F;&#x77E5;&#xFF0C;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x9605;&#x8BFB;&#x4EBA;&#x7C7B;&#x5BF9;&#x8FD9;&#x4E9B;&#x4E8B;&#x7269;&#x7684;&#x63CF;&#x8FF0;&#x548C;&#x8BB0;&#x5F55;&#x6765;&#x5B66;&#x4E60;&#x3002;</p>
</li>
<li><p>&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x76F4;&#x63A5;&#x201C;&#x770B;&#x201D;&#x7535;&#x5F71;&#xFF1F;</p>
<p> &#x8FD9;&#x5C31;&#x5F15;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x66F4;&#x524D;&#x6CBF;&#x7684;&#x6982;&#x5FF5;&#x2014;&#x2014;</p>
<p>&#x591A;&#x6A21;&#x6001;&#x6A21;&#x578B; (Multimodal Models)</p>
<p>&#x3002;</p>
<ul>
<li><strong>&#x89E3;&#x91CA;</strong>&#xFF1A;&#x591A;&#x6A21;&#x6001;&#x6A21;&#x578B;&#x662F;&#x6307;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x7406;&#x89E3;&#x548C;&#x5904;&#x7406;&#x591A;&#x79CD;&#x4FE1;&#x606F;&#x7C7B;&#x578B;&#xFF08;&#x6A21;&#x6001;&#xFF09;&#x7684;&#x6A21;&#x578B;&#xFF0C;&#x4F8B;&#x5982;&#x540C;&#x65F6;&#x5904;&#x7406;&#x6587;&#x672C;&#x3001;&#x56FE;&#x50CF;&#x3001;&#x97F3;&#x9891;&#x548C;&#x89C6;&#x9891;&#x3002;</li>
<li><strong>&#x6BD4;&#x5982;</strong>&#xFF1A;&#x50CF;Google&#x7684;Gemini&#x7CFB;&#x5217;&#x7684;&#x4E00;&#x4E9B;&#x7248;&#x672C;&#xFF0C;&#x5C31;&#x5DF2;&#x7ECF;&#x5177;&#x5907;&#x4E86;&#x521D;&#x6B65;&#x7684;&#x591A;&#x6A21;&#x6001;&#x80FD;&#x529B;&#x3002;&#x7406;&#x8BBA;&#x4E0A;&#xFF0C;&#x4E00;&#x4E2A;&#x8DB3;&#x591F;&#x5148;&#x8FDB;&#x7684;&#x591A;&#x6A21;&#x6001;&#x6A21;&#x578B;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x201C;&#x89C2;&#x770B;&#x201D;&#x4E00;&#x90E8;&#x7535;&#x5F71;&#x7684;&#x89C6;&#x9891;&#x548C;&#x97F3;&#x9891;&#x6D41;&#xFF0C;&#x5E76;&#x4ECE;&#x4E2D;&#x76F4;&#x63A5;&#x63D0;&#x53D6;&#x53F0;&#x8BCD;&#x3001;&#x8BC6;&#x522B;&#x573A;&#x666F;&#x3001;&#x7406;&#x89E3;&#x60C5;&#x8282;&#x3002;&#x8FD9;&#x5C06;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x4F9D;&#x8D56;&#x95F4;&#x63A5;&#x7684;&#x6587;&#x672C;&#x63CF;&#x8FF0;&#x3002;</li>
</ul>
</li>
</ul>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>&#x6240;&#x4EE5;&#xFF0C;&#x95EE;&#x9898;&#x7684;&#x7B54;&#x6848;&#x53EF;&#x4EE5;&#x6982;&#x62EC;&#x4E3A;&#xFF1A;&#x5BF9;&#x4E8E;&#x76EE;&#x524D;&#x4E3B;&#x6D41;&#x7684;&#x3001;&#x4EE5;&#x6587;&#x672C;&#x4E3A;&#x57FA;&#x7840;&#x7684;LLM&#x6765;&#x8BF4;&#xFF0C;&#x5B83;&#x4EEC;&#x662F;&#x901A;&#x8FC7;&#x6D88;&#x5316;&#x4E92;&#x8054;&#x7F51;&#x4E0A;&#x7531;&#x4EBA;&#x7C7B;&#x4EA7;&#x751F;&#x7684;&#x3001;&#x6D77;&#x91CF;&#x7684;&#x3001;&#x5173;&#x4E8E;&#x7535;&#x5F71;&#x7684;&#x95F4;&#x63A5;&#x6587;&#x672C;&#x4FE1;&#x606F;&#xFF08;&#x5B57;&#x5E55;&#x3001;&#x5267;&#x672C;&#x3001;&#x8BC4;&#x8BBA;&#x3001;&#x8BA8;&#x8BBA;&#x3001;&#x7EF4;&#x57FA;&#xFF09;&#x6765;&#x201C;&#x77E5;&#x9053;&#x201D;&#x7535;&#x5F71;&#x91CC;&#x7684;&#x53F0;&#x8BCD;&#x7684;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x57FA;&#x4E8E;&#x7EDF;&#x8BA1;&#x5173;&#x8054;&#x7684;&#x5B66;&#x4E60;&#xFF0C;&#x800C;&#x975E;&#x57FA;&#x4E8E;&#x76F4;&#x63A5;&#x611F;&#x77E5;&#x7684;&#x7406;&#x89E3;&#x3002;&#x800C;&#x672A;&#x6765;&#x7684;&#x591A;&#x6A21;&#x6001;&#x6A21;&#x578B;&#x5C06;&#x4F1A;&#x6539;&#x53D8;&#x8FD9;&#x4E00;&#x73B0;&#x72B6;&#x3002;</p>
]]></content>
      <tags>
        <tag>AI</tag>
        <tag>LLM</tag>
        <tag>Fun Info</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2025/07/27/%E8%AF%BB%E8%AE%BA%E6%96%87%EF%BC%9Amono/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="&#x8FD9;&#x4E2A;&#x8BBA;&#x6587;&#x7684;&#x6838;&#x5FC3;&#x6982;&#x5FF5;"><a href="#&#x8FD9;&#x4E2A;&#x8BBA;&#x6587;&#x7684;&#x6838;&#x5FC3;&#x6982;&#x5FF5;" class="headerlink" title="&#x8FD9;&#x4E2A;&#x8BBA;&#x6587;&#x7684;&#x6838;&#x5FC3;&#x6982;&#x5FF5;"></a>&#x8FD9;&#x4E2A;&#x8BBA;&#x6587;&#x7684;&#x6838;&#x5FC3;&#x6982;&#x5FF5;</h1><p>&#x8FD9;&#x7BC7;&#x8BBA;&#x6587;&#x7684;&#x6838;&#x5FC3;&#x76EE;&#x6807;&#x662F;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x66F4;&#x9AD8;&#x8D28;&#x91CF;&#x3001;&#x66F4;&#x201C;&#x5E72;&#x51C0;&#x201D;&#x7684;&#x8F6F;&#x4EF6;&#x6F0F;&#x6D1E;&#x6570;&#x636E;&#x96C6;&#xFF0C;</p>
<p>MONO (Multi-agent Operated Noise Outfilter) &#x7684;&#x6838;&#x5FC3;&#x6982;&#x5FF5;&#x662F;&#xFF1A;</p>
<p><strong>&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x6A21;&#x62DF;&#x4EBA;&#x7C7B;&#x5B89;&#x5168;&#x4E13;&#x5BB6;&#x5206;&#x6790;&#x6F0F;&#x6D1E;&#x8FC7;&#x7A0B;&#x7684;&#x3001;&#x7531;&#x5927;&#x578B;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#xFF08;LLM&#xFF09;&#x9A71;&#x52A8;&#x7684;&#x591A;&#x667A;&#x80FD;&#x4F53;&#xFF08;Multi-agent&#xFF09;&#x6846;&#x67B6;&#xFF0C;&#x6765;&#x7CFB;&#x7EDF;&#x6027;&#x5730;&#x8BC6;&#x522B;&#x5E76;&#x8FC7;&#x6EE4;&#x6389;&#x4E0A;&#x8FF0;&#x4E09;&#x7C7B;&#x566A;&#x97F3;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x201C;&#x4E0D;&#x53EF;&#x5224;&#x5B9A;&#x8865;&#x4E01;&#x201D;&#xFF0C;&#x4ECE;&#x800C;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x9AD8;&#x8D28;&#x91CF;&#x7684;&#x6F0F;&#x6D1E;&#x6570;&#x636E;&#x96C6;</strong> </p>
<p>&#x5B83;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x60F3;&#x53EF;&#x4EE5;&#x5206;&#x89E3;&#x4E3A;&#x4E09;&#x4E2A;&#x5173;&#x952E;&#x521B;&#x65B0;&#x70B9; &#xFF1A;</p>
<p>1. </p>
<p>   <strong>&#x8BED;&#x4E49;&#x611F;&#x77E5;&#x7684;&#x8865;&#x4E01;&#x5206;&#x7C7B; (Semantic-Aware Patch Classification)</strong> </p>
<ul>
<li>&#x5B83;&#x4E0D;&#x4F9D;&#x8D56;&#x7B80;&#x5355;&#x7684;&#x5173;&#x952E;&#x8BCD;&#xFF0C;&#x800C;&#x662F;&#x5229;&#x7528;LLM&#x5F3A;&#x5927;&#x7684;&#x4EE3;&#x7801;&#x548C;&#x81EA;&#x7136;&#x8BED;&#x8A00;&#x7406;&#x89E3;&#x80FD;&#x529B;&#xFF0C;&#x53BB;&#x7EFC;&#x5408;&#x5206;&#x6790;&#x8865;&#x4E01;&#x7684;&#x4EE3;&#x7801;&#x5DEE;&#x5F02;&#xFF08;diff&#xFF09;&#x3001;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#xFF08;commit message&#xFF09;&#x4E43;&#x81F3;Pull Request&#x4E2D;&#x7684;&#x8BA8;&#x8BBA;&#x5185;&#x5BB9; &#xFF0C;&#x4ECE;&#x800C;&#x6DF1;&#x523B;&#x7406;&#x89E3;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x771F;&#x5B9E;&#x610F;&#x56FE;&#xFF0C;&#x5224;&#x65AD;&#x8FD9;&#x5230;&#x5E95;&#x662F;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5B89;&#x5168;&#x4FEE;&#x590D; &#x3002;</li>
</ul>
<p>2. </p>
<p>   <strong>&#x8FED;&#x4EE3;&#x5F0F;&#x7684;&#x591A;&#x667A;&#x80FD;&#x4F53;&#x4E0A;&#x4E0B;&#x6587;&#x5206;&#x6790; (Iterative Multi-Agent Contextual Analysis)</strong> </p>
<ul>
<li><p>&#x5B83;&#x8BBE;&#x8BA1;&#x4E86;&#x4E24;&#x4E2A;AI&#x667A;&#x80FD;&#x4F53;&#xFF08;Agent&#xFF09;&#x534F;&#x540C;&#x5DE5;&#x4F5C;&#xFF0C;&#x6A21;&#x4EFF;&#x4E13;&#x5BB6;&#x5206;&#x6790;&#x590D;&#x6742;&#x95EE;&#x9898;&#x7684;&#x8FC7;&#x7A0B;&#x3002;</p>
<p><strong>&#x4F8B;&#x5982;</strong>&#xFF0C;&#x4E00;&#x4E2A;<strong>&#x5206;&#x6790;&#x667A;&#x80FD;&#x4F53;(AnalysisAgent)</strong> &#x8D1F;&#x8D23;&#x4E3B;&#x5BFC;&#x5206;&#x6790;&#xFF0C;&#x5F53;&#x5B83;&#x53D1;&#x73B0;&#x9700;&#x8981;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF08;&#x6BD4;&#x5982;&#x60F3;&#x77E5;&#x9053;&#x67D0;&#x4E2A;&#x51FD;&#x6570;&#x662F;&#x5728;&#x54EA;&#x91CC;&#x88AB;&#x8C03;&#x7528;&#x7684;&#xFF09;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x5411;&#x4E00;&#x4E2A;<strong>&#x4E0A;&#x4E0B;&#x6587;&#x667A;&#x80FD;&#x4F53;(ContextAgent)</strong> &#x53D1;&#x51FA;&#x8BF7;&#x6C42;&#x3002;&#x540E;&#x8005;&#x8D1F;&#x8D23;&#x53BB;&#x4EE3;&#x7801;&#x4ED3;&#x5E93;&#x4E2D;&#x67E5;&#x8BE2;&#x4FE1;&#x606F;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x8005;&#x3002;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4F1A;<strong>&#x8FED;&#x4EE3;</strong>&#x8FDB;&#x884C;&#xFF0C;&#x76F4;&#x5230;&#x6F0F;&#x6D1E;&#x7684;&#x5B8C;&#x6574;&#x8C03;&#x7528;&#x94FE;&#x548C;&#x6839;&#x672C;&#x539F;&#x56E0;&#x88AB;&#x627E;&#x5230;&#x4E3A;&#x6B62; &#x3002;</p>
</li>
</ul>
<p>3. </p>
<p>   <strong>&#x6F0F;&#x6D1E;&#x6839;&#x56E0;&#x5206;&#x6790;&#x4E0E;&#x4E0D;&#x53EF;&#x5224;&#x5B9A;&#x8865;&#x4E01;&#x8FC7;&#x6EE4; (Vulnerability Root Cause Analysis and Undecidable Patch Filtering)</strong> </p>
<ul>
<li><p>&#x901A;&#x8FC7;&#x4E0A;&#x8FF0;&#x7684;&#x8FED;&#x4EE3;&#x5206;&#x6790;&#xFF0C;MONO&#x7684;&#x76EE;&#x6807;&#x662F;&#x627E;&#x5230;&#x6F0F;&#x6D1E;&#x7684;<strong>&#x6839;&#x6E90;&#xFF08;root cause&#xFF09;</strong> &#x3002;</p>
</li>
<li><p>&#x5982;&#x679C;&#x5728;&#x8BBE;&#x5B9A;&#x7684;&#x8FED;&#x4EE3;&#x6B21;&#x6570;&#x5185;&#xFF0C;&#x667A;&#x80FD;&#x4F53;&#x4F9D;&#x7136;&#x65E0;&#x6CD5;&#x4ECE;&#x9759;&#x6001;&#x4EE3;&#x7801;&#x4E2D;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x3001;&#x6709;&#x8BF4;&#x670D;&#x529B;&#x7684;&#x8BC1;&#x636E;&#x94FE;&#x6765;&#x89E3;&#x91CA;&#x6F0F;&#x6D1E;&#x4E3A;&#x4F55;&#x53D1;&#x751F;&#xFF0C;MONO&#x5C31;&#x4F1A;&#x5224;&#x5B9A;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;</p>
<p><strong>&#x4E0D;&#x53EF;&#x5224;&#x5B9A;&#x8865;&#x4E01;</strong>&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x4ECE;&#x6570;&#x636E;&#x96C6;&#x4E2D;&#x8FC7;&#x6EE4;&#x51FA;&#x53BB; &#x3002;</p>
</li>
</ul>
<h1 id="&#x4ED6;&#x60F3;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x4E3A;&#x4EC0;&#x4E48;&#x662F;&#x4E00;&#x4E2A;&#x95EE;&#x9898;"><a href="#&#x4ED6;&#x60F3;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x4E3A;&#x4EC0;&#x4E48;&#x662F;&#x4E00;&#x4E2A;&#x95EE;&#x9898;" class="headerlink" title="&#x4ED6;&#x60F3;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x4E3A;&#x4EC0;&#x4E48;&#x662F;&#x4E00;&#x4E2A;&#x95EE;&#x9898;"></a>&#x4ED6;&#x60F3;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x4E3A;&#x4EC0;&#x4E48;&#x662F;&#x4E00;&#x4E2A;&#x95EE;&#x9898;</h1><p>&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x8981;&#x7406;&#x89E3;&#x4E00;&#x4E2A;&#x5927;&#x80CC;&#x666F;&#xFF1A;&#x73B0;&#x5728;&#x4E1A;&#x754C;&#x548C;&#x5B66;&#x754C;&#x90FD;&#x5728;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#xFF08;Deep Learning&#xFF09;&#x548C;&#x5927;&#x578B;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#xFF08;Large Language Models, LLM&#xFF09;&#x6765;&#x81EA;&#x52A8;&#x68C0;&#x6D4B;&#x4EE3;&#x7801;&#x4E2D;&#x7684;&#x5B89;&#x5168;&#x6F0F;&#x6D1E;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x8BAD;&#x7EC3;&#x4E00;&#x4E2A;AI&#x6A21;&#x578B;&#xFF0C;&#x8BA9;&#x5B83;&#x8BFB;&#x5B8C;&#x4EE3;&#x7801;&#x540E;&#x544A;&#x8BC9;&#x4F60;&#xFF1A;&#x201C;&#x7B2C;50&#x884C;&#x8FD9;&#x91CC;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x7F13;&#x51B2;&#x533A;&#x6EA2;&#x51FA;&#x6F0F;&#x6D1E;&#x201D;&#x3002;</p>
<p>&#x8981;&#x8BAD;&#x7EC3;&#x51FA;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x806A;&#x660E;&#x7684;AI&#xFF0C;&#x5C31;&#x5FC5;&#x987B;&#x7ED9;&#x5B83;&#x6295;&#x5582;&#x5927;&#x91CF;&#x7684;&#x201C;&#x5B66;&#x4E60;&#x6750;&#x6599;&#x201D;&#xFF0C;&#x8FD9;&#x4E9B;&#x6750;&#x6599;&#x5C31;&#x662F;<strong>&#x6F0F;&#x6D1E;&#x6570;&#x636E;&#x96C6;&#xFF08;vulnerability dataset&#xFF09;</strong>&#x3002;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x96C6;&#x901A;&#x5E38;&#x5305;&#x542B;&#x4E24;&#x90E8;&#x5206;&#xFF1A;&#x4E00;&#x6BB5;&#x6709;&#x6F0F;&#x6D1E;&#x7684;&#x4EE3;&#x7801;&#xFF08;pre-patch&#xFF0C;&#x4FEE;&#x590D;&#x524D;&#xFF09;&#x548C;&#x4E00;&#x6BB5;&#x4FEE;&#x590D;&#x4E86;&#x8BE5;&#x6F0F;&#x6D1E;&#x7684;&#x4EE3;&#x7801;&#xFF08;post-patch&#xFF0C;&#x4FEE;&#x590D;&#x540E;&#xFF09;&#x3002;</p>
<p>&#x95EE;&#x9898;&#x5C31;&#x51FA;&#x5728;&#x8FD9;&#x4E9B;&#x201C;&#x5B66;&#x4E60;&#x6750;&#x6599;&#x201D;&#x7684;&#x8D28;&#x91CF;&#x4E0A;&#x3002;&#x8BBA;&#x6587;&#x6307;&#x51FA;&#xFF0C;&#x73B0;&#x6709;&#x7684;&#x6F0F;&#x6D1E;&#x6570;&#x636E;&#x96C6;&#x666E;&#x904D;&#x5B58;&#x5728;&#x4E25;&#x91CD;&#x7684;<strong>&#x201C;&#x566A;&#x97F3;&#x201D;&#xFF08;noise&#xFF09;</strong>&#x95EE;&#x9898;&#x3002;&#x5982;&#x679C;&#x7ED9;AI&#x5B66;&#x4E60;&#x7684;&#x6750;&#x6599;&#x662F;&#x9519;&#x8BEF;&#x7684;&#x3001;&#x6709;&#x8BEF;&#x5BFC;&#x6027;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x8BAD;&#x7EC3;&#x51FA;&#x6765;&#x7684;AI&#x81EA;&#x7136;&#x4E5F;&#x5C31;&#x4E0D;&#x9760;&#x8C31;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x6240;&#x8C13;&#x7684;&#x201C;Garbage in, garbage out&#x201D;&#xFF08;&#x5783;&#x573E;&#x8FDB;&#xFF0C;&#x5783;&#x573E;&#x51FA;&#xFF09;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x201C;&#x566A;&#x97F3;&#x201D;&#x95EE;&#x9898;&#x5177;&#x4F53;&#x4F53;&#x73B0;&#x5728;&#x4E09;&#x4E2A;&#x65B9;&#x9762;&#xFF1A;</p>
<ol>
<li><p><strong>&#x8BED;&#x4E49;&#x9519;&#x8BEF;&#x6807;&#x7B7E; (Semantic Mislabeling)</strong></p>
<ul>
<li><strong>&#x89E3;&#x91CA;</strong>&#xFF1A;&#x6307;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x660E;&#x660E;&#x4E0D;&#x662F;&#x4E3A;&#x4E86;&#x4FEE;&#x590D;&#x5B89;&#x5168;&#x6F0F;&#x6D1E;&#x7684;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#xFF0C;&#x5374;&#x88AB;&#x9519;&#x8BEF;&#x5730;&#x6253;&#x4E0A;&#x4E86;&#x201C;&#x5B89;&#x5168;&#x8865;&#x4E01;&#x201D;&#x7684;&#x6807;&#x7B7E;&#x3002;</li>
<li><strong>&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x662F;&#x4E2A;&#x95EE;&#x9898;&#xFF1F;</strong>&#xFF1A;AI&#x6A21;&#x578B;&#x4F1A;&#x56E0;&#x6B64;&#x5B66;&#x5230;&#x9519;&#x8BEF;&#x7684;&#x77E5;&#x8BC6;&#x3002;</li>
<li><strong>&#x4F8B;&#x5982;</strong>&#xFF0C;&#x4E00;&#x4E2A;&#x5F00;&#x53D1;&#x8005;&#x63D0;&#x4EA4;&#x4E86;&#x4E00;&#x6BB5;&#x4EE3;&#x7801;&#xFF0C;&#x76EE;&#x7684;&#x662F;&#x4F18;&#x5316;&#x67D0;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8BA1;&#x7B97;&#x6548;&#x7387;&#xFF0C;&#x6216;&#x8005;&#x53EA;&#x662F;&#x4FEE;&#x6539;&#x4E86;&#x6CE8;&#x91CA;&#x3001;&#x8C03;&#x6574;&#x4E86;&#x4EE3;&#x7801;&#x683C;&#x5F0F;&#x3002;&#x4F46;&#x56E0;&#x4E3A;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x91CC;&#x53EF;&#x80FD;&#x6070;&#x597D;&#x5305;&#x542B;&#x4E86;&#x201C;fix&#x201D;&#x3001;&#x201C;issue&#x201D;&#x7B49;&#x6A21;&#x7CCA;&#x7684;&#x8BCD;&#xFF0C;&#x6216;&#x8005;&#x88AB;&#x67D0;&#x4E9B;&#x81EA;&#x52A8;&#x5316;&#x811A;&#x672C;&#x9519;&#x8BEF;&#x5730;&#x5173;&#x8054;&#x5230;&#x4E86;&#x4E00;&#x4E2A;CVE&#xFF08;&#x901A;&#x7528;&#x6F0F;&#x6D1E;&#x62AB;&#x9732;&#xFF09;&#x7F16;&#x53F7;&#xFF0C;&#x5B83;&#x5C31;&#x88AB;&#x6536;&#x5F55;&#x5230;&#x4E86;&#x6F0F;&#x6D1E;&#x6570;&#x636E;&#x96C6;&#x4E2D;&#x3002;AI&#x5B66;&#x4E60;&#x4E86;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x540E;&#xFF0C;&#x4E0B;&#x6B21;&#x770B;&#x5230;&#x7C7B;&#x4F3C;&#x7684;&#x4EE3;&#x7801;&#x6027;&#x80FD;&#x4F18;&#x5316;&#xFF0C;&#x5C31;&#x53EF;&#x80FD;&#x8BEF;&#x62A5;&#x4E3A;&#x4E00;&#x4E2A;&#x5B89;&#x5168;&#x6F0F;&#x6D1E;&#x3002;</li>
</ul>
</li>
<li><p><strong>&#x8FC7;&#x7A0B;&#x95F4;&#x6A21;&#x7CCA;&#x6027; (Inter-procedure Ambiguity)</strong></p>
<ul>
<li><strong>&#x89E3;&#x91CA;</strong>&#xFF1A;&#x6307;&#x7684;&#x662F;&#x5F88;&#x591A;&#x6F0F;&#x6D1E;&#x7684;&#x4EA7;&#x751F;&#x4E0D;&#x662F;&#x56E0;&#x4E3A;&#x5355;&#x4E2A;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x903B;&#x8F91;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x800C;&#x662F;&#x56E0;&#x4E3A;&#x591A;&#x4E2A;&#x51FD;&#x6570;&#x4E4B;&#x95F4;&#x7684;<strong>&#x8C03;&#x7528;&#x548C;&#x4EA4;&#x4E92;</strong>&#x51FA;&#x4E86;&#x95EE;&#x9898;&#x3002;&#x201C;&#x8FC7;&#x7A0B;&#xFF08;procedure&#xFF09;&#x201D;&#x5728;&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x6307;&#x51FD;&#x6570;&#xFF08;function&#xFF09;&#x3002;</li>
<li><strong>&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x662F;&#x4E2A;&#x95EE;&#x9898;&#xFF1F;</strong>&#xFF1A;&#x5927;&#x591A;&#x6570;&#x6570;&#x636E;&#x96C6;&#x4E3A;&#x4E86;&#x7B80;&#x5316;&#xFF0C;&#x53EA;&#x63D0;&#x4F9B;&#x4E86;&#x5355;&#x4E2A;&#x88AB;&#x4FEE;&#x6539;&#x7684;&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x6837;&#x672C;&#xFF0C;&#x4E22;&#x5931;&#x4E86;&#x51FD;&#x6570;&#x5916;&#x90E8;&#x7684;&#x3001;&#x81F3;&#x5173;&#x91CD;&#x8981;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4FE1;&#x606F;&#x3002;</li>
<li><strong>&#x4F8B;&#x5982;</strong>&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x51FD;&#x6570; <code>process_input(char* data)</code>&#xFF0C;&#x5B83;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x51FD;&#x6570;&#x672C;&#x8EAB;&#x7684;&#x4EE3;&#x7801;&#x903B;&#x8F91;&#x53EF;&#x80FD;&#x5B8C;&#x5168;&#x6B63;&#x786E;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x8C03;&#x7528;&#x5B83;&#x7684;&#x4E0A;&#x5C42;&#x51FD;&#x6570; <code>caller()</code> &#x5728;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x4F20;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x672A;&#x7ECF;&#x68C0;&#x67E5;&#x3001;&#x957F;&#x5EA6;&#x8FC7;&#x957F;&#x7684;&#x7528;&#x6237;&#x8F93;&#x5165;&#x3002;&#x8FD9;&#x5BFC;&#x81F4;&#x5728; <code>process_input</code> &#x51FD;&#x6570;&#x5185;&#x90E8;&#x53D1;&#x751F;&#x4E86;&#x7F13;&#x51B2;&#x533A;&#x6EA2;&#x51FA;&#x3002;&#x5982;&#x679C;&#x6570;&#x636E;&#x96C6;&#x4E2D;&#x53EA;&#x5305;&#x542B; <code>process_input</code> &#x51FD;&#x6570;&#x7684;&#x4EE3;&#x7801;&#xFF0C;AI&#x5C31;&#x65E0;&#x6CD5;&#x7406;&#x89E3;&#x6F0F;&#x6D1E;&#x7684;&#x6839;&#x6E90;&#x5728;&#x4E8E;&#x8C03;&#x7528;&#x8005;&#xFF0C;&#x5B83;&#x5B66;&#x4E0D;&#x5230;&#x8FD9;&#x79CD;&#x7531;&#x51FD;&#x6570;&#x95F4;&#x4EA4;&#x4E92;&#x5F15;&#x53D1;&#x7684;&#x6F0F;&#x6D1E;&#x6A21;&#x5F0F;&#x3002;</li>
</ul>
</li>
<li><p><strong>&#x4E0D;&#x53EF;&#x5224;&#x5B9A;&#x8865;&#x4E01; (Undecidable Patches)</strong></p>
<ul>
<li><p><strong>&#x89E3;&#x91CA;</strong>&#xFF1A;&#x8FD9;&#x662F;&#x8FD9;&#x7BC7;&#x8BBA;&#x6587;<strong>&#x63D0;&#x51FA;&#x5E76;&#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x4E2A;&#x65B0;&#x6982;&#x5FF5;</strong>&#xFF0C;&#x4E5F;&#x662F;&#x4ED6;&#x4EEC;&#x5173;&#x6CE8;&#x7684;&#x91CD;&#x70B9;&#x3002;&#x5B83;&#x6307;&#x7684;&#x662F;&#x90A3;&#x4E9B;&#x4FEE;&#x590D;&#x4E86;<strong>&#x771F;&#x5B9E;</strong>&#x6F0F;&#x6D1E;&#x7684;&#x8865;&#x4E01;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x6F0F;&#x6D1E;&#x672C;&#x8EAB;&#x975E;&#x5E38;&#x9690;&#x6666;&#x3001;&#x5FAE;&#x5999;&#xFF0C;&#x4EE5;&#x81F3;&#x4E8E;&#x4EC5;&#x901A;&#x8FC7;<strong>&#x9759;&#x6001;&#x5206;&#x6790;&#xFF08;static analysis&#xFF09;</strong> &#x7684;&#x624B;&#x6BB5;&#xFF08;&#x5373;&#x4E0D;&#x8FD0;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x53EA;&#x5206;&#x6790;&#x6E90;&#x4EE3;&#x7801;&#xFF09;&#x51E0;&#x4E4E;&#x4E0D;&#x53EF;&#x80FD;&#x5728;&#x4FEE;&#x590D;&#x524D;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#x53D1;&#x73B0;&#x5B83;&#x5B58;&#x5728;&#x7684;&#x660E;&#x786E;&#x8BC1;&#x636E;&#x3002;&#x901A;&#x5E38;&#x662F;&#x5F00;&#x53D1;&#x8005;&#x5728;&#x770B;&#x5230;&#x4FEE;&#x590D;&#x65B9;&#x6848;&#x540E;&#xFF0C;&#x624D;&#x604D;&#x7136;&#x5927;&#x609F;&#x201C;&#x54E6;&#xFF0C;&#x539F;&#x6765;&#x8FD9;&#x91CC;&#x6709;&#x95EE;&#x9898;&#x201D;&#x3002;</p>
</li>
<li><p><strong>&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x662F;&#x4E2A;&#x95EE;&#x9898;&#xFF1F;</strong>&#xFF1A;&#x5F3A;&#x884C;&#x8BA9;AI&#x5B66;&#x4E60;&#x8FD9;&#x4E9B;&#x201C;&#x6CA1;&#x6709;&#x660E;&#x663E;&#x9759;&#x6001;&#x7279;&#x5F81;&#x201D;&#x7684;&#x6F0F;&#x6D1E;&#xFF0C;&#x4F1A;&#x8D77;&#x5230;&#x53CD;&#x6548;&#x679C;&#x3002;AI&#x4E3A;&#x4E86;&#x5728;&#x8FD9;&#x4E9B;&#x6837;&#x672C;&#x4E0A;&#x201C;&#x5B66;&#x5230;&#x4E1C;&#x897F;&#x201D;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x53BB;&#x5173;&#x6CE8;&#x4E00;&#x4E9B;&#x4E0D;&#x76F8;&#x5173;&#x7684;&#x3001;&#x865A;&#x5047;&#x7684;&#x5173;&#x8054;&#xFF08;spurious correlations&#xFF09;&#xFF0C;&#x5BFC;&#x81F4;&#x6A21;&#x578B;&#x4EA7;&#x751F;<strong>&#x201C;&#x5E7B;&#x89C9;&#x201D;&#xFF08;hallucinate&#xFF09;</strong>&#x3002;</p>
</li>
<li><p><strong>&#x6BD4;&#x5982;</strong>&#x8BBA;&#x6587;&#x4E2D;&#x63D0;&#x5230;&#x7684;CVE-2022-20500&#x7684;&#x4F8B;&#x5B50;&#xFF08;&#x56FE;1&#xFF09; &#x3002;&#x539F;&#x59CB;&#x4EE3;&#x7801;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x58F0;&#x660E;&#x4E86;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x8FD9;&#x5728;Java&#x4E2D;&#x662F;&#x6807;&#x51C6;&#x505A;&#x6CD5;&#xFF0C;&#x8D23;&#x4EFB;&#x5728;&#x4E8E;&#x8C03;&#x7528;&#x8005;&#x5904;&#x7406;&#x3002;&#x4ECE;&#x4EE3;&#x7801;&#x672C;&#x8EAB;&#x6765;&#x770B;&#xFF0C;&#x5B8C;&#x5168;&#x5408;&#x89C4; &#x3002;&#x4F46;&#x95EE;&#x9898;&#x5728;&#x4E8E;&#xFF0C;&#x8FD9;&#x4E2A;&#x5F02;&#x5E38;&#x5728;&#x7279;&#x5B9A;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x5BFC;&#x81F4;&#x5B89;&#x5353;&#x7CFB;&#x7EDF;&#x65E0;&#x9650;&#x91CD;&#x542F; &#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x4E25;&#x91CD;&#x7684;&#x7CFB;&#x7EDF;&#x7EA7;&#x540E;&#x679C;&#xFF0C;&#x4F46;&#x4F60;&#x65E0;&#x6CD5;&#x4EC5;&#x4ECE;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x7684;&#x9759;&#x6001;&#x903B;&#x8F91;&#x4E2D;&#x63A8;&#x65AD;&#x51FA;&#x6765;&#x3002;&#x5982;&#x679C;AI&#x5B66;&#x4E60;&#x4E86;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5B83;&#x53EF;&#x80FD;&#x4F1A;&#x5F97;&#x51FA;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x7684;&#x7ED3;&#x8BBA;&#xFF1A;&#x201C;&#x6240;&#x6709;&#x58F0;&#x660E;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x7684;&#x5730;&#x65B9;&#x90FD;&#x5FC5;&#x987B;&#x5728;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x81EA;&#x5DF1;&#x6355;&#x83B7;&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x662F;&#x6F0F;&#x6D1E;&#x201D;&#xFF0C;&#x8FD9;&#x4F1A;&#x5728;&#x5176;&#x4ED6;&#x6B63;&#x5E38;&#x4EE3;&#x7801;&#x4E0A;&#x5BFC;&#x81F4;&#x5927;&#x91CF;&#x8BEF;&#x62A5; &#x3002;</p>
</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>&#x9AD8;&#x9891;&#x8003;&#x70B9;&#x5F3A;&#x8C03;</strong>&#xFF1A; <strong>&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x533A;&#x5206;&#x8FD9;&#x4E09;&#x79CD;&#x566A;&#x97F3;&#xFF1F;</strong> &#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x4ECE;&#x4E0D;&#x540C;&#x5C42;&#x9762;&#x6C61;&#x67D3;&#x4E86;&#x6570;&#x636E;&#x96C6;&#x3002;&#x8BED;&#x4E49;&#x9519;&#x8BEF;&#x6807;&#x7B7E;&#x662F;&#x201C;&#x540D;&#x4E0D;&#x526F;&#x5B9E;&#x201D;&#xFF0C;&#x6837;&#x672C;&#x672C;&#x8EAB;&#x5C31;&#x9519;&#x4E86;&#xFF1B;&#x8FC7;&#x7A0B;&#x95F4;&#x6A21;&#x7CCA;&#x6027;&#x662F;&#x201C;&#x4FE1;&#x606F;&#x6B8B;&#x7F3A;&#x201D;&#xFF0C;&#x6837;&#x672C;&#x4E0D;&#x5B8C;&#x6574;&#xFF1B;&#x800C;&#x4E0D;&#x53EF;&#x5224;&#x5B9A;&#x8865;&#x4E01;&#x662F;&#x201C;&#x6837;&#x672C;&#x6709;&#x6BD2;&#x201D;&#xFF0C;&#x867D;&#x7136;&#x6837;&#x672C;&#x672C;&#x8EAB;&#x6CA1;&#x9519;&#xFF0C;&#x4F46;&#x5B83;&#x5305;&#x542B;&#x7684;&#x6A21;&#x5F0F;&#x5BF9;&#x4E8E;&#x9759;&#x6001;&#x5206;&#x6790;&#x6765;&#x8BF4;&#x662F;&#x4E0D;&#x53EF;&#x5B66;&#x4E60;&#x7684;&#xFF0C;&#x4F1A;&#x6BD2;&#x5BB3;&#x6A21;&#x578B;&#x7684;&#x5224;&#x65AD;&#x529B;&#x3002;&#x4F20;&#x7EDF;&#x65B9;&#x6CD5;&#x53EA;&#x5173;&#x6CE8;&#x524D;&#x4E24;&#x8005;&#xFF0C;&#x800C;MONO&#x9996;&#x6B21;&#x7CFB;&#x7EDF;&#x6027;&#x5730;&#x8BC6;&#x522B;&#x5E76;&#x5904;&#x7406;&#x7B2C;&#x4E09;&#x79CD;&#x566A;&#x97F3;&#x3002;</p>
</blockquote>
<h1 id="&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;"><a href="#&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;" class="headerlink" title="&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;"></a>&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;</h1><p>MONO&#x7684;&#x6574;&#x4E2A;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x5206;&#x4E3A;&#x4E24;&#x4E2A;&#x4E3B;&#x8981;&#x9636;&#x6BB5;&#xFF08;&#x89C1;&#x8BBA;&#x6587;&#x56FE;8&#x548C;&#x56FE;9&#xFF09; &#x3002;</p>
<p><strong>&#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#xFF1A;&#x8865;&#x4E01;&#x9884;&#x8FC7;&#x6EE4;&#x4E0E;&#x4ED3;&#x5E93;&#x9884;&#x5904;&#x7406;</strong> </p>
<p>&#x8FD9;&#x4E2A;&#x9636;&#x6BB5;&#x7684;&#x76EE;&#x6807;&#x662F;&#x505A;&#x4E00;&#x6B21;&#x5FEB;&#x901F;&#x7B5B;&#x9009;&#xFF0C;&#x628A;&#x660E;&#x663E;&#x4E0D;&#x662F;&#x5B89;&#x5168;&#x8865;&#x4E01;&#x7684;&#x566A;&#x97F3;&#x7ED9;&#x53BB;&#x6389;&#x3002;</p>
<p>1. </p>
<p>   <strong>&#x8F93;&#x5165;</strong>&#xFF1A;&#x6765;&#x81EA;&#x50CF;MegaVul&#x8FD9;&#x6837;&#x7684;&#x539F;&#x59CB;&#x6570;&#x636E;&#x96C6;&#x7684;&#x8865;&#x4E01;&#x3001;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#xFF0C;&#x4EE5;&#x53CA;MONO&#x81EA;&#x5DF1;&#x722C;&#x53D6;&#x7684;Pull Request&#x8BA8;&#x8BBA;&#x5185;&#x5BB9; </p>
<p>2. </p>
<p>   <strong>&#x5206;&#x7C7B;</strong>&#xFF1A;LLM&#x88AB;&#x8981;&#x6C42;&#x56DE;&#x7B54;&#x4E00;&#x4E2A;&#x6838;&#x5FC3;&#x95EE;&#x9898;&#xFF1A;&#x201C;&#x8FD9;&#x4E2A;&#x8865;&#x4E01;&#x662F;&#x5426;&#x6D89;&#x53CA;&#x5B89;&#x5168;&#x8FB9;&#x754C;&#xFF08;Security Boundary&#xFF09;&#xFF1F;&#x201D; &#x3002;</p>
<ul>
<li><p>&#x5982;&#x679C;</p>
<p><strong>&#x5426;</strong>&#xFF0C;&#x5219;&#x8BE5;&#x8865;&#x4E01;&#x88AB;&#x5F52;&#x7C7B;&#x4E3A;&#x975E;&#x5B89;&#x5168;&#x76F8;&#x5173;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x201C;&#x529F;&#x80FD;&#x5347;&#x7EA7;&#x201D;&#x3001;&#x201C;&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#x201D;&#x3001;&#x201C;&#x4EE3;&#x7801;&#x98CE;&#x683C;&#x4F18;&#x5316;&#x201D;&#x7B49;&#xFF0C;&#x7136;&#x540E;&#x88AB;&#x4E22;&#x5F03; &#x3002;</p>
</li>
<li><p>&#x5982;&#x679C;<strong>&#x662F;</strong>&#xFF0C;&#x5219;&#x8BE5;&#x8865;&#x4E01;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x6F5C;&#x5728;&#x7684;&#x5B89;&#x5168;&#x4FEE;&#x590D;&#xFF0C;&#x8FDB;&#x5165;&#x4E0B;&#x4E00;&#x6B65; &#x3002;</p>
</li>
</ul>
<p>3. </p>
<p>   <strong>&#x9884;&#x5904;&#x7406;</strong>&#xFF1A;&#x5BF9;&#x4E8E;&#x901A;&#x8FC7;&#x7B5B;&#x9009;&#x7684;&#x8865;&#x4E01;&#xFF0C;MONO&#x4F1A;&#x53BB;&#x4E0B;&#x8F7D;&#x5B8C;&#x6574;&#x7684;&#x9879;&#x76EE;&#x4EE3;&#x7801;&#x4ED3;&#x5E93; &#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x53EB;</p>
<p>   <strong>Joern</strong>&#x7684;&#x9759;&#x6001;&#x5206;&#x6790;&#x5DE5;&#x5177;&#x751F;&#x6210;<strong>&#x4EE3;&#x7801;&#x5C5E;&#x6027;&#x56FE;&#xFF08;Code Property Graph, CPG&#xFF09;</strong> &#x3002;</p>
<ul>
<li><strong>&#x5FC5;&#x987B;&#x89E3;&#x91CA;</strong>&#xFF1A;<strong>&#x4EE3;&#x7801;&#x5C5E;&#x6027;&#x56FE; (CPG)</strong> &#x662F;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x5B83;&#x5C06;&#x4EE3;&#x7801;&#x7684;&#x591A;&#x79CD;&#x4FE1;&#x606F;&#x89C6;&#x56FE;&#x878D;&#x5408;&#x5728;&#x4E00;&#x4E2A;&#x56FE;&#x91CC;&#x3002;&#x5B83;&#x5305;&#x542B;&#x4E86;&#xFF1A;<ul>
<li>&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811; (AST)&#xFF1A;&#x4EE3;&#x7801;&#x7684;&#x53E5;&#x6CD5;&#x7ED3;&#x6784;&#x3002;</li>
<li>&#x63A7;&#x5236;&#x6D41;&#x56FE; (CFG)&#xFF1A;&#x4EE3;&#x7801;&#x7684;&#x6267;&#x884C;&#x6D41;&#x7A0B;&#xFF0C;&#x6BD4;&#x5982;if-else&#x5206;&#x652F;&#xFF0C;&#x5FAA;&#x73AF;&#x3002;</li>
<li>&#x6570;&#x636E;&#x6D41;&#x56FE; (DFG)&#xFF1A;&#x53D8;&#x91CF;&#x548C;&#x6570;&#x636E;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x5982;&#x4F55;&#x4F20;&#x9012;&#x3002;</li>
</ul>
</li>
<li><strong>&#x6BD4;&#x5982;</strong>&#xFF0C;&#x6709;&#x4E86;CPG&#xFF0C;AI&#x5C31;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x5730;&#x67E5;&#x8BE2;&#x201C;&#x53D8;&#x91CF;<code>x</code>&#x5728;&#x7B2C;10&#x884C;&#x88AB;&#x8D4B;&#x503C;&#xFF0C;&#x5B83;&#x7684;&#x503C;&#x6700;&#x7EC8;&#x5728;&#x54EA;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x54EA;&#x4E2A;&#x4F4D;&#x7F6E;&#x88AB;&#x4F7F;&#x7528;&#x4E86;&#xFF1F;&#x201D;&#xFF0C;&#x8FD9;&#x4E3A;&#x540E;&#x7EED;&#x7684;&#x6DF1;&#x5EA6;&#x5206;&#x6790;&#x63D0;&#x4F9B;&#x4E86;&#x6781;&#x5927;&#x7684;&#x4FBF;&#x5229;&#x3002;</li>
</ul>
<p><strong>&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#xFF1A;&#x8FED;&#x4EE3;&#x5F0F;&#x4E0A;&#x4E0B;&#x6587;&#x5206;&#x6790;</strong> </p>
<p>&#x8FD9;&#x662F;MONO&#x6700;&#x6838;&#x5FC3;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x65E8;&#x5728;&#x901A;&#x8FC7;&#x667A;&#x80FD;&#x4F53;&#x534F;&#x4F5C;&#xFF0C;&#x6DF1;&#x6316;&#x6F0F;&#x6D1E;&#x7684;&#x6839;&#x6E90;&#x3002;</p>
<p>1. </p>
<p>   <strong>&#x542F;&#x52A8;</strong>&#xFF1A;<strong>&#x5206;&#x6790;&#x667A;&#x80FD;&#x4F53; (AnalysisAgent)</strong> &#x62FF;&#x5230;&#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#x5904;&#x7406;&#x8FC7;&#x7684;&#x5B89;&#x5168;&#x8865;&#x4E01;&#x548C;CPG&#xFF0C;&#x5F00;&#x59CB;&#x5206;&#x6790; &#x3002;</p>
<ol start="2">
<li><p><strong>&#x8FED;&#x4EE3;&#x5FAA;&#x73AF;</strong>&#xFF1A;</p>
<ul>
<li><p>a. &#x5206;&#x6790;&#x4E0E;&#x53D1;&#x73B0;GAP</p>
<p>&#xFF1A;&#x5206;&#x6790;&#x667A;&#x80FD;&#x4F53;&#x9996;&#x5148;&#x5BA1;&#x67E5;&#x8865;&#x4E01;&#xFF0C;&#x5C1D;&#x8BD5;&#x8FFD;&#x8E2A;&#x6F0F;&#x6D1E;&#x7684;&#x89E6;&#x53D1;&#x903B;&#x8F91;&#x3002;&#x5F88;&#x5FEB;&#x5B83;&#x5C31;&#x4F1A;&#x9047;&#x5230;&#x4FE1;&#x606F;&#x4E0D;&#x8DB3;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x8FD9;&#x88AB;&#x79F0;&#x4E3A;&#x4E00;&#x4E2A;<strong>&#x201C;GAP&#x201D;&#xFF08;&#x4FE1;&#x606F;&#x7F3A;&#x53E3;&#xFF09;</strong> &#x3002;</p>
<p><strong>&#x4F8B;&#x5982;</strong>&#xFF0C;&#x5B83;&#x770B;&#x5230;&#x4EE3;&#x7801;&#x8C03;&#x7528;&#x4E86;&#x51FD;&#x6570; <code>foo(x)</code>&#xFF0C;&#x4F46;&#x5B83;&#x4E0D;&#x77E5;&#x9053; <code>foo</code> &#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#xFF0C;&#x4E5F;&#x4E0D;&#x77E5;&#x9053;&#x53D8;&#x91CF; <code>x</code> &#x7684;&#x503C;&#x662F;&#x4ECE;&#x54EA;&#x91CC;&#x6765;&#x7684;&#x3002;</p>
</li>
<li><p>b. &#x63D0;&#x51FA;&#x8BF7;&#x6C42;</p>
<p>&#xFF1A;&#x5206;&#x6790;&#x667A;&#x80FD;&#x4F53;&#x5C06;GAP&#x8F6C;&#x5316;&#x4E3A;&#x4E00;&#x4E2A;&#x6E05;&#x6670;&#x7684;&#x8BF7;&#x6C42; &#x3002;</p>
<p><strong>&#x6BD4;&#x5982;</strong>&#xFF1A;&#x201C;&#x8BF7;&#x63D0;&#x4F9B;&#x51FD;&#x6570; <code>foo</code> &#x7684;&#x5B9A;&#x4E49;&#x201D; &#x6216; &#x201C;&#x8BF7;&#x8FFD;&#x8E2A;&#x53D8;&#x91CF; <code>x</code> &#x7684;&#x6570;&#x636E;&#x6765;&#x6E90;&#x201D;&#x3002;</p>
</li>
<li><p>c. &#x6536;&#x96C6;&#x4E0A;&#x4E0B;&#x6587;</p>
<p>&#xFF1A;<strong>&#x4E0A;&#x4E0B;&#x6587;&#x667A;&#x80FD;&#x4F53; (ContextAgent)</strong> &#x63A5;&#x6536;&#x8BF7;&#x6C42;&#xFF0C;&#x5C06;&#x5176;&#x7FFB;&#x8BD1;&#x6210;&#x5BF9;CPG&#x7684;&#x7CBE;&#x786E;&#x67E5;&#x8BE2;&#xFF08;Joern query&#xFF09;&#xFF0C;&#x4ECE;&#x4EE3;&#x7801;&#x4ED3;&#x5E93;&#x4E2D;&#x63D0;&#x53D6;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;&#xFF08;&#x6BD4;&#x5982;<code>foo</code>&#x51FD;&#x6570;&#x7684;&#x4EE3;&#x7801;&#x7247;&#x6BB5;&#xFF09; &#x3002;</p>
</li>
<li><p><strong>d. &#x8FD4;&#x56DE;&#x4FE1;&#x606F;</strong>&#xFF1A;&#x4E0A;&#x4E0B;&#x6587;&#x667A;&#x80FD;&#x4F53;&#x5C06;&#x67E5;&#x8BE2;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x7ED9;&#x5206;&#x6790;&#x667A;&#x80FD;&#x4F53;&#x3002;</p>
</li>
<li><p><strong>e. &#x518D;&#x6B21;&#x5206;&#x6790;</strong>&#xFF1A;&#x5206;&#x6790;&#x667A;&#x80FD;&#x4F53;&#x83B7;&#x5F97;&#x4E86;&#x65B0;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4FE1;&#x606F;&#xFF0C;&#x7EE7;&#x7EED;&#x8FDB;&#x884C;&#x5206;&#x6790;&#x3002;&#x8FD9;&#x4E2A;<code>a -&gt; b -&gt; c -&gt; d -&gt; e</code>&#x7684;&#x8FC7;&#x7A0B;&#x4F1A;&#x4E0D;&#x65AD;&#x91CD;&#x590D;&#x3002;</p>
</li>
</ul>
</li>
<li><p><strong>&#x7EC8;&#x6B62;</strong>&#xFF1A;&#x8FD9;&#x4E2A;&#x5FAA;&#x73AF;&#x6709;&#x4E24;&#x79CD;&#x7ED3;&#x675F;&#x65B9;&#x5F0F; &#xFF1A;</p>
<p>- </p>
<p>  <strong>&#x6210;&#x529F;</strong>&#xFF1A;&#x5206;&#x6790;&#x667A;&#x80FD;&#x4F53;&#x6210;&#x529F;&#x5730;&#x6784;&#x5EFA;&#x4E86;&#x4ECE;&#x6F0F;&#x6D1E;&#x89E6;&#x53D1;&#x5230;&#x6700;&#x7EC8;&#x5371;&#x5BB3;&#x7684;&#x5B8C;&#x6574;&#x8BC1;&#x636E;&#x94FE;&#xFF0C;&#x5B83;&#x4F1A;&#x8F93;&#x51FA;&#x5BF9;&#x6F0F;&#x6D1E;&#x6839;&#x6E90;&#x7684;&#x8BE6;&#x7EC6;&#x63CF;&#x8FF0;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;&#x4E00;&#x4E2A;&#x9AD8;&#x7F6E;&#x4FE1;&#x5EA6;&#x5206;&#x6570; &#x3002;</p>
<p>- </p>
<p>  <strong>&#x5931;&#x8D25;&#xFF08;&#x4E0D;&#x53EF;&#x5224;&#x5B9A;&#xFF09;</strong>&#xFF1A;&#x5982;&#x679C;&#x5FAA;&#x73AF;&#x8FBE;&#x5230;&#x4E86;&#x9884;&#x8BBE;&#x7684;&#x4E0A;&#x9650;&#xFF08;&#x6BD4;&#x5982;8&#x6B21;&#xFF09;&#x540E;&#xFF0C;&#x5206;&#x6790;&#x667A;&#x80FD;&#x4F53;&#x4ECD;&#x7136;&#x65E0;&#x6CD5;&#x7406;&#x89E3;&#x6F0F;&#x6D1E;&#x7684;&#x6839;&#x6E90;&#xFF0C;MONO&#x5C31;&#x8BA4;&#x4E3A;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;<strong>&#x4E0D;&#x53EF;&#x5224;&#x5B9A;&#x8865;&#x4E01;</strong>&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x4E22;&#x5F03; &#x3002;</p>
</li>
</ol>
<p>&#x6700;&#x540E;&#xFF0C;&#x6240;&#x6709;&#x6210;&#x529F;&#x5206;&#x6790;&#x7684;&#x6F0F;&#x6D1E;&#x53CA;&#x5176;&#x6536;&#x96C6;&#x5230;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x3001;&#x6839;&#x6E90;&#x63CF;&#x8FF0;&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x88AB;&#x6574;&#x5408;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x3001;&#x9AD8;&#x8D28;&#x91CF;&#x7684;&#x6570;&#x636E;&#x96C6;&#xFF0C;&#x8BBA;&#x6587;&#x4E2D;&#x79F0;&#x4E4B;&#x4E3A;</p>
<p><strong>MONOLENS</strong> &#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x4ECE;&#x201C;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x7528;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;&#x201D;&#x548C;&#x201C;&#x4E3A;&#x4EC0;&#x4E48;&#x9009;&#x62E9;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x201D;&#x4E24;&#x4E2A;&#x89D2;&#x5EA6;&#x6765;&#x56DE;&#x7B54;&#xFF0C;&#x8FD9;&#x6070;&#x6070;&#x4F53;&#x73B0;&#x4E86;&#x4F5C;&#x8005;&#x7684;&#x601D;&#x8003;&#x8DEF;&#x5F84;&#x3002;</p>
<ul>
<li><p><strong>&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x4F20;&#x7EDF;&#x65B9;&#x6CD5;&#xFF08;&#x6BD4;&#x5982;&#x57FA;&#x4E8E;&#x5173;&#x952E;&#x8BCD;&#x6216;&#x7B80;&#x5355;&#x89C4;&#x5219;&#xFF09;&#xFF1F;</strong></p>
<p>- </p>
<p>  <strong>&#x56E0;&#x4E3A;</strong> &#x8BBA;&#x6587;&#x901A;&#x8FC7;&#x7814;&#x7A76;&#x53D1;&#x73B0;&#xFF0C;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x5B58;&#x5728;&#x6839;&#x672C;&#x6027;&#x7F3A;&#x9677;&#x3002;&#x5B83;&#x4EEC;&#x65E0;&#x6CD5;&#x5904;&#x7406;<strong>&#x8BED;&#x4E49;&#x9519;&#x8BEF;&#x6807;&#x7B7E;</strong>&#x548C;<strong>&#x8FC7;&#x7A0B;&#x95F4;&#x6A21;&#x7CCA;&#x6027;</strong>&#x3002;&#x7B80;&#x5355;&#x7684;&#x89C4;&#x5219;&#x65E0;&#x6CD5;&#x7406;&#x89E3;&#x4EE3;&#x7801;&#x548C;&#x5F00;&#x53D1;&#x8005;&#x8BC4;&#x8BBA;&#x7684;&#x6DF1;&#x5C42;&#x542B;&#x4E49; &#x3002;</p>
<p>  <strong>&#x6BD4;&#x5982;</strong>&#xFF0C;<code>CleanVul</code> &#x548C; <code>PrimeVul</code> &#x7B49;&#x73B0;&#x6709;&#x5DE5;&#x4F5C;&#x867D;&#x7136;&#x5C1D;&#x8BD5;&#x6E05;&#x7406;&#x6570;&#x636E;&#x96C6;&#xFF0C;&#x4F46;&#x4ECD;&#x6709;&#x5927;&#x91CF;&#x566A;&#x97F3;&#x88AB;&#x9057;&#x6F0F;&#xFF0C;MONO&#x7684;&#x5B9E;&#x9A8C;&#x4E5F;&#x8BC1;&#x660E;&#x4E86;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x5B83;&#x5728;&#x8FD9;&#x4E9B;&#x201C;&#x5DF2;&#x6E05;&#x7406;&#x201D;&#x7684;&#x6570;&#x636E;&#x96C6;&#x4E2D;&#x53C8;&#x53D1;&#x73B0;&#x4E86;&#x8D85;&#x8FC7;100&#x4E2A;&#x65B0;&#x7684;&#x566A;&#x97F3;&#x8865;&#x4E01; &#x3002;</p>
</li>
<li><p><strong>&#x4E3A;&#x4EC0;&#x4E48;&#x5FC5;&#x987B;&#x8981;&#x5F15;&#x5165;&#x201C;&#x4E0D;&#x53EF;&#x5224;&#x5B9A;&#x8865;&#x4E01;&#x201D;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x5E76;&#x8FC7;&#x6EE4;&#x6389;&#x5B83;&#x4EEC;&#xFF1F;</strong></p>
<p>- </p>
<p>  <strong>&#x56E0;&#x4E3A;</strong> &#x8FD9;&#x662F;&#x4E4B;&#x524D;&#x6240;&#x6709;&#x5DE5;&#x4F5C;&#x90FD;&#x5FFD;&#x7565;&#x7684;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x95EE;&#x9898; &#x3002;&#x4F5C;&#x8005;&#x53D1;&#x73B0;&#xFF0C;&#x5F3A;&#x8FEB;AI&#x53BB;&#x5B66;&#x4E60;&#x8FD9;&#x4E9B;&#x65E0;&#x6CD5;&#x4ECE;&#x9759;&#x6001;&#x4EE3;&#x7801;&#x4E2D;&#x627E;&#x5230;&#x6E05;&#x6670;&#x6A21;&#x5F0F;&#x7684;&#x6F0F;&#x6D1E;&#xFF0C;&#x662F;&#x5728;&#x201C;&#x7F18;&#x6728;&#x6C42;&#x9C7C;&#x201D;&#x3002;&#x8FD9;&#x4E0D;&#x4EC5;&#x4E0D;&#x4F1A;&#x63D0;&#x5347;&#x6A21;&#x578B;&#x6027;&#x80FD;&#xFF0C;&#x53CD;&#x800C;&#x4F1A;&#x56E0;&#x4E3A;&#x5B66;&#x4E60;&#x5230;&#x865A;&#x5047;&#x5173;&#x8054;&#x800C;&#x4E25;&#x91CD;&#x635F;&#x5BB3;&#x5176;&#x6CDB;&#x5316;&#x80FD;&#x529B;&#x548C;&#x5728;&#x771F;&#x5B9E;&#x573A;&#x666F;&#x4E2D;&#x7684;&#x53EF;&#x9760;&#x6027; &#x3002;&#x8FC7;&#x6EE4;&#x6389;&#x8FD9;&#x4E9B;&#x201C;&#x6709;&#x6BD2;&#x6837;&#x672C;&#x201D;&#xFF0C;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#x7684;&#x201C;&#x7EAF;&#x51C0;&#x5EA6;&#x201D;&#x3002;</p>
</li>
<li><p><strong>&#x4ED6;&#x662F;&#x600E;&#x4E48;&#x60F3;&#x5230;&#x8981;&#x7528;&#x201C;&#x591A;&#x667A;&#x80FD;&#x4F53;&#x8FED;&#x4EE3;&#x5206;&#x6790;&#x201D;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#xFF1F;</strong></p>
<p>- </p>
<p>  <strong>&#x56E0;&#x4E3A;</strong> &#x4F5C;&#x8005;&#x7684;&#x51FA;&#x53D1;&#x70B9;&#x662F;<strong>&#x6A21;&#x62DF;&#x4EBA;&#x7C7B;&#x5B89;&#x5168;&#x4E13;&#x5BB6;&#x7684;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;</strong> &#x3002;&#x4E00;&#x4E2A;&#x9876;&#x5C16;&#x7684;&#x5B89;&#x5168;&#x4E13;&#x5BB6;&#x5728;&#x5206;&#x6790;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x6F0F;&#x6D1E;&#x65F6;&#xFF0C;&#x7EDD;&#x5BF9;&#x4E0D;&#x662F;&#x53EA;&#x770B;&#x4E00;&#x773C;&#x4EE3;&#x7801;&#x5C31;&#x5F97;&#x51FA;&#x7ED3;&#x8BBA;&#x3002;&#x4ED6;&#x7684;&#x884C;&#x4E3A;&#x6A21;&#x5F0F;&#x662F;&#x52A8;&#x6001;&#x548C;&#x8FED;&#x4EE3;&#x7684;&#xFF1A;</p>
<ol>
<li>&#x5148;&#x770B;&#x8865;&#x4E01;&#x4EE3;&#x7801;&#xFF0C;&#x5F62;&#x6210;&#x521D;&#x6B65;&#x5047;&#x8BBE;&#x3002;</li>
<li>&#x53D1;&#x73B0;&#x7591;&#x70B9;&#xFF0C;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x53D8;&#x91CF;&#xFF0C;&#x4E8E;&#x662F;&#x53BB;&#x67E5;&#x627E;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x5B9A;&#x4E49;&#x548C;&#x6240;&#x6709;&#x88AB;&#x5F15;&#x7528;&#x7684;&#x5730;&#x65B9;&#x3002;</li>
<li>&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x8C03;&#x7528;&#xFF0C;&#x4E8E;&#x662F;&#x53BB;&#x9605;&#x8BFB;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x3002;</li>
<li>&#x7EFC;&#x5408;&#x65B0;&#x4FE1;&#x606F;&#xFF0C;&#x4FEE;&#x6B63;&#x6216;&#x6DF1;&#x5316;&#x81EA;&#x5DF1;&#x7684;&#x5047;&#x8BBE;&#x3002;</li>
<li>&#x751A;&#x81F3;&#x53BB;&#x9605;&#x8BFB;&#x76F8;&#x5173;&#x7684;&#x6587;&#x6863;&#x3001;&#x5F00;&#x53D1;&#x8005;&#x8BA8;&#x8BBA;&#x6765;&#x83B7;&#x53D6;&#x5916;&#x90E8;&#x77E5;&#x8BC6;&#x3002;</li>
</ol>
<ul>
<li>MONO&#x7684;<strong>&#x5206;&#x6790;&#x667A;&#x80FD;&#x4F53;+&#x4E0A;&#x4E0B;&#x6587;&#x667A;&#x80FD;&#x4F53;</strong>&#x7684;&#x67B6;&#x6784;&#xFF0C;&#x4EE5;&#x53CA;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;<strong>&#x8FED;&#x4EE3;&#x5F0F;</strong>&#x8BF7;&#x6C42;-&#x54CD;&#x5E94;&#x5FAA;&#x73AF;&#xFF0C;&#x6B63;&#x662F;&#x5BF9;&#x4E13;&#x5BB6;&#x8FD9;&#x79CD;&#x201C;&#x63A2;&#x7D22;&#x5F0F;&#x201D;&#x5206;&#x6790;&#x8FC7;&#x7A0B;&#x7684;&#x9AD8;&#x5EA6;&#x62BD;&#x8C61;&#x548C;&#x81EA;&#x52A8;&#x5316;&#x5B9E;&#x73B0; &#x3002;LLM&#x7684;&#x51FA;&#x73B0;&#xFF0C;&#x4EE5;&#x5176;&#x5F3A;&#x5927;&#x7684;&#x63A8;&#x7406;&#x548C;&#x5DE5;&#x5177;&#x4F7F;&#x7528;&#x80FD;&#x529B;&#xFF0C;&#x4F7F;&#x5F97;&#x8FD9;&#x79CD;&#x590D;&#x6742;&#x7684;&#x6A21;&#x62DF;&#x6210;&#x4E3A;&#x53EF;&#x80FD;&#x3002;</li>
</ul>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>CDN Config</title>
    <url>/2025/07/06/2025-07-06-CDN-Configuration-2025/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>&#x76F4;&#x63A5;&#x8BF4;&#x201C;&#x5199;&#x914D;&#x7F6E;&#x201D;&#x5176;&#x5B9E;&#x6709;&#x70B9;&#x7B3C;&#x7EDF;&#xFF0C;&#x56E0;&#x4E3A;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x4E3B;&#x6D41;&#x7684; CDN &#x670D;&#x52A1;&#x5546;&#xFF08;&#x4F8B;&#x5982; Cloudflare, AWS CloudFront, &#x963F;&#x91CC;&#x4E91; CDN &#x7B49;&#xFF09;&#x90FD;&#x63D0;&#x4F9B;&#x4E86;&#x56FE;&#x5F62;&#x5316;&#x7684;&#x7F51;&#x9875;&#x63A7;&#x5236;&#x53F0;&#xFF0C;&#x4F60;&#x4E0D;&#x9700;&#x8981;&#x50CF;&#x5199;&#x4EE3;&#x7801;&#x4E00;&#x6837;&#x53BB;&#x201C;&#x5199;&#x201D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x66F4;&#x591A;&#x7684;&#x662F;&#x5728;&#x7F51;&#x9875;&#x4E0A;&#x8FDB;&#x884C;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x8BBE;&#x7F6E;&#x3002;</p>
<p>**CDN (Content Delivery Network, &#x5185;&#x5BB9;&#x5206;&#x53D1;&#x7F51;&#x7EDC;)**&#xFF1A;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x7531;&#x5206;&#x5E03;&#x5728;&#x5168;&#x7403;&#x5404;&#x5730;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7EC4;&#x6210;&#x7684;&#x7F51;&#x7EDC;&#x3002;&#x5B83;&#x7684;&#x6838;&#x5FC3;&#x4F5C;&#x7528;&#x662F;&#x628A;&#x4F60;&#x7684;&#x7F51;&#x7AD9;&#x5185;&#x5BB9;&#xFF08;&#x6BD4;&#x5982;&#x56FE;&#x7247;&#x3001;CSS &#x6587;&#x4EF6;&#x3001;JS &#x6587;&#x4EF6;&#xFF0C;&#x751A;&#x81F3;&#x6574;&#x4E2A;&#x7F51;&#x9875;&#xFF09;&#x7F13;&#x5B58;&#x5230;&#x79BB;&#x7528;&#x6237;&#x6700;&#x8FD1;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002;</p>
<p><strong>&#x914D;&#x7F6E;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x60F3;</strong>&#xFF1A;&#x914D;&#x7F6E; CDN &#x7684;&#x672C;&#x8D28;&#xFF0C;&#x5C31;&#x662F;&#x544A;&#x8BC9; CDN &#x4E24;&#x4EF6;&#x5927;&#x4E8B;&#xFF1A;</p>
<ol>
<li><strong>&#x201C;&#x6211;&#x7684;&#x8D27;&#x5728;&#x54EA;&#xFF1F;&#x201D;</strong> &#x2014;&#x2014; &#x4E5F;&#x5C31;&#x662F;&#x4F60;&#x7684; <strong>&#x6E90;&#x7AD9; (Origin Server)</strong> &#x5728;&#x54EA;&#x91CC;&#x3002;CDN &#x9700;&#x8981;&#x77E5;&#x9053;&#x53BB;&#x54EA;&#x91CC;&#x83B7;&#x53D6;&#x4F60;&#x7684;&#x539F;&#x59CB;&#x6587;&#x4EF6;&#x3002;</li>
<li><strong>&#x201C;&#x6211;&#x7684;&#x8D27;&#x8BE5;&#x600E;&#x4E48;&#x9001;&#xFF1F;&#x201D;</strong> &#x2014;&#x2014; &#x4E5F;&#x5C31;&#x662F;&#x5B9A;&#x4E49;&#x4E00;&#x7CFB;&#x5217;&#x89C4;&#x5219;&#xFF0C;&#x6BD4;&#x5982;&#x54EA;&#x4E9B;&#x5185;&#x5BB9;&#x9700;&#x8981;&#x7F13;&#x5B58;&#x3001;&#x7F13;&#x5B58;&#x591A;&#x4E45;&#x3001;&#x8C01;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x3001;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;&#x5B89;&#x5168;&#x7B49;&#x7B49;&#x3002;</li>
</ol>
<p>&#x5047;&#x8BBE;&#x4F60;&#x5DF2;&#x7ECF;&#x6CE8;&#x518C;&#x4E86;&#x4E00;&#x5BB6; CDN &#x670D;&#x52A1;&#x5546;&#x7684;&#x8D26;&#x53F7;&#x3002;</p>
<h4 id="1-&#x6DFB;&#x52A0;&#x4F60;&#x7684;&#x57DF;&#x540D;"><a href="#1-&#x6DFB;&#x52A0;&#x4F60;&#x7684;&#x57DF;&#x540D;" class="headerlink" title="1. &#x6DFB;&#x52A0;&#x4F60;&#x7684;&#x57DF;&#x540D;"></a>1. &#x6DFB;&#x52A0;&#x4F60;&#x7684;&#x57DF;&#x540D;</h4><p>&#x8FD9;&#x662F;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x7684;&#x7B2C;&#x4E00;&#x6B65;&#x3002;&#x4F60;&#x9700;&#x8981;&#x544A;&#x8BC9; CDN &#x670D;&#x52A1;&#x5546;&#xFF0C;&#x4F60;&#x8981;&#x4E3A;&#x54EA;&#x4E2A;&#x7F51;&#x7AD9;&#x6216;&#x670D;&#x52A1;&#x52A0;&#x901F;&#x3002;</p>
<ul>
<li><strong>&#x64CD;&#x4F5C;</strong>&#xFF1A;&#x5728; CDN &#x63A7;&#x5236;&#x53F0;&#x91CC;&#xFF0C;&#x627E;&#x5230;&#x201C;&#x6DFB;&#x52A0;&#x7AD9;&#x70B9;&#x201D;&#x6216;&#x201C;&#x6DFB;&#x52A0;&#x57DF;&#x540D;&#x201D;&#x7684;&#x5165;&#x53E3;&#x3002;</li>
<li><strong>&#x4F8B;&#x5982;</strong>&#xFF1A;&#x8F93;&#x5165;&#x4F60;&#x8981;&#x52A0;&#x901F;&#x7684;&#x57DF;&#x540D;&#xFF0C;&#x6BD4;&#x5982; <code>www.my-awesome-app.com</code>&#x3002;</li>
</ul>
<h4 id="2-&#x914D;&#x7F6E;&#x6E90;&#x7AD9;&#x4FE1;&#x606F;-&#x6700;&#x5173;&#x952E;&#x7684;&#x4E00;&#x6B65;"><a href="#2-&#x914D;&#x7F6E;&#x6E90;&#x7AD9;&#x4FE1;&#x606F;-&#x6700;&#x5173;&#x952E;&#x7684;&#x4E00;&#x6B65;" class="headerlink" title="2. &#x914D;&#x7F6E;&#x6E90;&#x7AD9;&#x4FE1;&#x606F; (&#x6700;&#x5173;&#x952E;&#x7684;&#x4E00;&#x6B65;)"></a>2. &#x914D;&#x7F6E;&#x6E90;&#x7AD9;&#x4FE1;&#x606F; (&#x6700;&#x5173;&#x952E;&#x7684;&#x4E00;&#x6B65;)</h4><p>CDN &#x5FC5;&#x987B;&#x77E5;&#x9053;&#x53BB;&#x54EA;&#x91CC;&#x62FF;&#x4F60;&#x7684;&#x201C;&#x539F;&#x7248;&#x201D;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x6211;&#x4EEC;&#x79F0;&#x4E4B;&#x4E3A; **&#x56DE;&#x6E90; (Back-to-Origin)**&#x3002;</p>
<ul>
<li><strong>&#x6E90;&#x7AD9; (Origin Server)</strong><ul>
<li>&#x5C31;&#x662F;&#x4F60;&#x7F51;&#x7AD9;&#x5185;&#x5BB9;&#x771F;&#x6B63;&#x5B58;&#x653E;&#x7684;&#x670D;&#x52A1;&#x5668;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A; IP &#x5730;&#x5740;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x53E6;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#x3002;</li>
</ul>
</li>
<li><strong>&#x914D;&#x7F6E;&#x9879;&#x901A;&#x5E38;&#x5305;&#x62EC;&#xFF1A;</strong><ul>
<li><strong>&#x6E90;&#x7AD9;&#x7C7B;&#x578B;</strong>&#xFF1A;&#x901A;&#x5E38;&#x662F; IP &#x6E90;&#x6216;&#x57DF;&#x540D;&#x6E90;&#x3002;<ul>
<li><strong>IP &#x6E90;</strong>&#xFF1A;&#x76F4;&#x63A5;&#x586B;&#x5199;&#x4F60;&#x670D;&#x52A1;&#x5668;&#x7684;&#x516C;&#x7F51; IP &#x5730;&#x5740;&#x3002;&#x4F8B;&#x5982; <code>12.34.56.78</code>&#x3002;</li>
<li><strong>&#x57DF;&#x540D;&#x6E90;</strong>&#xFF1A;&#x586B;&#x5199;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x5230;&#x4F60;&#x670D;&#x52A1;&#x5668;&#x7684;&#x57DF;&#x540D;&#x3002;&#x4F8B;&#x5982; <code>origin.my-awesome-app.com</code>&#x3002;</li>
</ul>
</li>
<li><strong>&#x7AEF;&#x53E3;</strong>&#xFF1A;&#x4F60;&#x7684; Web &#x670D;&#x52A1;&#x5668;&#xFF08;&#x5982; Nginx, Apache&#xFF09;&#x76D1;&#x542C;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;HTTP &#x9ED8;&#x8BA4;&#x662F; 80&#xFF0C;HTTPS &#x9ED8;&#x8BA4;&#x662F; 443&#x3002;</li>
<li>**&#x56DE;&#x6E90; Host &#x5934; (Origin Host Header)**&#xFF1A;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x4F46;&#x5BB9;&#x6613;&#x88AB;&#x5FFD;&#x7565;&#x7684;&#x914D;&#x7F6E;&#x3002;<ul>
<li><strong>&#x5B83;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</strong>&#xFF1A;&#x5F53; CDN &#x7684;&#x8FB9;&#x7F18;&#x8282;&#x70B9;&#x5411;&#x4F60;&#x7684;&#x6E90;&#x7AD9;&#x8BF7;&#x6C42;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x5B83;&#x53D1;&#x9001;&#x7684; HTTP &#x8BF7;&#x6C42;&#x91CC;&#x4F1A;&#x5305;&#x542B;&#x4E00;&#x4E2A; <code>Host</code> &#x5934;&#x3002;&#x8FD9;&#x4E2A;&#x5934;&#x544A;&#x8BC9;&#x4F60;&#x7684;&#x6E90;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x201C;&#x6211;&#x60F3;&#x8981;&#x7684;&#x662F;&#x54EA;&#x4E2A;&#x7F51;&#x7AD9;&#x7684;&#x5185;&#x5BB9;&#xFF1F;&#x201D;&#x3002;</li>
<li><strong>&#x4F8B;&#x5982;</strong>&#xFF1A;&#x4F60;&#x7684;&#x6E90;&#x7AD9;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x53EF;&#x80FD;&#x540C;&#x65F6;&#x6258;&#x7BA1;&#x4E86; <code>a.com</code> &#x548C; <code>b.com</code> &#x4E24;&#x4E2A;&#x7F51;&#x7AD9;&#x3002;&#x5982;&#x679C; <code>Host</code> &#x5934;&#x662F; <code>a.com</code>&#xFF0C;Nginx &#x5C31;&#x4F1A;&#x8FD4;&#x56DE; <code>a.com</code> &#x7684;&#x5185;&#x5BB9;&#x3002;</li>
<li><strong>&#x5982;&#x4F55;&#x914D;&#x7F6E;</strong>&#xFF1A;&#x901A;&#x5E38;&#xFF0C;&#x4F60;&#x5E94;&#x8BE5;&#x5C06;&#x56DE;&#x6E90; Host &#x5934;&#x8BBE;&#x7F6E;&#x4E3A;&#x4F60;&#x6B63;&#x5728;&#x52A0;&#x901F;&#x7684;&#x90A3;&#x4E2A;&#x57DF;&#x540D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F; <code>www.my-awesome-app.com</code>&#x3002;&#x8FD9;&#x6837;&#x80FD;&#x786E;&#x4FDD;&#x6E90;&#x7AD9;&#x80FD;&#x6B63;&#x786E;&#x54CD;&#x5E94;&#x3002;</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="3-&#x914D;&#x7F6E;&#x7F13;&#x5B58;&#x89C4;&#x5219;-&#x63D0;&#x5347;&#x6027;&#x80FD;&#x7684;&#x6838;&#x5FC3;"><a href="#3-&#x914D;&#x7F6E;&#x7F13;&#x5B58;&#x89C4;&#x5219;-&#x63D0;&#x5347;&#x6027;&#x80FD;&#x7684;&#x6838;&#x5FC3;" class="headerlink" title="3. &#x914D;&#x7F6E;&#x7F13;&#x5B58;&#x89C4;&#x5219; (&#x63D0;&#x5347;&#x6027;&#x80FD;&#x7684;&#x6838;&#x5FC3;)"></a>3. &#x914D;&#x7F6E;&#x7F13;&#x5B58;&#x89C4;&#x5219; (&#x63D0;&#x5347;&#x6027;&#x80FD;&#x7684;&#x6838;&#x5FC3;)</h4><p>&#x8FD9;&#x91CC;&#x51B3;&#x5B9A;&#x4E86; CDN &#x7684;&#x6027;&#x80FD;&#x8868;&#x73B0;&#x3002;&#x4F60;&#x9700;&#x8981;&#x544A;&#x8BC9; CDN &#x7684;&#x8FB9;&#x7F18;&#x8282;&#x70B9;&#xFF0C;&#x54EA;&#x4E9B;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x7F13;&#x5B58;&#xFF0C;&#x4EE5;&#x53CA;&#x7F13;&#x5B58;&#x591A;&#x4E45;&#x3002;</p>
<ul>
<li><strong>&#x540D;&#x8BCD;&#x89E3;&#x91CA;&#xFF1A;TTL (Time-To-Live, &#x751F;&#x5B58;&#x65F6;&#x95F4;)</strong><ul>
<li>&#x6307;&#x7F13;&#x5B58;&#x5185;&#x5BB9;&#x5728;&#x8FB9;&#x7F18;&#x8282;&#x70B9;&#x4E0A;&#x5B58;&#x653E;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x8FC7;&#x4E86;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#xFF0C;&#x7F13;&#x5B58;&#x5C31;&#x201C;&#x8FC7;&#x671F;&#x201D;&#x4E86;&#xFF0C;CDN &#x4F1A;&#x91CD;&#x65B0;&#x56DE;&#x6E90;&#x53BB;&#x83B7;&#x53D6;&#x6700;&#x65B0;&#x7684;&#x5185;&#x5BB9;&#x3002;</li>
</ul>
</li>
<li><strong>&#x5E38;&#x89C1;&#x7684;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;</strong>&#xFF1A;&#x57FA;&#x4E8E;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x6216;&#x540E;&#x7F00;&#x540D;&#x6765;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684; TTL&#x3002;<ul>
<li><strong>&#x4F8B;&#x5982;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x914D;&#x7F6E;&#xFF1A;</strong><ul>
<li><strong>&#x89C4;&#x5219; 1</strong>&#xFF1A;<ul>
<li><strong>&#x8DEF;&#x5F84;/&#x7C7B;&#x578B;</strong>: <code>*.jpg</code>, <code>*.jpeg</code>, <code>*.png</code>, <code>*.gif</code>, <code>*.css</code>, <code>*.js</code> (&#x6240;&#x6709;&#x56FE;&#x7247;&#x3001;CSS &#x548C; JS &#x6587;&#x4EF6;)</li>
<li><strong>TTL</strong>: <code>7 &#x5929;</code> &#x6216; <code>30 &#x5929;</code>&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x901A;&#x5E38;&#x4E0D;&#x600E;&#x4E48;&#x53D8;&#x5316;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5F88;&#x957F;&#x7684;&#x7F13;&#x5B58;&#x65F6;&#x95F4;&#x6765;&#x6700;&#x5927;&#x5316;&#x6027;&#x80FD;&#x3002;</li>
</ul>
</li>
<li><strong>&#x89C4;&#x5219; 2</strong>&#xFF1A;<ul>
<li><strong>&#x8DEF;&#x5F84;/&#x7C7B;&#x578B;</strong>: <code>/index.html</code> (&#x4E3B;&#x9875;)</li>
<li><strong>TTL</strong>: <code>10 &#x5206;&#x949F;</code>&#x3002;&#x56E0;&#x4E3A;&#x4E3B;&#x9875;&#x5185;&#x5BB9;&#x53EF;&#x80FD;&#x4F1A;&#x66F4;&#x65B0;&#xFF0C;&#x4F46;&#x53C8;&#x4E0D;&#x50CF; API &#x90A3;&#x6837;&#x9891;&#x7E41;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x8F83;&#x77ED;&#x7684;&#x7F13;&#x5B58;&#x65F6;&#x95F4;&#x3002;</li>
</ul>
</li>
<li><strong>&#x89C4;&#x5219; 3</strong>&#xFF1A;<ul>
<li><strong>&#x8DEF;&#x5F84;/&#x7C7B;&#x578B;</strong>: <code>/api/*</code> (&#x6240;&#x6709; API &#x8BF7;&#x6C42;)</li>
<li><strong>TTL</strong>: <code>0 &#x79D2;</code> &#x6216;&#x8BBE;&#x7F6E;&#x4E3A; <strong>&#x201C;&#x4E0D;&#x7F13;&#x5B58;&#x201D;</strong>&#x3002;&#x56E0;&#x4E3A; API &#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x901A;&#x5E38;&#x662F;&#x52A8;&#x6001;&#x7684;&#x3001;&#x4E2A;&#x6027;&#x5316;&#x7684;&#xFF0C;&#x7EDD;&#x5BF9;&#x4E0D;&#x80FD;&#x88AB;&#x7F13;&#x5B58;&#x3002;</li>
</ul>
</li>
</ul>
</li>
<li><strong>&#x7F13;&#x5B58;&#x884C;&#x4E3A;</strong>&#xFF1A;&#x4F60;&#x8FD8;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x662F;&#x5426;&#x5FFD;&#x7565; URL &#x4E2D;&#x7684;&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#xFF08;&#x4F8B;&#x5982; <code>?version=1.2</code>&#xFF09;&#x3002;&#x5BF9;&#x4E8E;&#x9759;&#x6001;&#x8D44;&#x6E90;&#xFF0C;&#x901A;&#x5E38;&#x5EFA;&#x8BAE;&#x201C;&#x5FFD;&#x7565;&#x6240;&#x6709;&#x53C2;&#x6570;&#x201D;&#x8FDB;&#x884C;&#x7F13;&#x5B58;&#xFF0C;&#x8FD9;&#x6837; <code>style.css?v=1</code> &#x548C; <code>style.css?v=2</code> &#x4F1A;&#x88AB;&#x89C6;&#x4E3A;&#x540C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x63D0;&#x9AD8;&#x7F13;&#x5B58;&#x547D;&#x4E2D;&#x7387;&#x3002;</li>
</ul>
</li>
</ul>
<h4 id="4-&#x914D;&#x7F6E;-HTTPS-&#x4FDD;&#x8BC1;&#x5B89;&#x5168;"><a href="#4-&#x914D;&#x7F6E;-HTTPS-&#x4FDD;&#x8BC1;&#x5B89;&#x5168;" class="headerlink" title="4. &#x914D;&#x7F6E; HTTPS (&#x4FDD;&#x8BC1;&#x5B89;&#x5168;)"></a>4. &#x914D;&#x7F6E; HTTPS (&#x4FDD;&#x8BC1;&#x5B89;&#x5168;)</h4><p>&#x73B0;&#x5728;&#x6240;&#x6709;&#x7F51;&#x7AD9;&#x90FD;&#x5E94;&#x8BE5;&#x662F; HTTPS &#x7684;&#x3002;&#x4F60;&#x9700;&#x8981;&#x4E3A;&#x4F60;&#x7684; CDN &#x52A0;&#x901F;&#x57DF;&#x540D;&#x914D;&#x7F6E; SSL/TLS &#x8BC1;&#x4E66;&#x3002;</p>
<ul>
<li><strong>&#x5E38;&#x89C1;&#x7684;&#x9009;&#x9879;&#xFF1A;</strong><ol>
<li><strong>&#x514D;&#x8D39;&#x901A;&#x7528;&#x8BC1;&#x4E66;</strong>&#xFF1A;&#x7EDD;&#x5927;&#x591A;&#x6570; CDN &#x670D;&#x52A1;&#x5546;&#xFF08;&#x5982; Cloudflare&#xFF09;&#x4F1A;&#x81EA;&#x52A8;&#x63D0;&#x4F9B;&#x514D;&#x8D39;&#x7684; SSL &#x8BC1;&#x4E66;&#xFF0C;&#x8FD9;&#x662F;&#x6700;&#x7B80;&#x5355;&#x65B9;&#x4FBF;&#x7684;&#x9009;&#x62E9;&#x3002;</li>
<li><strong>&#x4E0A;&#x4F20;&#x81EA;&#x6709;&#x8BC1;&#x4E66;</strong>&#xFF1A;&#x5982;&#x679C;&#x4F60;&#x6709;&#x81EA;&#x5DF1;&#x8D2D;&#x4E70;&#x7684;&#x8BC1;&#x4E66;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0A;&#x4F20;&#x5230; CDN &#x63A7;&#x5236;&#x53F0;&#x3002;</li>
</ol>
</li>
<li><strong>SSL &#x6A21;&#x5F0F;</strong>&#xFF1A;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5173;&#x4E8E;&#x201C;CDN &#x5230;&#x6E90;&#x7AD9;&#x201D;&#x8FDE;&#x63A5;&#x5B89;&#x5168;&#x6027;&#x7684;&#x91CD;&#x8981;&#x8BBE;&#x7F6E;&#x3002;<ul>
<li>Flexible (&#x7075;&#x6D3B;)&#xFF1A;&#x7528;&#x6237; -&gt; CDN &#x662F;&#x52A0;&#x5BC6;&#x7684;&#xFF0C;&#x4F46; CDN -&gt; &#x6E90;&#x7AD9; &#x662F;&#x4E0D;&#x52A0;&#x5BC6;&#x7684; (HTTP)&#x3002;<strong>&#x4E0D;&#x63A8;&#x8350;</strong>&#xFF0C;&#x4E0D;&#x5B89;&#x5168;&#x3002;</li>
<li>Full (&#x5B8C;&#x5168;)&#xFF1A;&#x7528;&#x6237; -&gt; CDN &#x662F;&#x52A0;&#x5BC6;&#x7684;&#xFF0C;CDN -&gt; &#x6E90;&#x7AD9; &#x4E5F;&#x662F;&#x52A0;&#x5BC6;&#x7684;&#xFF0C;&#x4F46; CDN &#x4E0D;&#x4F1A;&#x9A8C;&#x8BC1;&#x4F60;&#x6E90;&#x7AD9;&#x8BC1;&#x4E66;&#x7684;&#x6709;&#x6548;&#x6027;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x5141;&#x8BB8;&#x81EA;&#x7B7E;&#x540D;&#x8BC1;&#x4E66;&#xFF09;&#x3002;</li>
<li>Full (Strict) (&#x5B8C;&#x5168;-&#x4E25;&#x683C;)&#xFF1A;&#x4E24;&#x7AEF;&#x90FD;&#x52A0;&#x5BC6;&#xFF0C;&#x5E76;&#x4E14; CDN &#x4F1A;&#x4E25;&#x683C;&#x9A8C;&#x8BC1;&#x4F60;&#x7684;&#x6E90;&#x7AD9;&#x62E5;&#x6709;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684;&#x3001;&#x53D7;&#x4FE1;&#x4EFB;&#x7684; SSL &#x8BC1;&#x4E66;&#x3002;<strong>&#x8FD9;&#x662F;&#x6700;&#x5B89;&#x5168;&#x3001;&#x6700;&#x63A8;&#x8350;&#x7684;&#x6A21;&#x5F0F;&#x3002;</strong></li>
</ul>
</li>
</ul>
<h4 id="5-&#x5207;&#x6362;-DNS&#xFF0C;&#x6B63;&#x5F0F;&#x542F;&#x7528;-CDN"><a href="#5-&#x5207;&#x6362;-DNS&#xFF0C;&#x6B63;&#x5F0F;&#x542F;&#x7528;-CDN" class="headerlink" title="5. &#x5207;&#x6362; DNS&#xFF0C;&#x6B63;&#x5F0F;&#x542F;&#x7528; CDN"></a>5. &#x5207;&#x6362; DNS&#xFF0C;&#x6B63;&#x5F0F;&#x542F;&#x7528; CDN</h4><p>&#x5F53;&#x4F60;&#x5B8C;&#x6210;&#x4EE5;&#x4E0A;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x5E76;&#x4FDD;&#x5B58;&#x540E;&#xFF0C;CDN &#x670D;&#x52A1;&#x5546;&#x4F1A;&#x63D0;&#x4F9B;&#x7ED9;&#x4F60;&#x4E00;&#x4E2A;&#x4E13;&#x5C5E;&#x7684; CNAME &#x5730;&#x5740;&#x3002;</p>
<ol>
<li><p>CDN &#x670D;&#x52A1;&#x5546;&#x4F1A;&#x7ED9;&#x4F60;&#x4E00;&#x4E2A; CNAME &#x5730;&#x5740;&#xFF0C;&#x4F8B;&#x5982; <code>www.my-awesome-app.com.cdn.cloudflare.net</code>&#x3002;</p>
</li>
<li><p>&#x767B;&#x5F55;&#x4F60;&#x7684;&#x57DF;&#x540D;&#x6CE8;&#x518C;&#x5546;&#xFF08;&#x4F8B;&#x5982; GoDaddy, NameSilo, &#x817E;&#x8BAF;&#x4E91;/&#x963F;&#x91CC;&#x4E91;&#x7684;&#x57DF;&#x540D;&#x670D;&#x52A1;&#xFF09;&#x3002;</p>
</li>
<li><p>&#x627E;&#x5230; <code>www.my-awesome-app.com</code> &#x8FD9;&#x6761;&#x57DF;&#x540D;&#x7684; DNS &#x89E3;&#x6790;&#x8BBE;&#x7F6E;&#x3002;</p>
</li>
<li><p>&#x5C06;&#x5176;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x4ECE; <code>A</code> &#x4FEE;&#x6539;&#x4E3A; <code>CNAME</code>&#xFF0C;&#x5E76;&#x5C06;&#x8BB0;&#x5F55;&#x503C;&#x6307;&#x5411; CDN &#x63D0;&#x4F9B;&#x7ED9;&#x4F60;&#x7684;&#x90A3;&#x4E2A;&#x5730;&#x5740;&#x3002;</p>
</li>
<li><p>&#x4FDD;&#x5B58;&#x8BBE;&#x7F6E;&#x3002;DNS &#x66F4;&#x65B0;&#x901A;&#x5E38;&#x9700;&#x8981;&#x51E0;&#x5206;&#x949F;&#x5230;&#x51E0;&#x5C0F;&#x65F6;&#x624D;&#x80FD;&#x5168;&#x7403;&#x751F;&#x6548;&#x3002;</p>
</li>
</ol>
]]></content>
      <tags>
        <tag>Frontend</tag>
      </tags>
  </entry>
  <entry>
    <title>Unix Philosophy</title>
    <url>/2025/02/16/Jottings/2025/2025-02-18-first-journal/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote>
<p>The Unix philosophy (as opposed to Unix itself) is one that emphasizes linguistic abstraction and composition in order to effect computation.</p>
</blockquote>
<h1 id="linguistic-abstraction"><a href="#linguistic-abstraction" class="headerlink" title="linguistic abstraction"></a>linguistic abstraction</h1><ul>
<li>break down a complex computational tasks into simple, clear linguistic components</li>
<li>Creating tools that are focused into doing something exclusively<br><strong>&#x6781;&#x7B80;&#x4E3B;&#x4E49;</strong>&#xFF08;Minimalist&#xFF09;</li>
</ul>
<h1 id="composition"><a href="#composition" class="headerlink" title="composition"></a>composition</h1><ul>
<li>Allowing simple tools to be connected through pipes and redirections</li>
<li>Enabling complex tasks to be accomplished by combining small, specialized tools</li>
<li>Promoting modularity and flexibility in system design</li>
</ul>
<h1 id="Effecting-Computation"><a href="#Effecting-Computation" class="headerlink" title="Effecting Computation"></a>Effecting Computation</h1><ul>
<li>The ultimate goal is to solve computational problems efficiently and elegantly</li>
<li>Achieving complex operations through the intelligent combination of simple tools</li>
</ul>
<h1 id="Technical-communication"><a href="#Technical-communication" class="headerlink" title="Technical communication"></a>Technical communication</h1><ul>
<li>Lone wolves in computer science are an endangered species.</li>
<li>Modern computer scientists must practice persuasively and clearly communicating their ideas to non-programmers.</li>
</ul>
<h1 id="Sum"><a href="#Sum" class="headerlink" title="Sum"></a>Sum</h1><ul>
<li><strong>Each tool does one specific task</strong></li>
<li><strong>Tools are connected through pipes</strong></li>
<li><strong>Complex functionality emerges from simple tool composition</strong></li>
<li><strong>Convey ideas</strong></li>
</ul>
]]></content>
      <tags>
        <tag>Jottings</tag>
      </tags>
  </entry>
</search>
