<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/dog-solid-24.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/dog-solid-24.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/dog-solid-24.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.loli.net/css?family=Georgia,Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"tju-tomorrow.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="goroutine&#x548C;channel&#x662F; Go &#x8BED;&#x8A00;&#x7684;&#x7075;&#x9B42;">
<meta property="og:type" content="article">
<meta property="og:title" content="goroutine和channel">
<meta property="og:url" content="https://tju-tomorrow.github.io/2025/11/02/2025-11-02-Goroutinue-and-Channel/index.html">
<meta property="og:site_name" content="Chenkaixuan&#39;s Blog">
<meta property="og:description" content="goroutine&#x548C;channel&#x662F; Go &#x8BED;&#x8A00;&#x7684;&#x7075;&#x9B42;">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-11-01T16:00:00.000Z">
<meta property="article:modified_time" content="2025-11-13T19:01:13.862Z">
<meta property="article:author" content="Victor Chen">
<meta property="article:tag" content="Go">
<meta property="article:tag" content="Backend">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://tju-tomorrow.github.io/2025/11/02/2025-11-02-Goroutinue-and-Channel/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>goroutine和channel | Chenkaixuan's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <script>
    NexT.CONFIG.blog_show_image = '/images/meditate.jpg';
  </script>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Chenkaixuan's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Embrace The Grind <br> Leave It All To God</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-personal">

    <a href="/personal/" rel="section"><i class="fa fa-user fa-fw"></i>个人简介</a>

  </li>
        <li class="menu-item menu-item-jottings">

    <a href="/Jottings/" rel="section"><i class="fa fa-book fa-fw"></i>随笔</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-guestbook">

    <a href="/guestbook/" rel="section"><i class="fa fa-comments fa-fw"></i>留言板</a>

  </li>
        <li class="menu-item menu-item-recommand">

    <a href="/Recommand/" rel="section"><i class="fa fa-bookmark fa-fw"></i>Recommand</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tju-tomorrow.github.io/2025/11/02/2025-11-02-Goroutinue-and-Channel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Selfie.jpg">
      <meta itemprop="name" content="Victor Chen">
      <meta itemprop="description" content="Victor Chen's English Blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chenkaixuan's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          goroutine和channel
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-11-02 00:00:00" itemprop="dateCreated datePublished" datetime="2025-11-02T00:00:00+08:00">2025-11-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-11-14 03:01:13" itemprop="dateModified" datetime="2025-11-14T03:01:13+08:00">2025-11-14</time>
              </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body post-body-full" itemprop="articleBody">

      
        <p><code>goroutine</code> &#x548C; <code>channel</code> &#x662F; Go &#x8BED;&#x8A00;&#x7684;<strong>&#x7075;&#x9B42;</strong>&#x3002;</p>
<p>&#x6240;&#x6709;&#x6211;&#x4EEC;&#x8C08;&#x8BBA;&#x7684;&#x2014;&#x2014;&#x4E3A;&#x4EC0;&#x4E48; Go &#x88AB;&#x53D1;&#x660E;&#x3001;&#x5B83;&#x5982;&#x4F55;&#x89E3;&#x51B3;&#x201C;&#x591A;&#x6838; CPU&#x201D;&#x95EE;&#x9898;&#x2014;&#x2014;&#x90FD;&#x6C47;&#x805A;&#x5728;&#x4E86;&#x8FD9;&#x4E24;&#x4E2A;&#x6982;&#x5FF5;&#x4E0A;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x5148;&#x770B;&#x201C;&#x6CA1;&#x6709;&#x5E76;&#x53D1;&#x201D;&#x7684;&#x4E16;&#x754C;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x3002;</p>
<hr>
<h3 id="&#x95EE;&#x9898;&#xFF1A;&#x4EE3;&#x7801;&#x662F;&#x201C;&#x4E00;&#x6839;&#x7B4B;&#x201D;&#x7684;-Sequential"><a href="#&#x95EE;&#x9898;&#xFF1A;&#x4EE3;&#x7801;&#x662F;&#x201C;&#x4E00;&#x6839;&#x7B4B;&#x201D;&#x7684;-Sequential" class="headerlink" title="&#x95EE;&#x9898;&#xFF1A;&#x4EE3;&#x7801;&#x662F;&#x201C;&#x4E00;&#x6839;&#x7B4B;&#x201D;&#x7684; (Sequential)"></a>&#x95EE;&#x9898;&#xFF1A;&#x4EE3;&#x7801;&#x662F;&#x201C;&#x4E00;&#x6839;&#x7B4B;&#x201D;&#x7684; (Sequential)</h3><p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F60;&#x7684; <code>func main()</code> &#x662F;&#x4E00;&#x4E2A;&#x201C;&#x5DE5;&#x4EBA;&#x201D;&#x3002;&#x5B83;<strong>&#x4E25;&#x683C;&#x5730;</strong>&#x6309;&#x7167;&#x4F60;&#x5199;&#x7684;&#x4EE3;&#x7801;&#xFF0C;<strong>&#x4E00;&#x884C;&#x4E00;&#x884C;</strong>&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x4E14;<strong>&#x5FC5;&#x987B;&#x7B49;&#x4E0A;&#x4E00;&#x884C;&#x505A;&#x5B8C;</strong>&#xFF0C;&#x624D;&#x80FD;&#x505A;&#x4E0B;&#x4E00;&#x884C;&#x3002;</p>
<blockquote>
<p>&#x4F8B;&#x5982;&#xFF0C;&#x4E00;&#x4E2A;&#x201C;&#x5F88;&#x6162;&#x201D;&#x7684;&#x7A0B;&#x5E8F;&#xFF1A;</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span> </span><br><span class="line">)</span><br><span class="line"><span class="comment">//time.Sleep(&#x65F6;&#x95F4;)&#x6765;&#x8BA9;&#x7A0B;&#x5E8F;&#x7761;&#x89C9;</span></span><br><span class="line"><span class="comment">// (&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684;&#x3001;&#x5F88;&#x6162;&#x7684;&#x51FD;&#x6570;)</span></span><br><span class="line">func <span class="title function_">doSomethingSlow</span>(<span class="params"></span>) {</span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;  (B) &#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF1A;&#x5F00;&#x59CB;... (&#x9700;&#x8981;&#x7761;2&#x79D2;)&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// time.Sleep &#x4F1A;&#x201C;&#x963B;&#x585E;&#x201D;&#xFF1A;</span></span><br><span class="line">    <span class="comment">// &#x5B83;&#x4F1A;&#x5361;&#x4F4F;&#xFF0C;&#x76F4;&#x5230;2&#x79D2;&#x949F;&#x8FC7;&#x53BB;</span></span><br><span class="line">    time.<span class="title class_">Sleep</span>(<span class="number">2</span> * time.<span class="property">Second</span>)</span><br><span class="line">    </span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;  (C) &#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF1A;&#x5B8C;&#x6210;&#xFF01;&quot;</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">func <span class="title function_">main</span>(<span class="params"></span>) {</span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;(A) Main&#xFF1A;&#x5F00;&#x59CB;&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (1) &#x8C03;&#x7528;&#x201C;&#x6162;&#x901F;&#x51FD;&#x6570;&#x201D;</span></span><br><span class="line">    <span class="title function_">doSomethingSlow</span>() </span><br><span class="line"></span><br><span class="line">    <span class="comment">// (2) &#x53EA;&#x6709;&#x7B49; doSomethingSlow() &#x5F7B;&#x5E95;&#x5B8C;&#x6210;&#x540E;,</span></span><br><span class="line">    <span class="comment">// (3) &#x8FD9;&#x4E00;&#x884C;&#x624D;&#x80FD;&#x88AB;&#x6267;&#x884C;</span></span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;(D) Main&#xFF1A;&#x7ED3;&#x675F;&quot;</span>)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>&#x8FD0;&#x884C;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#xFF0C;&#xFF08;&#x6267;&#x884C;&#x987A;&#x5E8F;&#xFF09;&#x662F;&#xFF1A;</strong></p>
<ol>
<li><strong>&#x65F6;&#x523B; 0:</strong> &#x6253;&#x5370; <code>(A) Main&#xFF1A;&#x5F00;&#x59CB;</code></li>
<li><strong>&#x65F6;&#x523B; 0:</strong> &#x8C03;&#x7528; <code>doSomethingSlow()</code></li>
<li><strong>&#x65F6;&#x523B; 0:</strong> &#x6253;&#x5370;  <code>(B) &#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF1A;&#x5F00;&#x59CB;...</code></li>
<li><strong>&#x65F6;&#x523B; 0:</strong> &#x6267;&#x884C; <code>time.Sleep(2 * time.Second)</code> &#x2026; <strong>&#x7A0B;&#x5E8F;&#x5361;&#x4F4F; 2 &#x79D2;</strong> &#x2026;</li>
<li>&#x2026; (1&#x79D2;&#x8FC7;&#x53BB;&#x4E86;) &#x2026;</li>
<li>&#x2026; (2&#x79D2;&#x8FC7;&#x53BB;&#x4E86;) &#x2026;</li>
<li><strong>&#x65F6;&#x523B; 2:</strong> &#x6253;&#x5370;  <code>(C) &#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF1A;&#x5B8C;&#x6210;&#xFF01;</code></li>
<li><strong>&#x65F6;&#x523B; 2:</strong> <code>doSomethingSlow()</code> &#x51FD;&#x6570;&#x8FD4;&#x56DE;</li>
<li><strong>&#x65F6;&#x523B; 2:</strong> &#x6253;&#x5370; <code>(D) Main&#xFF1A;&#x7ED3;&#x675F;</code></li>
</ol>
<p><strong>&#x7ED3;&#x8BBA;&#xFF1A;</strong> <code>main</code> &#x51FD;&#x6570;&#xFF08;&#x4E3B;&#x5DE5;&#x4EBA;&#xFF09;&#x82B1;&#x4E86; 2 &#x79D2;&#x949F;<strong>&#x50BB;&#x7B49;</strong> <code>doSomethingSlow</code>&#xFF08;&#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF09;&#x3002;&#x5982;&#x679C; <code>(D)</code> &#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x4EFB;&#x52A1;&#xFF08;&#x6BD4;&#x5982;&#x663E;&#x793A;&#x7F51;&#x9875;&#xFF09;&#xFF0C;&#x7528;&#x6237;&#x5C31;&#x5F97;&#x5361; 2 &#x79D2;&#x3002;</p>
<hr>
<h3 id="Goroutine-The-Worker-&#x5DE5;&#x4EBA;"><a href="#Goroutine-The-Worker-&#x5DE5;&#x4EBA;" class="headerlink" title="Goroutine (The Worker - &#x5DE5;&#x4EBA;)"></a>Goroutine (The Worker - &#x5DE5;&#x4EBA;)</h3><ul>
<li><strong>&#x6838;&#x5FC3;&#x6982;&#x5FF5;&#xFF1A;</strong> <code>goroutine</code> &#x5C31;&#x662F; Go &#x8BED;&#x8A00;&#x7684;&#x201C;<strong>&#x8F7B;&#x91CF;&#x7EA7;&#x5DE5;&#x4EBA;</strong>&#x201D;&#x3002;</li>
<li><strong>&#x5982;&#x4F55;&#x521B;&#x5EFA;&#xFF1A;</strong> &#x6781;&#x5176;&#x7B80;&#x5355;&#xFF0C;&#x5728;&#x4EFB;&#x4F55;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x524D;&#xFF0C;&#x52A0;&#x4E0A; <code>go</code> &#x5173;&#x952E;&#x5B57;&#x3002;<br>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;goroutinue&#x534F;&#x7A0B;&#x5C31;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x524D;&#x52A0;&#x4E0A;go&#x5173;&#x952E;&#x5B57; &#x800C;&#x4E0D;&#x662F;&#x51FD;&#x6570;&#x5B9A;&#x4E49;<br>goroutinue&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1; &#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x65F6;&#x51FD;&#x6570;</li>
<li><strong>&#x5B83;&#x505A;&#x4EC0;&#x4E48;&#xFF1A;</strong> <code>go myFunction()</code> &#x7684;&#x610F;&#x601D;&#x662F;&#xFF1A;&#x201C;<strong>&#x96C7;&#x4F63;&#x4E00;&#x4E2A;&#x65B0;&#x5DE5;&#x4EBA;</strong>&#xFF0C;&#x8BA9;<strong>&#x4ED6;</strong>&#x53BB;&#x6267;&#x884C; <code>myFunction</code>&#x3002;&#x6211;&#xFF08;<code>main</code> &#x5DE5;&#x4EBA;&#xFF09;<strong>&#x4E0D;</strong>&#x7B49;&#x4ED6;&#xFF0C;&#x6211;<strong>&#x7ACB;&#x523B;</strong>&#x53BB;&#x505A;&#x4E0B;&#x4E00;&#x4EF6;&#x4E8B;&#x3002;&#x201D;<br><strong>&#x5C31;&#x6709;&#x70B9;&#x50CF;async</strong></li>
</ul>
<h3 id="1-&#x4F7F;&#x7528;-go-&#x5173;&#x952E;&#x5B57;"><a href="#1-&#x4F7F;&#x7528;-go-&#x5173;&#x952E;&#x5B57;" class="headerlink" title="1. &#x4F7F;&#x7528; go &#x5173;&#x952E;&#x5B57;"></a>1. &#x4F7F;&#x7528; <code>go</code> &#x5173;&#x952E;&#x5B57;</h3><p>&#x6211;&#x4EEC;&#x628A;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x6539;&#x4E00;&#x4E0B;&#xFF0C;&#x53EA;&#x52A0;&#x4E00;&#x4E2A; <code>go</code> &#x5173;&#x952E;&#x5B57;&#xFF1A;</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func <span class="title function_">doSomethingSlow</span>(<span class="params"></span>) {</span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;  (B) &#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF1A;&#x5F00;&#x59CB;... (&#x9700;&#x8981;&#x7761;2&#x79D2;)&quot;</span>)</span><br><span class="line">    time.<span class="title class_">Sleep</span>(<span class="number">2</span> * time.<span class="property">Second</span>)</span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;  (C) &#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF1A;&#x5B8C;&#x6210;&#xFF01;&quot;</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">func <span class="title function_">main</span>(<span class="params"></span>) {</span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;(A) Main&#xFF1A;&#x5F00;&#x59CB;&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x1F6A9; &#x5173;&#x952E;&#x6539;&#x52A8;&#xFF1A;</span></span><br><span class="line">    <span class="comment">// (1) &#x96C7;&#x4F63;&#x4E00;&#x4E2A;&#x201C;&#x65B0;&#x5DE5;&#x4EBA;&#x201D;&#xFF08;goroutine&#xFF09;</span></span><br><span class="line">    <span class="comment">// (2) &#x53BB;&#x6267;&#x884C; doSomethingSlow()</span></span><br><span class="line">    go <span class="title function_">doSomethingSlow</span>() </span><br><span class="line"></span><br><span class="line">    <span class="comment">// (3) &#x201C;&#x6211;&#x201D;&#xFF08;main &#x5DE5;&#x4EBA;&#xFF09;&#x4E0D;&#x7B49;&#x5F85;&#xFF01;</span></span><br><span class="line">    <span class="comment">// (4) &#x6211;&#x7ACB;&#x523B;&#x6267;&#x884C;&#x4E0B;&#x4E00;&#x884C;</span></span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;(D) Main&#xFF1A;&#x7ED3;&#x675F;&quot;</span>)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>&#x8FD0;&#x884C;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#xFF0C;&#x4F60;&#x4F1A;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x201C;&#x5947;&#x602A;&#x7684;&#x201D;&#x7ED3;&#x679C;&#xFF1A;</strong></p>
<p><code>(A) Main&#xFF1A;&#x5F00;&#x59CB; (D) Main&#xFF1A;&#x7ED3;&#x675F;</code></p>
<p><strong>&#x2026; <code>(B)</code> &#x548C; <code>(C)</code> &#x54EA;&#x91CC;&#x53BB;&#x4E86;&#xFF1F;</strong></p>
<p> (Data Flow) &#x89E3;&#x91CA; ()&#xFF1A;</p>
<ol>
<li><strong>&#x65F6;&#x523B; 0.000:</strong> <code>main</code> &#x5DE5;&#x4EBA;&#x6253;&#x5370; <code>(A) Main&#xFF1A;&#x5F00;&#x59CB;</code>&#x3002;</li>
<li><strong>&#x65F6;&#x523B; 0.001:</strong> <code>main</code> &#x5DE5;&#x4EBA;&#x6267;&#x884C; <code>go doSomethingSlow()</code>&#x3002;<ul>
<li>Go &#x8BED;&#x8A00;&#x8FD0;&#x884C;&#x65F6;&#xFF08;Runtime&#xFF09;<strong>&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x5168;&#x65B0;&#x7684; Goroutine</strong>&#xFF08;&#x6211;&#x4EEC;&#x53EB;&#x4ED6;&#x201C;&#x5DE5;&#x4EBA;G&#x201D;&#xFF09;&#x3002;</li>
<li>&#x201C;&#x5DE5;&#x4EBA;G&#x201D;&#x51C6;&#x5907;&#x53BB;&#x6267;&#x884C; <code>doSomethingSlow()</code>&#x3002;</li>
</ul>
</li>
<li><strong>&#x65F6;&#x523B; 0.002:</strong> <code>main</code> &#x5DE5;&#x4EBA;&#xFF08;<strong>&#x4E0D;&#x7B49;&#x5F85;&#xFF01;</strong>&#xFF09;&#x7ACB;&#x523B;&#x6267;&#x884C;&#x4E0B;&#x4E00;&#x884C;&#xFF0C;&#x6253;&#x5370; <code>(D) Main&#xFF1A;&#x7ED3;&#x675F;</code>&#x3002;</li>
<li><strong>&#x65F6;&#x523B; 0.003:</strong> <code>main</code> &#x51FD;&#x6570;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x3002;</li>
</ol>
<p><strong>&#x1F6A9; Go &#x8BED;&#x8A00;&#x6709;&#x4E00;&#x4E2A;&#x89C4;&#x5219;&#xFF1A;</strong><br>main&#x51FD;&#x6570;&#x9000;&#x51FA;return&#x65F6; &#x6574;&#x4E2A;&#x7A0B;&#x5E8F;&#x4F1A;&#x7ACB;&#x5373;&#x4E2D;&#x6B62; &#x6240;&#x6709;&#x5176;&#x4ED6;&#x5728;&#x5DE5;&#x4F5C;&#x7684;goroutinue&#x90FD;&#x4F1A;&#x88AB;&#x7ACB;&#x523B;&#x6740;&#x6B7B;</p>
<h3 id="&#x4FEE;&#x6B63;&#xFF1A;&#x8BA9;-main-&#x7B49;&#x5F85;"><a href="#&#x4FEE;&#x6B63;&#xFF1A;&#x8BA9;-main-&#x7B49;&#x5F85;" class="headerlink" title="&#x4FEE;&#x6B63;&#xFF1A;&#x8BA9; main &#x7B49;&#x5F85;"></a>&#x4FEE;&#x6B63;&#xFF1A;&#x8BA9; <code>main</code> &#x7B49;&#x5F85;</h3><p>( *&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x201C;&#x9519;&#x8BEF;&#x201D;&#x7684;&#x4FEE;&#x6B63;&#xFF0C;&#x4F46;&#x5B83;&#x80FD;&#x5E2E;&#x7406;&#x89E3;&#x6982;&#x5FF5;&#x3002;&#x7A0D;&#x540E;&#x4F1A;&#x7528; <code>channel</code> &#x6765;&#x201C;&#x6B63;&#x786E;&#x201D;&#x5730;&#x4FEE;&#x6B63;&#x5B83; )</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">func <span class="title function_">main</span>(<span class="params"></span>) {</span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;(A) Main&#xFF1A;&#x5F00;&#x59CB;&quot;</span>)</span><br><span class="line"></span><br><span class="line">    go <span class="title function_">doSomethingSlow</span>() <span class="comment">// &#x96C7;&#x4F63;&#x201C;&#x5DE5;&#x4EBA;G&#x201D;</span></span><br><span class="line"></span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;(D) Main&#xFF1A;&#x6211;&#xFF08;main&#xFF09;&#x5047;&#x88C5;&#x7B49;3&#x79D2;&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// (1) main &#x5DE5;&#x4EBA;&#x5F3A;&#x884C;&#x201C;&#x7761;&#x89C9;&#x201D;3&#x79D2;</span></span><br><span class="line">    <span class="comment">// (2) &#x5728;&#x8FD9;3&#x79D2;&#x5185;&#xFF0C;&#x201C;&#x5DE5;&#x4EBA;G&#x201D;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x65F6;&#x95F4;&#x53BB;&#x5DE5;&#x4F5C;</span></span><br><span class="line">    time.<span class="title class_">Sleep</span>(<span class="number">3</span> * time.<span class="property">Second</span>)</span><br><span class="line"></span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;(E) Main&#xFF1A;&#x7ED3;&#x675F;&quot;</span>)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>&#x8FD9;&#x6B21;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF1A;</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(A) <span class="title class_">Main</span>&#xFF1A;&#x5F00;&#x59CB;</span><br><span class="line">(D) <span class="title class_">Main</span>&#xFF1A;&#x6211;&#xFF08;main&#xFF09;&#x5047;&#x88C5;&#x7B49;<span class="number">3</span>&#x79D2;</span><br><span class="line">  (B) &#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF1A;&#x5F00;&#x59CB;... (&#x9700;&#x8981;&#x7761;<span class="number">2</span>&#x79D2;)</span><br><span class="line">  (C) &#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF1A;&#x5B8C;&#x6210;&#xFF01;</span><br><span class="line">(E) <span class="title class_">Main</span>&#xFF1A;&#x7ED3;&#x675F;</span><br></pre></td></tr></table></figure>

<p><em>(&#x6CE8;&#x610F;&#xFF1A;<code>(B)</code> &#x548C; <code>(D)</code> &#x7684;&#x987A;&#x5E8F;&#x53EF;&#x80FD;&#x662F;&#x53CD;&#x7684;&#xFF0C;&#x56E0;&#x4E3A; <code>main</code> &#x548C; <code>&#x5DE5;&#x4EBA;G</code> &#x662F;<strong>&#x540C;&#x65F6;&#x5728;&#x8DD1;</strong>&#xFF01;)</em></p>
<p>&#x4F46;&#x7528;time.Sleep&#x6765;&#x7B49;goroutinue&#x6267;&#x884C;&#x663E;&#x7136;&#x4E0D;&#x5408;&#x7406; &#x53EA;&#x662F;&#x8BA9;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;</p>
<p>&#x770B;&#x5230;&#x6CA1; goroutinue&#x5728;&#x53E6;&#x5916;&#x4E00;&#x4E2A;CPU core&#x91CC;&#x6267;&#x884C;</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  <span class="variable constant_">CPU</span> &#x6838;&#x5FC3; <span class="number">1</span> (<span class="title class_">Core</span> <span class="number">1</span>)          <span class="variable constant_">CPU</span> &#x6838;&#x5FC3; <span class="number">2</span> (<span class="title class_">Core</span> <span class="number">2</span>)</span><br><span class="line">+-------------------------+   +-------------------------+</span><br><span class="line">| (A) main &#x6253;&#x5370;           |   |                         |</span><br><span class="line">| (D) main &#x6253;&#x5370;           |   | (B) &#x5DE5;&#x4EBA;G &#x6253;&#x5370;          |</span><br><span class="line">| ( ) main &#x5F00;&#x59CB;&#x7761;&#x89C9;(<span class="number">3</span>&#x79D2;)  |   | ( ) &#x5DE5;&#x4EBA;G &#x5F00;&#x59CB;&#x7761;&#x89C9;(<span class="number">2</span>&#x79D2;) |</span><br><span class="line">| ( ) ...                 |   | ( ) ...                 |</span><br><span class="line">| ( ) ...                 |   | (C) &#x5DE5;&#x4EBA;G &#x6253;&#x5370;          |</span><br><span class="line">| (E) main &#x7761;&#x9192;, &#x6253;&#x5370;     |   | ( ) &#x5DE5;&#x4EBA;G &#x7ED3;&#x675F;          |</span><br><span class="line">| ( ) main &#x9000;&#x51FA;           |   |                         |</span><br><span class="line">+-------------------------+   +-------------------------+</span><br></pre></td></tr></table></figure>

<h3 id="Goroutine-vs-OS-Thread-&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EBF;&#x7A0B;"><a href="#Goroutine-vs-OS-Thread-&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EBF;&#x7A0B;" class="headerlink" title="Goroutine vs. OS Thread (&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EBF;&#x7A0B;)"></a>Goroutine vs. OS Thread (&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EBF;&#x7A0B;)</h3><p>&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x76F4;&#x63A5;&#x7528;&#x201C;&#x7EBF;&#x7A0B;&#x201D;&#xFF1F;<strong>&#x4E3A;&#x4EC0;&#x4E48;</strong> Go &#x8981;&#x53D1;&#x660E; <code>goroutine</code>&#xFF1F;</p>
<p><strong>&#x6211;&#x5148;&#x7528;&#x82F1;&#x6587;&#x89E3;&#x91CA; (English Explanation):</strong></p>
<blockquote>
<p>An OS Thread (like in Java or C++) is heavy. It&#x2019;s managed by the Operating System kernel. Creating one takes significant time and memory (e.g., 1MB stack). You can only have a few thousand threads before the OS crashes.</p>
<p>A <strong>Goroutine</strong> is <strong>extremely lightweight</strong>. It&#x2019;s managed by the <strong>Go Runtime</strong> (not the OS). It starts with a tiny stack (e.g., 2KB). You can easily have <strong>millions</strong> of goroutines running. The Go Runtime &#x201C;multiplexes&#x201D; (M:N scheduling) these millions of goroutines onto a few OS Threads.<br>&#x534F;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;/&#x8FDB;&#x7A0B;&#x7684;&#x7BA1;&#x7406;&#x8005;&#x4E0D;&#x4E00;&#x6837; &#x534F;&#x7A0B;&#x662F;&#x7531;Go Runtime&#x6765;&#x7BA1;&#x7406;</p>
</blockquote>
<ul>
<li><strong>OS Thread (&#x7EBF;&#x7A0B;):</strong><ul>
<li><strong>&#x8FD9;&#x6307;&#x7684;&#x662F;&#xFF1A;</strong> Java/C++ &#x91CC;&#x7684;&#x201C;&#x5DE5;&#x4EBA;&#x201D;&#x3002;</li>
<li><strong>&#x95EE;&#x9898;&#xFF1A;</strong> &#x5B83;&#x662F;<strong>&#x91CD;&#x91CF;&#x7EA7; (heavy)</strong> &#x7684;&#x3002;&#x5B83;&#x7531;&#x201C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x201D;&#xFF08;Windows/Mac/Linux&#xFF09;<strong>&#x5185;&#x6838;</strong>&#x76F4;&#x63A5;&#x7BA1;&#x7406;&#x3002;</li>
<li><strong>&#x4F8B;&#x5982;&#xFF1A;</strong> &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x201C;&#x7EBF;&#x7A0B;&#x201D;&#x9700;&#x8981;&#x5F88;&#x591A;&#x5185;&#x5B58;&#xFF08;&#x6BD4;&#x5982; 1MB&#xFF09;&#xFF0C;&#x800C;&#x4E14;&#x5F88;&#x6162;&#x3002;&#x4F60;&#x7684;&#x7535;&#x8111;&#x53EF;&#x80FD;&#x53EA;&#x80FD;&#x8DD1;&#x51E0;&#x5343;&#x4E2A;&#x201C;&#x7EBF;&#x7A0B;&#x201D;&#x5C31;&#x4F1A;&#x6B7B;&#x673A;&#x3002;</li>
</ul>
</li>
<li><strong>Goroutine (Go &#x7684;&#x5DE5;&#x4EBA;):</strong><ul>
<li><strong>&#x8FD9;&#x6307;&#x7684;&#x662F;&#xFF1A;</strong> Go &#x7684;&#x201C;&#x5DE5;&#x4EBA;&#x201D;&#x3002;</li>
<li><strong>&#x4F18;&#x52BF;&#xFF1A;</strong> &#x5B83;&#x662F;<strong>&#x6781;&#x5176;&#x8F7B;&#x91CF;&#x7EA7; (lightweight)</strong> &#x7684;&#x3002;</li>
<li><strong>&#x4F8B;&#x5982;&#xFF1A;</strong> &#x5B83;&#x7531; <strong>Go &#x8FD0;&#x884C;&#x65F6; (Go Runtime)</strong> &#x7BA1;&#x7406;&#xFF08;Go &#x7A0B;&#x5E8F;&#x81EA;&#x5DF1;&#x7BA1;&#x7406;&#x81EA;&#x5DF1;&#x7684;&#x5DE5;&#x4EBA;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0D;&#x77E5;&#x9053;&#xFF09;&#x3002;</li>
<li><strong>&#x4F8B;&#x5982;&#xFF1A;</strong> &#x542F;&#x52A8;&#x4E00;&#x4E2A; <code>goroutine</code> &#x5185;&#x5B58;&#x5F00;&#x9500;&#x6781;&#x5C0F;&#xFF08;&#x6BD4;&#x5982; 2KB&#xFF09;&#x3002;&#x4F60;&#x53EF;&#x4EE5;<strong>&#x8F7B;&#x677E;&#x8DD1;&#x51E0;&#x767E;&#x4E07;&#x4E2A;</strong> <code>goroutine</code>&#x3002;</li>
</ul>
</li>
</ul>
<p>Go &#x7684; M:N &#x8C03;&#x5EA6;)<br>Go &#x7684;&#x201C;&#x9B54;&#x6CD5;&#x201D;&#x5728;&#x4E8E;&#xFF0C;&#x5B83;&#xFF08;Go &#x8FD0;&#x884C;&#x65F6;&#xFF09;&#x53EA;&#x5411;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF08;OS&#xFF09;&#x7533;&#x8BF7;&#x4E86;&#x5C11;&#x6570;&#x51E0;&#x4E2A;&#x201C;OS &#x7EBF;&#x7A0B;&#x201D;&#xFF08;&#x6BD4;&#x5982; 8 &#x4E2A;&#xFF0C;&#x5BF9;&#x5E94; 8 &#x4E2A; CPU &#x6838;&#x5FC3;&#xFF09;&#x3002;<br>&#x534F;&#x7A0B;&#x7BA1;&#x7406;&#x7531;Go Runtime Go Runtime&#x600E;&#x4E48;&#x505A;&#x7684;&#x5462; &#x4ED6;&#x4F1A;&#x53BB;&#x5411;OS&#x7533;&#x8BF7;&#x5C11;&#x6570;&#x51E0;&#x4E2A;OS&#x7EBF;&#x7A0B; &#x4E00;&#x822C;&#x5BF9;&#x5E94;CPU Cores&#x7684;&#x6570;&#x91CF;</p>
<p>&#x7136;&#x540E;&#xFF0C;Go &#x8FD0;&#x884C;&#x65F6;<strong>&#x81EA;&#x5DF1;</strong>&#x626E;&#x6F14;&#x201C;&#x8C03;&#x5EA6;&#x5458;&#x201D;&#xFF0C;&#x628A;<strong>&#x51E0;&#x767E;&#x4E07;&#x4E2A;</strong> <code>goroutine</code>&#xFF08;&#x4F60;&#x7684;&#x4EFB;&#x52A1;&#xFF09;&#x5728;&#x8FD9; 8 &#x4E2A;&#x201C;OS &#x7EBF;&#x7A0B;&#x201D;&#x4E0A;<strong>&#x98DE;&#x5FEB;&#x5730;&#x5207;&#x6362;</strong>&#x3002;</p>
<p>Go Runtime&#x81EA;&#x5DF1;&#x5C31;&#x662F;&#x90A3;&#x4E2A;&#x64CD;&#x4F5C;8&#x4E2A;OS&#x7EBF;&#x7A0B;&#x7684;&#x8C03;&#x5EA6;&#x5458; &#x4ED6;&#x628A;&#x51E0;&#x767E;&#x4E07;&#x4E2A;goroutinue&#x5728;&#x8FD9;8&#x4E2A;OS&#x7EBF;&#x7A0B;&#x4E0A;&#x98DE;&#x5FEB;&#x5207;&#x6362;</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    (&#x4F60;&#x7684;&#x51E0;&#x767E;&#x4E07;&#x4E2A; <span class="title class_">Goroutines</span>)</span><br><span class="line"><span class="variable constant_">G1</span>   <span class="variable constant_">G2</span>   <span class="variable constant_">G3</span>   <span class="variable constant_">G4</span>   <span class="variable constant_">G5</span>   <span class="variable constant_">G6</span>   <span class="variable constant_">G7</span>   <span class="variable constant_">G8</span> ... <span class="variable constant_">G1</span>,<span class="number">000</span>,<span class="number">000</span></span><br><span class="line"> \    |    <span class="regexp">/    \    |    /</span>    \    |</span><br><span class="line">  \   |   <span class="regexp">/      \   |   /</span>      \   |</span><br><span class="line">   (<span class="title class_">Go</span> &#x8FD0;&#x884C;&#x65F6; <span class="string">&quot;&#x8C03;&#x5EA6;&#x5668;&quot;</span> - <span class="title class_">Scheduler</span>)</span><br><span class="line">    \ | <span class="regexp">/          \ | /</span></span><br><span class="line">  +-------+      +-------+</span><br><span class="line">  | <span class="variable constant_">OS</span> &#x7EBF;&#x7A0B;<span class="number">1</span> |      | <span class="variable constant_">OS</span> &#x7EBF;&#x7A0B;<span class="number">2</span> |  (&#x7531;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x7684;&#x201C;&#x771F;&#xB7;&#x5DE5;&#x4EBA;&#x201D;)</span><br><span class="line">  +-------+      +-------+</span><br><span class="line">     ^              ^</span><br><span class="line">     |              |</span><br><span class="line">  +-------+      +-------+</span><br><span class="line">  | <span class="variable constant_">CPU</span> &#x6838;&#x5FC3;<span class="number">1</span>|      | <span class="variable constant_">CPU</span> &#x6838;&#x5FC3;<span class="number">2</span>|</span><br><span class="line">  +-------+      +-------+</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="Channel-The-Pipe-&#x5B89;&#x5168;&#x7BA1;&#x9053;"><a href="#Channel-The-Pipe-&#x5B89;&#x5168;&#x7BA1;&#x9053;" class="headerlink" title="Channel (The Pipe - &#x5B89;&#x5168;&#x7BA1;&#x9053;)"></a>Channel (The Pipe - &#x5B89;&#x5168;&#x7BA1;&#x9053;)</h3><p>&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x6709;&#x80FD;&#x529B;<strong>&#x540C;&#x65F6;</strong>&#x8DD1;&#x51E0;&#x767E;&#x4E07;&#x4E2A; <code>goroutine</code>&#xFF08;&#x5DE5;&#x4EBA;&#xFF09;&#x4E86;&#x3002;</p>
<p><strong>&#x65B0;&#x95EE;&#x9898;&#x6765;&#x4E86;&#xFF1A;</strong></p>
<ol>
<li><code>main</code> &#x5DE5;&#x4EBA;&#x5982;&#x4F55;&#x77E5;&#x9053;&#x201C;&#x5DE5;&#x4EBA;G&#x201D;<strong>&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x5E72;&#x5B8C;</strong>&#xFF1F;&#xFF08;<code>time.Sleep</code> &#x663E;&#x7136;&#x662F;&#x731C;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x9760;&#xFF09;</li>
<li>&#x5982;&#x679C;&#x201C;&#x5DE5;&#x4EBA;G&#x201D;&#x7B97;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#xFF08;&#x6BD4;&#x5982; <code>c = a + b</code>&#xFF09;&#xFF0C;&#x5B83;&#x5982;&#x4F55;<strong>&#x5B89;&#x5168;&#x5730;</strong>&#x628A;&#x8FD9;&#x4E2A;&#x7ED3;&#x679C;<strong>&#x4F20;&#x9012;</strong>&#x7ED9; <code>main</code> &#x5DE5;&#x4EBA;&#xFF1F;</li>
</ol>
<p>&#xFF08;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x8BB2;&#x8FC7;&#x201C;&#x6570;&#x636E;&#x51B2;&#x7A81; Race Condition&#x201D;&#xFF0C;&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x5DE5;&#x4EBA;&#x540C;&#x65F6;&#x5199;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x6570;&#x636E;&#x5C31;&#x9519;&#x4E86;&#x3002;&#x6211;&#x4EEC;<strong>&#x4E0D;</strong>&#x60F3;&#x7528;&#x201C;&#x9501;&#x201D;<code>sync.Mutex</code>&#x3002;&#xFF09;</p>
<p><strong><code>channel</code> (&#x901A;&#x9053;) &#x5C31;&#x662F; Go &#x8BED;&#x8A00;&#x7684;&#x7B54;&#x6848;&#x3002;</strong></p>
<ul>
<li><p><strong>&#x6838;&#x5FC3;&#x6982;&#x5FF5;&#xFF1A;</strong> Channel &#x662F;&#x4E00;&#x4E2A;&#x201C;<strong>&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x7684;&#x7BA1;&#x9053;</strong>&#x201D;&#xFF0C;goroutine &#x4EEC;&#x53EF;&#x4EE5;&#x7528;&#x5B83;&#x6765;<strong>&#x901A;&#x4FE1;</strong>&#x548C;<strong>&#x540C;&#x6B65;</strong>&#x3002;</p>
</li>
<li><p><strong>Go &#x7684;&#x54F2;&#x5B66;&#xFF1A;</strong></p>
<blockquote>
<p>&#x201C;Don&#x2019;t communicate by sharing memory; instead, share memory by communicating.&#x201D;</p>
</blockquote>
<ul>
<li><strong>&#x201C;Don&#x2019;t communicate by sharing memory&#x201D;</strong> (&#x4E0D;&#x8981;&#x901A;&#x8FC7;&#x5171;&#x4EAB;&#x5185;&#x5B58;&#x6765;&#x901A;&#x4FE1;)<ul>
<li><strong>&#x8FD9;&#x6307;&#x7684;&#x662F;&#xFF1A;</strong> &#x4E0D;&#x8981;&#x8BA9; <code>main</code> &#x5DE5;&#x4EBA;&#x548C; <code>&#x5DE5;&#x4EBA;G</code> &#x540C;&#x65F6;&#x53BB;&#x8BFB;&#x5199;&#x4E00;&#x4E2A;<strong>&#x5171;&#x4EAB;&#x53D8;&#x91CF;</strong> <code>total_views</code>&#x3002;&#xFF08;&#x8FD9;&#x662F;&#x201C;&#x65E7;&#x65B9;&#x6CD5;&#x201D;&#xFF0C;&#x9700;&#x8981;&#x201C;&#x9501;&#x201D;&#xFF0C;&#x5F88;&#x5371;&#x9669;&#xFF09;&#x3002;</li>
</ul>
</li>
<li><strong>&#x201C;share memory by communicating&#x201D;</strong> (&#x901A;&#x8FC7;&#x901A;&#x4FE1;&#x6765;&#x5171;&#x4EAB;&#x5185;&#x5B58;)<ul>
<li><strong>&#x8FD9;&#x6307;&#x7684;&#x662F;&#xFF1A;</strong> &#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <code>channel</code> (&#x5B89;&#x5168;&#x7BA1;&#x9053;)&#x3002;</li>
<li><code>&#x5DE5;&#x4EBA;G</code> &#x7B97;&#x5B8C;&#x7ED3;&#x679C;&#x540E;&#xFF0C;&#x628A;&#x7ED3;&#x679C;<strong>&#x653E;&#x8FDB;</strong>&#x7BA1;&#x9053;&#x91CC;&#x3002;</li>
<li><code>main</code> &#x5DE5;&#x4EBA;<strong>&#x5B88;&#x5728;</strong>&#x7BA1;&#x9053;&#x51FA;&#x53E3;&#xFF0C;<strong>&#x7B49;&#x5F85;</strong>&#x7ED3;&#x679C;&#x4ECE;&#x7BA1;&#x9053;&#x91CC;&#x51FA;&#x6765;&#x3002;<br>  main&#x770B;&#x7684;&#x662F;channel &#x800C;&#x5DE5;&#x4EBA;&#x5BF9;&#x63A5;&#x7684;&#x4E5F;&#x662F;channel</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Channel-&#x7684;&#x8BED;&#x6CD5;"><a href="#Channel-&#x7684;&#x8BED;&#x6CD5;" class="headerlink" title="Channel &#x7684;&#x8BED;&#x6CD5;"></a>Channel &#x7684;&#x8BED;&#x6CD5;</h3><p>Channel&#x7528;make&#x6765;&#x521B;&#x5EFA; ch:= make( chan int)</p>
<p>&#x4F7F;&#x7528;&#x2190;&#x5DE6;&#x7BAD;&#x5934;&#x585E;&#x5165;&#x6570;&#x5B57;&#x5230;Channel&#x91CC;</p>
<p>&#x7136;&#x540E;&#x53D8;&#x91CF;&#x901A;&#x8FC7;&#x2190;channel&#x53D8;&#x91CF;&#x6765;&#x63A5;&#x53D7;</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. &#x521B;&#x5EFA; (Make)</span></span><br><span class="line"><span class="comment">// &#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x201C;&#x7BA1;&#x9053;&#x201D;&#xFF0C;&#x5B83;&#x53EA;&#x80FD;&#x4F20;&#x8F93; int &#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;</span></span><br><span class="line">ch := <span class="title function_">make</span>(chan int)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. &#x53D1;&#x9001; (Send)</span></span><br><span class="line"><span class="comment">// &#x628A;&#x6570;&#x5B57; 42 &#x201C;&#x585E;&#x8FDB;&#x201D; &#x7BA1;&#x9053; ch</span></span><br><span class="line">ch &lt;- <span class="number">42</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. &#x63A5;&#x6536; (Receive)</span></span><br><span class="line"><span class="comment">// &#x201C;&#x7B49;&#x5F85;&#x201D; ch &#x7BA1;&#x9053;&#x91CC;&#x6709;&#x6570;&#x636E;&#xFF0C;</span></span><br><span class="line"><span class="comment">// &#x7136;&#x540E;&#x628A;&#x5B83;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x653E;&#x8FDB;&#x53D8;&#x91CF; &quot;value&quot;</span></span><br><span class="line">value := <span class="language-xml">&lt;- ch</span></span><br></pre></td></tr></table></figure>

<h3 id="Channel-&#x7684;&#x6838;&#x5FC3;&#x7279;&#x6027;&#xFF1A;&#x963B;&#x585E;-Blocking"><a href="#Channel-&#x7684;&#x6838;&#x5FC3;&#x7279;&#x6027;&#xFF1A;&#x963B;&#x585E;-Blocking" class="headerlink" title="Channel &#x7684;&#x6838;&#x5FC3;&#x7279;&#x6027;&#xFF1A;&#x963B;&#x585E; (Blocking)"></a>Channel &#x7684;&#x6838;&#x5FC3;&#x7279;&#x6027;&#xFF1A;&#x963B;&#x585E; (Blocking)</h3><p>&#x8FD9;&#x662F; <code>channel</code> &#x6700;&#x795E;&#x5947;&#x3001;&#x4E5F;&#x662F;&#x6700;&#x91CD;&#x8981;&#x7684;&#x7279;&#x6027;&#x3002;</p>
<p>&#x5728;&#x8FD9;&#x91CC; &#x963B;&#x585E;&#x662F;&#x5BF9;&#x7684; &#x63A5;&#x53D7;&#x8005;&#x548C;&#x53D1;&#x9001;&#x8005;&#x5FC5;&#x987B;&#x540C;&#x65F6;&#x5230;&#x8FBE;</p>
<p><strong>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;<code>channel</code> &#x662F;&#x201C;&#x65E0;&#x7F13;&#x51B2;&#x201D;&#x7684;&#x3002;</strong></p>
<ul>
<li><strong>&#x8FD9;&#x6307;&#x7684;&#x662F;&#xFF1A;</strong> &#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x201C;<strong>&#x9762;&#x5BF9;&#x9762;&#x4EA4;&#x63A5;</strong>&#x201D;&#x7684;&#x7BA1;&#x9053;&#x3002;&#x5B83;<strong>&#x6CA1;&#x6709;</strong>&#x4E2D;&#x95F4;&#x7684;&#x201C;&#x50A8;&#x7269;&#x67DC;&#x201D;&#x3002;</li>
<li><strong>&#x53D1;&#x9001;&#x8005;</strong> (<code>ch &lt;- 42</code>) &#x5FC5;&#x987B;<strong>&#x548C;</strong> <strong>&#x63A5;&#x6536;&#x8005;</strong> (<code>&lt;- ch</code>) <strong>&#x540C;&#x65F6;&#x5230;&#x573A;</strong>&#x3002;</li>
</ul>
<p><strong>&#x573A;&#x666F;1&#xFF1A;<code>main</code> &#x5DE5;&#x4EBA;&#x5148;&#x201C;&#x53D1;&#x9001;&#x201D;&#xFF0C;<code>&#x5DE5;&#x4EBA;G</code> &#x8FD8;&#x6CA1;&#x51C6;&#x5907;&#x597D;&#x201C;&#x63A5;&#x6536;&#x201D;</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  <span class="title class_">Goroutine</span> (main)            <span class="title class_">Goroutine</span> (&#x5DE5;&#x4EBA;G)</span><br><span class="line">+-----------------------+   +-----------------------+</span><br><span class="line">| ch &lt;- <span class="number">42</span>              |   | (&#x6B63;&#x5728;&#x5FD9;&#x522B;&#x7684;&#x4E8B;...)       |</span><br><span class="line">| (&#x53D1;&#x9001;...)              |   |                       |</span><br><span class="line">| (&#x53D1;&#x73B0;&#x6CA1;&#x4EBA;&#x63A5;&#x6536;...)       |   |                       |</span><br><span class="line">| (<span class="title class_">Main</span> &#x5DE5;&#x4EBA;&#x88AB;&#x201C;&#x963B;&#x585E;&#x201D;&#x4E86;)   |   |                       |</span><br><span class="line">| (&#x6682;&#x505C;&#xFF0C;&#x7761;&#x89C9;)            |   |                       |</span><br><span class="line">+-----------------------+   +-----------------------+</span><br></pre></td></tr></table></figure>

<p><code>main</code> &#x5DE5;&#x4EBA;&#x4F1A;<strong>&#x5361;&#x5728;</strong> <code>ch &lt;- 42</code> &#x8FD9;&#x4E00;&#x884C;&#xFF0C;<strong>&#x76F4;&#x5230;</strong> <code>&#x5DE5;&#x4EBA;G</code> &#x6765;&#x4E86;&#x3002;</p>
<p><strong>&#x573A;&#x666F;2&#xFF1A;<code>&#x5DE5;&#x4EBA;G</code> &#x5148;&#x201C;&#x63A5;&#x6536;&#x201D;&#xFF0C;<code>main</code> &#x5DE5;&#x4EBA;&#x8FD8;&#x6CA1;&#x201C;&#x53D1;&#x9001;&#x201D;</strong></p>
<p>&#x4EE3;&#x7801;&#x6BB5;</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  <span class="title class_">Goroutine</span> (main)            <span class="title class_">Goroutine</span> (&#x5DE5;&#x4EBA;G)</span><br><span class="line">+-----------------------+   +-----------------------+</span><br><span class="line">| (&#x6B63;&#x5728;&#x5FD9;&#x522B;&#x7684;&#x4E8B;...)       |   | value := <span class="language-xml">&lt;- ch        |</span></span><br><span class="line"><span class="language-xml">|                       |   | (&#x63A5;&#x6536;...)             |</span></span><br><span class="line"><span class="language-xml">|                       |   | (&#x53D1;&#x73B0;&#x7BA1;&#x9053;&#x662F;&#x7A7A;&#x7684;...)     |</span></span><br><span class="line"><span class="language-xml">|                       |   | (&#x5DE5;&#x4EBA;G &#x88AB;&#x201C;&#x963B;&#x585E;&#x201D;&#x4E86;)    |</span></span><br><span class="line"><span class="language-xml">|                       |   | (&#x6682;&#x505C;&#xFF0C;&#x7761;&#x89C9;)          |</span></span><br><span class="line"><span class="language-xml">+-----------------------+   +-----------------------+</span></span><br></pre></td></tr></table></figure>

<p><code>&#x5DE5;&#x4EBA;G</code> &#x4F1A;<strong>&#x5361;&#x5728;</strong> <code>value := &lt;- ch</code> &#x8FD9;&#x4E00;&#x884C;&#xFF0C;<strong>&#x76F4;&#x5230;</strong> <code>main</code> &#x5DE5;&#x4EBA;&#x6765;&#x4E86;&#x3002;</p>
<p><strong>&#x573A;&#x666F;3&#xFF1A;<code>main</code> &#x548C; <code>G</code> &#x5B8C;&#x7F8E;&#x201C;&#x4EA4;&#x63A5;&#x201D;</strong></p>
<ol>
<li><code>G</code> &#x5148;&#x5230;&#xFF0C;&#x6267;&#x884C; <code>&lt;- ch</code>&#xFF0C;<strong>&#x88AB;&#x963B;&#x585E;</strong>&#x3002;</li>
<li><code>main</code> &#x6765;&#x4E86;&#xFF0C;&#x6267;&#x884C; <code>ch &lt;- 42</code>&#x3002;</li>
<li>Go &#x8FD0;&#x884C;&#x65F6;&#x53D1;&#x73B0; <code>G</code> &#x6B63;&#x5728;&#x7B49;&#x6570;&#x636E;&#x3002;</li>
<li><code>42</code> &#x8FD9;&#x4E2A;&#x503C;<strong>&#x88AB;&#x76F4;&#x63A5;</strong>&#x4ECE; <code>main</code> &#x4F20;&#x9012;&#x7ED9;&#x4E86; <code>G</code>&#x3002;</li>
<li><strong>&#x4E24;&#x4E2A; goroutine &#x90FD;&#x88AB;&#x201C;&#x5524;&#x9192;&#x201D;&#xFF0C;&#x5B83;&#x4EEC;&#x5404;&#x81EA;&#x7EE7;&#x7EED;&#x5F80;&#x4E0B;&#x6267;&#x884C;&#x3002;</strong></li>
</ol>
<p><strong>&#x7ED3;&#x8BBA;&#xFF1A;</strong><code>channel</code> <strong>&#x540C;&#x65F6;</strong>&#x89E3;&#x51B3;&#x4E86;&#x4E24;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;</p>
<ol>
<li><strong>&#x6570;&#x636E;&#x4F20;&#x9012;&#xFF1A;</strong> <code>42</code> &#x88AB;&#x5B89;&#x5168;&#x5730;&#x4F20;&#x8FC7;&#x53BB;&#x4E86;&#x3002;</li>
<li><strong>&#x540C;&#x6B65; (Synchronization)&#xFF1A;</strong> <code>main</code> &#x548C; <code>G</code> &#x901A;&#x8FC7;&#x201C;&#x7B49;&#x5F85;&#x4EA4;&#x63A5;&#x201D;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x77E5;&#x9053;&#x4E86;&#x5BF9;&#x65B9;&#x5DF2;&#x7ECF;&#x201C;&#x51C6;&#x5907;&#x597D;&#x4E86;&#x201D;&#x3002;<strong>&#x6211;&#x4EEC;&#x4E0D;&#x518D;&#x9700;&#x8981; <code>time.Sleep</code> &#x4E86;&#xFF01;</strong></li>
</ol>
<hr>
<h3 id="Goroutine-Channel-&#x534F;&#x540C;&#x4F5C;&#x6218;-&#x6700;&#x4F73;&#x5B9E;&#x8DF5;"><a href="#Goroutine-Channel-&#x534F;&#x540C;&#x4F5C;&#x6218;-&#x6700;&#x4F73;&#x5B9E;&#x8DF5;" class="headerlink" title="Goroutine + Channel &#x534F;&#x540C;&#x4F5C;&#x6218; (&#x6700;&#x4F73;&#x5B9E;&#x8DF5;)"></a>Goroutine + Channel &#x534F;&#x540C;&#x4F5C;&#x6218; (&#x6700;&#x4F73;&#x5B9E;&#x8DF5;)</h3><p>&#x6211;&#x4EEC;&#x7528; <code>channel</code> &#x6765;&#x201C;&#x6B63;&#x786E;&#x5730;&#x201D;&#x91CD;&#x5199;&#x6211;&#x4EEC;&#x6700;&#x5F00;&#x59CB;&#x7684;&#x90A3;&#x4E2A;&#x4F8B;&#x5B50;&#x3002;</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// (1) &#x6211;&#x4EEC;&#x8BA9;&#x51FD;&#x6570;&#x628A;&#x201C;&#x5B8C;&#x6210;&#x4FE1;&#x53F7;&#x201D;&#x53D1;&#x9001;&#x5230;&#x7BA1;&#x9053;</span></span><br><span class="line"><span class="comment">// (chan bool) &#x7684;&#x610F;&#x601D;&#x662F;&#x201C;&#x4E00;&#x4E2A;&#x4F20;&#x8F93;&#x5E03;&#x5C14;&#x503C;(true/false)&#x7684;&#x7BA1;&#x9053;&#x201D;</span></span><br><span class="line">&#x53C2;&#x6570;&#x91CC; &#x53C2;&#x6570;&#x53D8;&#x91CF; chan&#x6307;&#x660E;&#x662F;&#x4E00;&#x4E2A;channel bool&#x6307;&#x660E;&#x7BA1;&#x9053;&#x4F20;&#x8F93;&#x7684;&#x5177;&#x4F53;&#x7C7B;&#x578B; &#x6240;&#x4EE5;&#x7BA1;&#x9053;&#x9700;&#x8981;&#x6307;&#x660E;&#x4F20;&#x8F93;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; &#x4E0D;&#x662F;&#x901A;&#x7528;&#x7684;</span><br><span class="line">func <span class="title function_">doSomethingSlow</span>(<span class="params">done chan bool</span>) { &#x5728;&#x8FD9;&#x91CC;&#x5B9A;&#x4E49;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x9700;&#x8981;go&#x5173;&#x952E;&#x5B57;</span><br><span class="line">    </span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;  (B) &#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF1A;&#x5F00;&#x59CB;... (&#x9700;&#x8981;&#x7761;2&#x79D2;)&quot;</span>)</span><br><span class="line">    time.<span class="title class_">Sleep</span>(<span class="number">2</span> * time.<span class="property">Second</span>)</span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;  (C) &#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF1A;&#x5B8C;&#x6210;&#xFF01;&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (2) &#x1F6A9; &#x5DE5;&#x4F5C;&#x5B8C;&#x6210;&#xFF01;</span></span><br><span class="line">    <span class="comment">// &#x5411; &quot;done&quot; &#x7BA1;&#x9053;&#x53D1;&#x9001;&#x4E00;&#x4E2A; &quot;true&quot;</span></span><br><span class="line">    done &lt;- <span class="literal">true</span> </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">func <span class="title function_">main</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="comment">// (A) Main&#xFF1A;&#x5F00;&#x59CB;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// (3) &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x201C;&#x4FE1;&#x53F7;&#x7BA1;&#x9053;&#x201D;</span></span><br><span class="line">    doneChannel := <span class="title function_">make</span>(chan bool)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (4) &#x96C7;&#x4F63;&#x201C;&#x5DE5;&#x4EBA;G&#x201D;&#xFF0C;&#x5E76;&#x628A;&#x201C;&#x7BA1;&#x9053;&#x201D;&#x4EA4;&#x7ED9;&#x4ED6;</span></span><br><span class="line">    go <span class="title function_">doSomethingSlow</span>(doneChannel)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (5) &#x1F6A9; &quot;main&quot; &#x5DE5;&#x4EBA;&#x6267;&#x884C;&#x5230;&#x8FD9;&#x91CC;</span></span><br><span class="line">    <span class="comment">// &#x5B83;&#x5F00;&#x59CB;&#x201C;&#x7B49;&#x5F85;&#x201D;... (&lt;- doneChannel)</span></span><br><span class="line">    <span class="comment">// &#x5B83;&#x4F1A;&#x4E00;&#x76F4;&#x201C;&#x963B;&#x585E;&#x201D;&#x5728;&#x8FD9;&#x91CC;...</span></span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;(D) Main&#xFF1A;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x5DE5;&#x4EBA;G&#x5B8C;&#x6210;...&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    &lt;- doneChannel <span class="comment">// (&#x7A0B;&#x5E8F;&#x4F1A;&#x5361;&#x5728;&#x8FD9;&#x91CC;) </span></span><br><span class="line">    main&#x51FD;&#x6570;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;main goroutinue &#x4ED6;&#x5728;&#x8FD9;&#x91CC;&#x7B49;&#x5F85;channel&#x4F20;&#x6765;&#x6570;&#x636E;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (6) ... 2&#x79D2;&#x540E;, &#x201C;&#x5DE5;&#x4EBA;G&#x201D; &#x53D1;&#x9001;&#x4E86; true ...</span></span><br><span class="line">    <span class="comment">// (7) ... &quot;main&quot; &#x5DE5;&#x4EBA;&#x6536;&#x5230;&#x4E86;&#x4FE1;&#x53F7;, &#x201C;&#x963B;&#x585E;&#x201D;&#x89E3;&#x9664; ...</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// (8) &quot;main&quot; &#x5DE5;&#x4EBA;&#x7EE7;&#x7EED;&#x6267;&#x884C;</span></span><br><span class="line">    fmt.<span class="title class_">Println</span>(<span class="string">&quot;(E) Main&#xFF1A;&#x7ED3;&#x675F;&quot;</span>)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>&#x8FD9;&#x6B21;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C; (&#x5B8C;&#x7F8E;&#xFF01;)&#xFF1A;</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(A) <span class="title class_">Main</span>&#xFF1A;&#x5F00;&#x59CB;</span><br><span class="line">(D) <span class="title class_">Main</span>&#xFF1A;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x5DE5;&#x4EBA;G&#x5B8C;&#x6210;...</span><br><span class="line">  (B) &#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF1A;&#x5F00;&#x59CB;... (&#x9700;&#x8981;&#x7761;<span class="number">2</span>&#x79D2;)</span><br><span class="line">  (C) &#x6162;&#x901F;&#x4EFB;&#x52A1;&#xFF1A;&#x5B8C;&#x6210;&#xFF01;</span><br><span class="line">(E) <span class="title class_">Main</span>&#xFF1A;&#x7ED3;&#x675F;</span><br></pre></td></tr></table></figure>

<p>&#x4EE3;&#x7801;&#x6BB5;</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  <span class="title class_">Goroutine</span> (main)                       <span class="title class_">Goroutine</span> (&#x5DE5;&#x4EBA;G)</span><br><span class="line">+------------------------------------+  +------------------------------------+</span><br><span class="line">| (A) &#x6253;&#x5370;                             |  |                                    |</span><br><span class="line">| (<span class="number">3</span>) &#x521B;&#x5EFA; doneChannel               |  |                                    |</span><br><span class="line">| (<span class="number">4</span>) go <span class="title function_">doSomethingSlow</span>(doneChannel)|  |                                    |</span><br><span class="line">| (<span class="number">5</span>) &#x6253;&#x5370; (D)                       |  | (B) &#x6253;&#x5370;                           |</span><br><span class="line">| ( ) &#x6267;&#x884C; &lt;- doneChannel            |  | ( ) &#x7761;&#x89C9; <span class="number">2</span> &#x79D2;...                    |</span><br><span class="line">| ( ) (&#x88AB;&#x963B;&#x585E;... &#x7B49;&#x5F85;&#x4FE1;&#x53F7;)           |  | (C) &#x6253;&#x5370;                             |</span><br><span class="line">|                                    |  | (<span class="number">2</span>) &#x6267;&#x884C; doneChannel &lt;- <span class="literal">true</span>       |</span><br><span class="line">| (<span class="number">7</span>) (&#x6536;&#x5230;&#x4FE1;&#x53F7;! &#x963B;&#x585E;&#x89E3;&#x9664;)           |  | ( ) (&#x53D1;&#x9001;&#x6210;&#x529F;! &#x5DE5;&#x4EBA;G &#x7ED3;&#x675F;)              |</span><br><span class="line">| (<span class="number">8</span>) &#x6253;&#x5370; (E)                       |  |                                    |</span><br><span class="line">| ( ) main &#x9000;&#x51FA;                      |  |                                    |</span><br><span class="line">+------------------------------------+  +------------------------------------+</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x5C31;&#x662F; Go &#x8BED;&#x8A00;&#x5E76;&#x53D1;&#x7684;<strong>&#x6838;&#x5FC3;&#x6A21;&#x5F0F;</strong>&#xFF1A;</p>
<ul>
<li>&#x4F7F;&#x7528; <code>go</code> &#x5173;&#x952E;&#x5B57;<strong>&#x542F;&#x52A8;&#x5E76;&#x53D1;&#x4EFB;&#x52A1;</strong>&#x3002;</li>
<li>&#x4F7F;&#x7528; <code>channel</code> &#x5728;&#x4EFB;&#x52A1;&#x95F4;<strong>&#x5B89;&#x5168;&#x5730;&#x4F20;&#x9012;&#x6570;&#x636E;</strong>&#x5E76;<strong>&#x5B9E;&#x73B0;&#x540C;&#x6B65;</strong>&#x3002;</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Go/" rel="tag"># Go</a>
              <a href="/tags/Backend/" rel="tag"># Backend</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/10/02/2025-10-02-Web3-2025%20copy/" rel="prev" title="Web3 is fun">
      <i class="fa fa-chevron-left"></i> Web3 is fun
    </a></div>
      <div class="post-nav-item">
    <a href="/2025/12/05/2025-12-05-%E7%AA%81%E5%87%BB%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97-2025/" rel="next" title="突击数值分析有感">
      突击数值分析有感 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%EF%BC%9A%E4%BB%A3%E7%A0%81%E6%98%AF%E2%80%9C%E4%B8%80%E6%A0%B9%E7%AD%8B%E2%80%9D%E7%9A%84-Sequential"><span class="nav-number">1.</span> <span class="nav-text">问题：代码是“一根筋”的 (Sequential)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Goroutine-The-Worker-%E5%B7%A5%E4%BA%BA"><span class="nav-number">2.</span> <span class="nav-text">Goroutine (The Worker - 工人)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E4%BD%BF%E7%94%A8-go-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">3.</span> <span class="nav-text">1. 使用 go 关键字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%AD%A3%EF%BC%9A%E8%AE%A9-main-%E7%AD%89%E5%BE%85"><span class="nav-number">4.</span> <span class="nav-text">修正：让 main 等待</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Goroutine-vs-OS-Thread-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%BA%BF%E7%A8%8B"><span class="nav-number">5.</span> <span class="nav-text">Goroutine vs. OS Thread (操作系统线程)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Channel-The-Pipe-%E5%AE%89%E5%85%A8%E7%AE%A1%E9%81%93"><span class="nav-number">6.</span> <span class="nav-text">Channel (The Pipe - 安全管道)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Channel-%E7%9A%84%E8%AF%AD%E6%B3%95"><span class="nav-number">7.</span> <span class="nav-text">Channel 的语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Channel-%E7%9A%84%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7%EF%BC%9A%E9%98%BB%E5%A1%9E-Blocking"><span class="nav-number">8.</span> <span class="nav-text">Channel 的核心特性：阻塞 (Blocking)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Goroutine-Channel-%E5%8D%8F%E5%90%8C%E4%BD%9C%E6%88%98-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="nav-number">9.</span> <span class="nav-text">Goroutine + Channel 协同作战 (最佳实践)</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Victor Chen"
      src="/images/Selfie.jpg">
  <p class="site-author-name" itemprop="name">Victor Chen</p>
  <div class="site-description" itemprop="description">Victor Chen's English Blog</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">31</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/tju-tomorrow" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;tju-tomorrow" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/chendasd33@gmail.com" title="E-Mail → chendasd33@gmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tju-tomorrow.github.io/guestbook/" title="Weixin → https:&#x2F;&#x2F;tju-tomorrow.github.io&#x2F;guestbook&#x2F;"><i class="fab fa-weixin fa-fw"></i>Weixin</a>
      </span>
  </div>




  <script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
  <script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div id="myCanvasContainer" class="widget tagcloud">
      <canvas width="250" height="250" id="resCanvas" style="width:100%">
        <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/" rel="tag">AI</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Backend/" rel="tag">Backend</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Backpropagation/" rel="tag">Backpropagation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Browser/" rel="tag">Browser</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-structure/" rel="tag">Data structure</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend/" rel="tag">Frontend</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fun-Info/" rel="tag">Fun Info</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go/" rel="tag">Go</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gradient-Descent/" rel="tag">Gradient Descent</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Interview/" rel="tag">Interview</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/" rel="tag">Javascript</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jottings/" rel="tag">Jottings</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LLM/" rel="tag">LLM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Loss-Function/" rel="tag">Loss Function</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ML/" rel="tag">ML</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Networking/" rel="tag">Networking</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Neural-Network/" rel="tag">Neural Network</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Process/" rel="tag">Process</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Promise/" rel="tag">Promise</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Proxy/" rel="tag">Proxy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server/" rel="tag">Server</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Stack/" rel="tag">Stack</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Transformer/" rel="tag">Transformer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/URL/" rel="tag">URL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/" rel="tag">Vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/" rel="tag">Web</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/axios/" rel="tag">axios</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cheerio/" rel="tag">cheerio</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cs-app/" rel="tag">cs app</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/data-types/" rel="tag">data types</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/domain/" rel="tag">domain</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/" rel="tag">http</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/https/" rel="tag">https</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%84%9F%E6%82%9F/" rel="tag">感悟</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" rel="tag">数据类型</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%96%91%E6%83%91/" rel="tag">疑惑</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" rel="tag">计算机组成原理</a><span class="tag-list-count">3</span></li></ul>
      </canvas>
    </div>
  </div>


      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Victor Chen</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



        
<div class="busuanzi-count" style="font-size: 0.85em; opacity: 0.8;">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: inline-block !important;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        Visitors: <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: inline-block !important;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        Views: <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Come on! ..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'neutral',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : 'Ov23liJsZlMAkl4LjqlF',
      clientSecret: 'decc50a11696ace1c117ace7d17f42ebf90ae5a2',
      repo        : 'tju-tomorrow.github.io',
      owner       : 'tju-tomorrow',
      admin       : ['tju-tomorrow'],
      id          : '1b904447c15ca6b1edf265bc3f99caf4',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>
<!-- 引入樱花动画脚本 -->
<script src="/js/sakura.js"></script>

<!-- 引入自定义搜索脚本 -->
<script src="/js/custom-search.js"></script>
</body>
</html>
